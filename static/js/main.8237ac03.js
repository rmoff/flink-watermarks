/*! For license information please see main.8237ac03.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},146:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.camelCase=void 0;var n=/^--[a-zA-Z0-9_-]+$/,r=/-([a-z])/g,i=/^[^-]+$/,o=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,s=function(e,t){return t.toUpperCase()},l=function(e,t){return"".concat(t,"-")};t.camelCase=function(e,t){return void 0===t&&(t={}),function(e){return!e||i.test(e)||n.test(e)}(e)?e:(e=e.toLowerCase(),(e=t.reactCompat?e.replace(a,l):e.replace(o,l)).replace(r,s))}},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:o,_owner:s.current}}t.Fragment=o,t.jsx=u,t.jsxs=u},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,g(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,_=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,i)&&!S.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:k.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var P=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function I(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===o?"."+T(l,0):o,x(a)?(i="",null!=e&&(i=e.replace(P,"$&/")+"/"),I(a,t,i,"",function(e){return e})):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(P,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",x(e))for(var u=0;u<e.length;u++){var c=o+T(s=e[u],u);l+=I(s,t,i,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=I(s=s.value,t,i,c=o+T(s,u++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",function(e){return t.call(n,e,i++)}),r}function M(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},F={transition:null},L={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:F,ReactCurrentOwner:k};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)_.call(t,u)&&!S.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=F.transition;F.transition={};try{e()}finally{F.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},222:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=null;if(!e||"string"!==typeof e)return n;var r=(0,i.default)(e),o="function"===typeof t;return r.forEach(function(e){if("declaration"===e.type){var r=e.property,i=e.value;o?t(r,i,e):i&&((n=n||{})[r]=i)}}),n};var i=r(n(403))},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>o(l,n))u<i&&0>o(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<i&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,h=null,p=3,f=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function x(e){if(m=!1,w(e),!g)if(null!==r(u))g=!0,F(_);else{var t=r(c);null!==t&&L(x,t.startTime-e)}}function _(e,n){g=!1,m&&(m=!1,y(C),C=-1),f=!0;var o=p;try{for(w(n),h=r(u);null!==h&&(!(h.expirationTime>n)||e&&!I());){var a=h.callback;if("function"===typeof a){h.callback=null,p=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(u)&&i(u),w(n)}else i(u);h=r(u)}if(null!==h)var l=!0;else{var d=r(c);null!==d&&L(x,d.startTime-n),l=!1}return l}finally{h=null,p=o,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,E=null,C=-1,P=5,T=-1;function I(){return!(t.unstable_now()-T<P)}function A(){if(null!==E){var e=t.unstable_now();T=e;var n=!0;try{n=E(!0,e)}finally{n?k():(S=!1,E=null)}}else S=!1}if("function"===typeof b)k=function(){b(A)};else if("undefined"!==typeof MessageChannel){var M=new MessageChannel,R=M.port2;M.port1.onmessage=A,k=function(){R.postMessage(null)}}else k=function(){v(A,0)};function F(e){E=e,S||(S=!0,k())}function L(e,n){C=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,F(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(c,e),null===r(u)&&e===r(c)&&(m?(y(C),C=-1):m=!0,L(x,o-a))):(e.sortIndex=s,n(u,e),g||f||(g=!0,F(_))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},240:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=function(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===n.call(e)},a=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var r,i=t.call(e,"constructor"),o=e.constructor&&e.constructor.prototype&&t.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!i&&!o)return!1;for(r in e);return"undefined"===typeof r||t.call(e,r)},s=function(e,t){r&&"__proto__"===t.name?r(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},l=function(e,n){if("__proto__"===n){if(!t.call(e,n))return;if(i)return i(e,n).value}return e[n]};e.exports=function e(){var t,n,r,i,u,c,d=arguments[0],h=1,p=arguments.length,f=!1;for("boolean"===typeof d&&(f=d,d=arguments[1]||{},h=2),(null==d||"object"!==typeof d&&"function"!==typeof d)&&(d={});h<p;++h)if(null!=(t=arguments[h]))for(n in t)r=l(d,n),d!==(i=l(t,n))&&(f&&i&&(a(i)||(u=o(i)))?(u?(u=!1,c=r&&o(r)?r:[]):c=r&&a(r)?r:{},s(d,{name:n,newValue:e(f,c,i)})):"undefined"!==typeof i&&s(d,{name:n,newValue:i}));return d}},294:function(e,t,n){"use strict";var r=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(n(222)),i=n(146);function o(e,t){var n={};return e&&"string"===typeof e?((0,r.default)(e,function(e,r){e&&r&&(n[(0,i.camelCase)(e,t)]=r)}),n):n}o.default=o,e.exports=o},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},403:e=>{var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,r=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,l=/^\s+|\s+$/g,u="";function c(e){return e?e.replace(l,u):u}e.exports=function(e,l){if("string"!==typeof e)throw new TypeError("First argument must be a string");if(!e)return[];l=l||{};var d=1,h=1;function p(e){var t=e.match(n);t&&(d+=t.length);var r=e.lastIndexOf("\n");h=~r?e.length-r:h+e.length}function f(){var e={line:d,column:h};return function(t){return t.position=new g(e),b(),t}}function g(e){this.start=e,this.end={line:d,column:h},this.source=l.source}g.prototype.content=e;var m=[];function v(t){var n=new Error(l.source+":"+d+":"+h+": "+t);if(n.reason=t,n.filename=l.source,n.line=d,n.column=h,n.source=e,!l.silent)throw n;m.push(n)}function y(t){var n=t.exec(e);if(n){var r=n[0];return p(r),e=e.slice(r.length),n}}function b(){y(r)}function w(e){var t;for(e=e||[];t=x();)!1!==t&&e.push(t);return e}function x(){var t=f();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;u!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,u===e.charAt(n-1))return v("End of comment missing");var r=e.slice(2,n-2);return h+=2,p(r),e=e.slice(n),h+=2,t({type:"comment",comment:r})}}function _(){var e=f(),n=y(i);if(n){if(x(),!y(o))return v("property missing ':'");var r=y(a),l=e({type:"declaration",property:c(n[0].replace(t,u)),value:r?c(r[0].replace(t,u)):u});return y(s),l}}return b(),function(){var e,t=[];for(w(t);e=_();)!1!==e&&(t.push(e),w(t));return t}()}},579:(e,t,n)=>{"use strict";e.exports=n(153)},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){m[e]=new g(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){m[e]=new g(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){m[e]=new g(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){m[e]=new g(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){m[e]=new g(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)}),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),_=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),P=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var F=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var O,j=Object.assign;function N(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var z=!1;function B(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?N(e):""}function $(e){switch(e.tag){case 5:return N(e.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case _:return"Portal";case E:return"Profiler";case S:return"StrictMode";case I:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case M:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function U(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function K(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=U(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=U(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,U(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+U(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:U(n)}}function oe(e,t){var n=U(t.value),r=U(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ce(e,t)})}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var ve=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,ke=null,Se=null;function Ee(e){if(e=bi(e)){if("function"!==typeof _e)throw Error(o(280));var t=e.stateNode;t&&(t=xi(t),_e(e.stateNode,e.type,t))}}function Ce(e){ke?Se?Se.push(e):Se=[e]:ke=e}function Pe(){if(ke){var e=ke,t=Se;if(Se=ke=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Te(e,t){return e(t)}function Ie(){}var Ae=!1;function Me(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Te(e,t,n)}finally{Ae=!1,(null!==ke||null!==Se)&&(Ie(),Pe())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Fe=!1;if(c)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Fe=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ce){Fe=!1}function De(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Oe=!1,je=null,Ne=!1,ze=null,Be={onError:function(e){Oe=!0,je=e}};function $e(e,t,n,r,i,o,a,s,l){Oe=!1,je=null,De.apply(Be,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ue(e){if(He(e)!==e)throw Error(o(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ue(i),e;if(a===r)return Ue(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ye=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ke=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,_t,kt,St,Et,Ct=!1,Pt=[],Tt=null,It=null,At=null,Mt=new Map,Rt=new Map,Ft=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Mt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Ot(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=yi(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void Et(e.priority,function(){kt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Nt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function zt(e,t,n){Nt(e)&&n.delete(t)}function Bt(){Ct=!1,null!==Tt&&Nt(Tt)&&(Tt=null),null!==It&&Nt(It)&&(It=null),null!==At&&Nt(At)&&(At=null),Mt.forEach(zt),Rt.forEach(zt)}function $t(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Ht(e){function t(t){return $t(t,e)}if(0<Pt.length){$t(Pt[0],e);for(var n=1;n<Pt.length;n++){var r=Pt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&$t(Tt,e),null!==It&&$t(It,e),null!==At&&$t(At,e),Mt.forEach(t),Rt.forEach(t),n=0;n<Ft.length;n++)(r=Ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ft.length&&null===(n=Ft[0]).blockedOn;)jt(n),null===n.blockedOn&&Ft.shift()}var Wt=w.ReactCurrentBatchConfig,Ut=!0;function Vt(e,t,n,r){var i=bt,o=Wt.transition;Wt.transition=null;try{bt=1,Yt(e,t,n,r)}finally{bt=i,Wt.transition=o}}function qt(e,t,n,r){var i=bt,o=Wt.transition;Wt.transition=null;try{bt=4,Yt(e,t,n,r)}finally{bt=i,Wt.transition=o}}function Yt(e,t,n,r){if(Ut){var i=Qt(e,t,n,r);if(null===i)Ur(e,t,r,Gt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Ot(Tt,e,t,n,r,i),!0;case"dragenter":return It=Ot(It,e,t,n,r,i),!0;case"mouseover":return At=Ot(At,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Mt.set(o,Ot(Mt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Rt.set(o,Ot(Rt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&xt(o),null===(o=Qt(e,t,n,r))&&Ur(e,t,r,Gt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Ur(e,t,r,null,n)}}var Gt=null;function Qt(e,t,n,r){if(Gt=null,null!==(e=yi(e=xe(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(un),dn=j({},un,{view:0,detail:0}),hn=on(dn),pn=j({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),fn=on(pn),gn=on(j({},pn,{dataTransfer:0})),mn=on(j({},dn,{relatedTarget:0})),vn=on(j({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(j({},un,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function En(){return Sn}var Cn=j({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pn=on(Cn),Tn=on(j({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=on(j({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),An=on(j({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=j({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=on(Mn),Fn=[9,13,27,32],Ln=c&&"CompositionEvent"in window,Dn=null;c&&"documentMode"in document&&(Dn=document.documentMode);var On=c&&"TextEvent"in window&&!Dn,jn=c&&(!Ln||Dn&&8<Dn&&11>=Dn),Nn=String.fromCharCode(32),zn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Fn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $n(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Un(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Vn(e,t,n,r){Ce(r),0<(t=qr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Yn=null;function Gn(e){Nr(e,0)}function Qn(e){if(Y(wi(e)))return e}function Kn(e,t){if("change"===e)return t}var Xn=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Yn=qn=null)}function nr(e){if("value"===e.propertyName&&Qn(Yn)){var t=[];Vn(t,Yn,e,xe(e)),Me(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Yn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Yn)}function or(e,t){if("click"===e)return Qn(t)}function ar(e,t){if("input"===e||"change"===e)return Qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=cr(n,o);var a=cr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==G(r)||("selectionStart"in(r=mr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=qr(vr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},kr={},Sr={};function Er(e){if(kr[e])return kr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return kr[e]=n[t];return e}c&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Cr=Er("animationend"),Pr=Er("animationiteration"),Tr=Er("animationstart"),Ir=Er("transitionend"),Ar=new Map,Mr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Ar.set(e,t),l(t,[e])}for(var Fr=0;Fr<Mr.length;Fr++){var Lr=Mr[Fr];Rr(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Rr(Cr,"onAnimationEnd"),Rr(Pr,"onAnimationIteration"),Rr(Tr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Ir,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,u){if($e.apply(this,arguments),Oe){if(!Oe)throw Error(o(198));var c=je;Oe=!1,je=null,Ne||(Ne=!0,ze=c)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;jr(i,s,u),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;jr(i,s,u),o=l}}}if(Ne)throw e=ze,Ne=!1,ze=null,e}function zr(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var $r="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[$r]){e[$r]=!0,a.forEach(function(t){"selectionchange"!==t&&(Or.has(t)||Br(t,!1,e),Br(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[$r]||(t[$r]=!0,Br("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Kt(t)){case 1:var i=Vt;break;case 4:i=qt;break;default:i=Yt}n=i.bind(null,t,n,e),i=void 0,!Fe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ur(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Me(function(){var r=o,i=xe(n),a=[];e:{var s=Ar.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Pn;break;case"focusin":u="focus",l=mn;break;case"focusout":u="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case Cr:case Pr:case Tr:l=vn;break;case Ir:l=An;break;case"scroll":l=hn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var c=0!==(4&t),d=!c&&"scroll"===e,h=c?null!==s?s+"Capture":null:s;c=[];for(var p,f=r;null!==f;){var g=(p=f).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==h&&(null!=(g=Re(f,h))&&c.push(Vr(f,g,p)))),d)break;f=f.return}0<c.length&&(s=new l(s,u,null,n,i),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(u=n.relatedTarget||n.fromElement)||!yi(u)&&!u[fi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?yi(u):null)&&(u!==(d=He(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=fn,g="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(c=Tn,g="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?s:wi(l),p=null==u?s:wi(u),(s=new c(g,f+"leave",l,n,i)).target=d,s.relatedTarget=p,g=null,yi(i)===r&&((c=new c(h,f+"enter",u,n,i)).target=p,c.relatedTarget=d,g=c),d=g,l&&u)e:{for(h=u,f=0,p=c=l;p;p=Yr(p))f++;for(p=0,g=h;g;g=Yr(g))p++;for(;0<f-p;)c=Yr(c),f--;for(;0<p-f;)h=Yr(h),p--;for(;f--;){if(c===h||null!==h&&c===h.alternate)break e;c=Yr(c),h=Yr(h)}c=null}else c=null;null!==l&&Gr(a,s,l,c,!1),null!==u&&null!==d&&Gr(a,d,u,c,!0)}if("select"===(l=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Kn;else if(Un(s))if(Xn)m=ar;else{m=ir;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=or);switch(m&&(m=m(e,r))?Vn(a,m,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?wi(r):window,e){case"focusin":(Un(v)||"true"===v.contentEditable)&&(mr=v,vr=r,yr=null);break;case"focusout":yr=vr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(a,n,i)}var y;if(Ln)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hn&&(y=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Hn=!0)),0<(v=qr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=$n(n))&&(b.data=y))),(y=On?function(e,t){switch(e){case"compositionend":return $n(t);case"keypress":return 32!==t.which?null:(zn=!0,Nn);case"textInput":return(e=t.data)===Nn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Ln&&Bn(e,t)?(e=en(),Zt=Jt=Xt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Nr(a,t)})}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Re(e,n))&&r.unshift(Vr(e,o,i)),null!=(o=Re(e,t))&&r.push(Vr(e,o,i))),e=e.return}return r}function Yr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=Re(n,o))&&a.unshift(Vr(n,l,s)):i||null!=(l=Re(n,o))&&a.push(Vr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Qr=/\r\n?/g,Kr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Kr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout(function(){throw e})}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ht(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,pi="__reactProps$"+di,fi="__reactContainer$"+di,gi="__reactEvents$"+di,mi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function xi(e){return e[pi]||null}var _i=[],ki=-1;function Si(e){return{current:e}}function Ei(e){0>ki||(e.current=_i[ki],_i[ki]=null,ki--)}function Ci(e,t){ki++,_i[ki]=e.current,e.current=t}var Pi={},Ti=Si(Pi),Ii=Si(!1),Ai=Pi;function Mi(e,t){var n=e.type.contextTypes;if(!n)return Pi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Fi(){Ei(Ii),Ei(Ti)}function Li(e,t,n){if(Ti.current!==Pi)throw Error(o(168));Ci(Ti,t),Ci(Ii,n)}function Di(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,W(e)||"Unknown",i));return j({},n,r)}function Oi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pi,Ai=Ti.current,Ci(Ti,e),Ci(Ii,Ii.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Di(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ii),Ei(Ti),Ci(Ti,e)):Ei(Ii),Ci(Ii,n)}var Ni=null,zi=!1,Bi=!1;function $i(e){null===Ni?Ni=[e]:Ni.push(e)}function Hi(){if(!Bi&&null!==Ni){Bi=!0;var e=0,t=bt;try{var n=Ni;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ni=null,zi=!1}catch(i){throw null!==Ni&&(Ni=Ni.slice(e+1)),Ye(Ze,Hi),i}finally{bt=t,Bi=!1}}return null}var Wi=[],Ui=0,Vi=null,qi=0,Yi=[],Gi=0,Qi=null,Ki=1,Xi="";function Ji(e,t){Wi[Ui++]=qi,Wi[Ui++]=Vi,Vi=e,qi=t}function Zi(e,t,n){Yi[Gi++]=Ki,Yi[Gi++]=Xi,Yi[Gi++]=Qi,Qi=e;var r=Ki;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ki=1<<32-at(t)+i|n<<i|r,Xi=o+e}else Ki=1<<o|n<<i|r,Xi=e}function eo(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function to(e){for(;e===Vi;)Vi=Wi[--Ui],Wi[Ui]=null,qi=Wi[--Ui],Wi[Ui]=null;for(;e===Qi;)Qi=Yi[--Gi],Yi[Gi]=null,Xi=Yi[--Gi],Yi[Gi]=null,Ki=Yi[--Gi],Yi[Gi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Mu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Ki,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Mu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function uo(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ui(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return co(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw po(),Error(o(418));for(;t;)ao(e,t),t=ui(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ui(e.stateNode.nextSibling):null;return!0}function po(){for(var e=ro;e;)e=ui(e.nextSibling)}function fo(){ro=no=null,io=!1}function go(e){null===oo?oo=[e]:oo.push(e)}var mo=w.ReactCurrentBatchConfig;function vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function wo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Fu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=ju(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===R&&bo(o)===t.type)?((r=i(t,n.props)).ref=vo(e,t,n),r.return=e,r):((r=Lu(n.type,n.key,n.props,null,e.mode,r)).ref=vo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Nu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Du(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=ju(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Lu(t.type,t.key,t.props,null,e.mode,n)).ref=vo(e,null,t),n.return=e,n;case _:return(t=Nu(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Du(t,e.mode,n,null)).return=e,t;yo(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?u(e,t,n,r):null;case _:return n.key===i?c(e,t,n,r):null;case R:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||D(n))return null!==i?null:d(e,t,n,r,null);yo(e,n)}return null}function f(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return f(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||D(r))return d(t,e=e.get(n)||null,r,i,null);yo(t,r)}return null}function g(i,o,s,l){for(var u=null,c=null,d=o,g=o=0,m=null;null!==d&&g<s.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=p(i,d,s[g],l);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(i,d),o=a(v,o,g),null===c?u=v:c.sibling=v,c=v,d=m}if(g===s.length)return n(i,d),io&&Ji(i,g),u;if(null===d){for(;g<s.length;g++)null!==(d=h(i,s[g],l))&&(o=a(d,o,g),null===c?u=d:c.sibling=d,c=d);return io&&Ji(i,g),u}for(d=r(i,d);g<s.length;g++)null!==(m=f(d,i,g,s[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),o=a(m,o,g),null===c?u=m:c.sibling=m,c=m);return e&&d.forEach(function(e){return t(i,e)}),io&&Ji(i,g),u}function m(i,s,l,u){var c=D(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var d=c=null,g=s,m=s=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=p(i,g,y.value,u);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(i,g),s=a(b,s,m),null===d?c=b:d.sibling=b,d=b,g=v}if(y.done)return n(i,g),io&&Ji(i,m),c;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=h(i,y.value,u))&&(s=a(y,s,m),null===d?c=y:d.sibling=y,d=y);return io&&Ji(i,m),c}for(g=r(i,g);!y.done;m++,y=l.next())null!==(y=f(g,i,m,y.value,u))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),s=a(y,s,m),null===d?c=y:d.sibling=y,d=y);return e&&g.forEach(function(e){return t(i,e)}),io&&Ji(i,m),c}return function e(r,o,a,l){if("object"===typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var u=a.key,c=o;null!==c;){if(c.key===u){if((u=a.type)===k){if(7===c.tag){n(r,c.sibling),(o=i(c,a.props.children)).return=r,r=o;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===R&&bo(u)===c.type){n(r,c.sibling),(o=i(c,a.props)).ref=vo(r,c,a),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===k?((o=Du(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Lu(a.type,a.key,a.props,null,r.mode,l)).ref=vo(r,o,a),l.return=r,r=l)}return s(r);case _:e:{for(c=a.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Nu(a,r.mode,l)).return=r,r=o}return s(r);case R:return e(r,o,(c=a._init)(a._payload),l)}if(te(a))return g(r,o,a,l);if(D(a))return m(r,o,a,l);yo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=ju(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var xo=wo(!0),_o=wo(!1),ko=Si(null),So=null,Eo=null,Co=null;function Po(){Co=Eo=So=null}function To(e){var t=ko.current;Ei(ko),e._currentValue=t}function Io(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ao(e,t){So=e,Co=Eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Mo(e){var t=e._currentValue;if(Co!==e)if(e={context:e,memoizedValue:t,next:null},null===Eo){if(null===So)throw Error(o(308));Eo=e,So.dependencies={lanes:0,firstContext:e}}else Eo=Eo.next=e;return t}var Ro=null;function Fo(e){null===Ro?Ro=[e]:Ro.push(e)}function Lo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Fo(t)):(n.next=i.next,i.next=n),t.interleaved=n,Do(e,r)}function Do(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oo=!1;function jo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function No(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Do(e,n)}return null===(i=r.interleaved)?(t.next=t,Fo(r)):(t.next=i.next,i.next=t),r.interleaved=t,Do(e,n)}function $o(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ho(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wo(e,t,n,r){var i=e.updateQueue;Oo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===a?o=u:a.next=u,a=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,c=u=l=null,s=o;;){var h=s.lane,p=s.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=e,g=s;switch(h=t,p=n,g.tag){case 1:if("function"===typeof(f=g.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=g.payload)?f.call(p,d,h):f)||void 0===h)break e;d=j({},d,h);break e;case 2:Oo=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=p,l=d):c=c.next=p,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Ol|=a,e.lanes=a,e.memoizedState=d}}function Uo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Vo={},qo=Si(Vo),Yo=Si(Vo),Go=Si(Vo);function Qo(e){if(e===Vo)throw Error(o(174));return e}function Ko(e,t){switch(Ci(Go,t),Ci(Yo,e),Ci(qo,Vo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(qo),Ci(qo,t)}function Xo(){Ei(qo),Ei(Yo),Ei(Go)}function Jo(e){Qo(Go.current);var t=Qo(qo.current),n=le(t,e.type);t!==n&&(Ci(Yo,e),Ci(qo,n))}function Zo(e){Yo.current===e&&(Ei(qo),Ei(Yo))}var ea=Si(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var ia=w.ReactCurrentDispatcher,oa=w.ReactCurrentBatchConfig,aa=0,sa=null,la=null,ua=null,ca=!1,da=!1,ha=0,pa=0;function fa(){throw Error(o(321))}function ga(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ma(e,t,n,r,i,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ia.current=null===e||null===e.memoizedState?Za:es,e=n(r,i),da){a=0;do{if(da=!1,ha=0,25<=a)throw Error(o(301));a+=1,ua=la=null,t.updateQueue=null,ia.current=ts,e=n(r,i)}while(da)}if(ia.current=Ja,t=null!==la&&null!==la.next,aa=0,ua=la=sa=null,ca=!1,t)throw Error(o(300));return e}function va(){var e=0!==ha;return ha=0,e}function ya(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ua?sa.memoizedState=ua=e:ua=ua.next=e,ua}function ba(){if(null===la){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ua?sa.memoizedState:ua.next;if(null!==t)ua=t,la=e;else{if(null===e)throw Error(o(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ua?sa.memoizedState=ua=e:ua=ua.next=e}return ua}function wa(e,t){return"function"===typeof t?t(e):t}function xa(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=la,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,u=null,c=a;do{var d=c.lane;if((aa&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=h,s=r):u=u.next=h,sa.lanes|=d,Ol|=d}c=c.next}while(null!==c&&c!==a);null===u?s=r:u.next=l,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,sa.lanes|=a,Ol|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _a(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(bs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ka(){}function Sa(e,t){var n=sa,r=ba(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,bs=!0),r=r.queue,Oa(Pa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ua&&1&ua.memoizedState.tag){if(n.flags|=2048,Ma(9,Ca.bind(null,n,r,i,t),void 0,null),null===Il)throw Error(o(349));0!==(30&aa)||Ea(n,t,i)}return i}function Ea(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ca(e,t,n,r){t.value=n,t.getSnapshot=r,Ta(t)&&Ia(e)}function Pa(e,t,n){return n(function(){Ta(t)&&Ia(e)})}function Ta(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Ia(e){var t=Do(e,1);null!==t&&nu(t,e,1,-1)}function Aa(e){var t=ya();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:e},t.queue=e,e=e.dispatch=Ga.bind(null,sa,e),[t.memoizedState,e]}function Ma(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ra(){return ba().memoizedState}function Fa(e,t,n,r){var i=ya();sa.flags|=e,i.memoizedState=Ma(1|t,n,void 0,void 0===r?null:r)}function La(e,t,n,r){var i=ba();r=void 0===r?null:r;var o=void 0;if(null!==la){var a=la.memoizedState;if(o=a.destroy,null!==r&&ga(r,a.deps))return void(i.memoizedState=Ma(t,n,o,r))}sa.flags|=e,i.memoizedState=Ma(1|t,n,o,r)}function Da(e,t){return Fa(8390656,8,e,t)}function Oa(e,t){return La(2048,8,e,t)}function ja(e,t){return La(4,2,e,t)}function Na(e,t){return La(4,4,e,t)}function za(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ba(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,La(4,4,za.bind(null,t,e),n)}function $a(){}function Ha(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ga(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Wa(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ga(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ua(e,t,n){return 0===(21&aa)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=gt(),sa.lanes|=n,Ol|=n,e.baseState=!0),t)}function Va(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=oa.transition;oa.transition={};try{e(!1),t()}finally{bt=n,oa.transition=r}}function qa(){return ba().memoizedState}function Ya(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qa(e))Ka(t,n);else if(null!==(n=Lo(e,t,n,r))){nu(n,e,r,eu()),Xa(n,t,r)}}function Ga(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qa(e))Ka(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(i.next=i,Fo(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=Lo(e,t,i,r))&&(nu(n,e,r,i=eu()),Xa(n,t,r))}}function Qa(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Ka(e,t){da=ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Ja={readContext:Mo,useCallback:fa,useContext:fa,useEffect:fa,useImperativeHandle:fa,useInsertionEffect:fa,useLayoutEffect:fa,useMemo:fa,useReducer:fa,useRef:fa,useState:fa,useDebugValue:fa,useDeferredValue:fa,useTransition:fa,useMutableSource:fa,useSyncExternalStore:fa,useId:fa,unstable_isNewReconciler:!1},Za={readContext:Mo,useCallback:function(e,t){return ya().memoizedState=[e,void 0===t?null:t],e},useContext:Mo,useEffect:Da,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fa(4194308,4,za.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fa(4,2,e,t)},useMemo:function(e,t){var n=ya();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ya();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ya.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ya().memoizedState=e},useState:Aa,useDebugValue:$a,useDeferredValue:function(e){return ya().memoizedState=e},useTransition:function(){var e=Aa(!1),t=e[0];return e=Va.bind(null,e[1]),ya().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,i=ya();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Il)throw Error(o(349));0!==(30&aa)||Ea(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Da(Pa.bind(null,r,a,e),[e]),r.flags|=2048,Ma(9,Ca.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ya(),t=Il.identifierPrefix;if(io){var n=Xi;t=":"+t+"R"+(n=(Ki&~(1<<32-at(Ki)-1)).toString(32)+n),0<(n=ha++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=pa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Mo,useCallback:Ha,useContext:Mo,useEffect:Oa,useImperativeHandle:Ba,useInsertionEffect:ja,useLayoutEffect:Na,useMemo:Wa,useReducer:xa,useRef:Ra,useState:function(){return xa(wa)},useDebugValue:$a,useDeferredValue:function(e){return Ua(ba(),la.memoizedState,e)},useTransition:function(){return[xa(wa)[0],ba().memoizedState]},useMutableSource:ka,useSyncExternalStore:Sa,useId:qa,unstable_isNewReconciler:!1},ts={readContext:Mo,useCallback:Ha,useContext:Mo,useEffect:Oa,useImperativeHandle:Ba,useInsertionEffect:ja,useLayoutEffect:Na,useMemo:Wa,useReducer:_a,useRef:Ra,useState:function(){return _a(wa)},useDebugValue:$a,useDeferredValue:function(e){var t=ba();return null===la?t.memoizedState=e:Ua(t,la.memoizedState,e)},useTransition:function(){return[_a(wa)[0],ba().memoizedState]},useMutableSource:ka,useSyncExternalStore:Sa,useId:qa,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var is={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),o=zo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Bo(e,o,i))&&(nu(t,e,i,r),$o(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),o=zo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Bo(e,o,i))&&(nu(t,e,i,r),$o(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=zo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Bo(e,i,r))&&(nu(t,e,r,n),$o(t,e,r))}};function os(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function as(e,t,n){var r=!1,i=Pi,o=t.contextType;return"object"===typeof o&&null!==o?o=Mo(o):(i=Ri(t)?Ai:Ti.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Mi(e,i):Pi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=is,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&is.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},jo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Mo(o):(o=Ri(t)?Ai:Ti.current,i.context=Mi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(rs(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&is.enqueueReplaceState(i,i.state,null),Wo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function us(e,t){try{var n="",r=t;do{n+=$(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function cs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=zo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ul||(Ul=!0,Vl=r),ds(0,t)},n}function fs(e,t,n){(n=zo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Eu.bind(null,e,t,n),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=zo(-1,1)).tag=2,Bo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ys=w.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?_o(t,null,n,r):xo(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var o=t.ref;return Ao(t,i),r=ma(e,t,n,r,o,i),n=va(),null===e||bs?(io&&n&&eo(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Us(e,t,i))}function _s(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Ru(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,ks(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Us(e,t,i)}return t.flags|=1,(e=Fu(o,r)).ref=t.ref,e.return=t,t.child=e}function ks(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Us(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Cs(e,t,n,r,i)}function Ss(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Fl,Rl),Rl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Fl,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ci(Fl,Rl),Rl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ci(Fl,Rl),Rl|=r;return ws(e,t,i,n),t.child}function Es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,i){var o=Ri(n)?Ai:Ti.current;return o=Mi(t,o),Ao(t,i),n=ma(e,t,n,r,o,i),r=va(),null===e||bs?(io&&r&&eo(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Us(e,t,i))}function Ps(e,t,n,r,i){if(Ri(n)){var o=!0;Oi(t)}else o=!1;if(Ao(t,i),null===t.stateNode)Ws(e,t),as(t,n,r),ls(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=Mo(u):u=Mi(t,u=Ri(n)?Ai:Ti.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==u)&&ss(t,a,r,u),Oo=!1;var h=t.memoizedState;a.state=h,Wo(t,r,a,i),l=t.memoizedState,s!==r||h!==l||Ii.current||Oo?("function"===typeof c&&(rs(t,n,c,r),l=t.memoizedState),(s=Oo||os(t,n,s,r,h,l,u))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,No(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:ns(t.type,s),a.props=u,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Mo(l):l=Mi(t,l=Ri(n)?Ai:Ti.current);var p=n.getDerivedStateFromProps;(c="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&ss(t,a,r,l),Oo=!1,h=t.memoizedState,a.state=h,Wo(t,r,a,i);var f=t.memoizedState;s!==d||h!==f||Ii.current||Oo?("function"===typeof p&&(rs(t,n,p,r),f=t.memoizedState),(u=Oo||os(t,n,u,r,h,f,l)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ts(e,t,n,r,o,i)}function Ts(e,t,n,r,i,o){Es(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&ji(t,n,!1),Us(e,t,o);r=t.stateNode,ys.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=xo(t,e.child,null,o),t.child=xo(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Is(e){var t=e.stateNode;t.pendingContext?Li(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Li(0,t.context,!1),Ko(e,t.containerInfo)}function As(e,t,n,r,i){return fo(),go(i),t.flags|=256,ws(e,t,n,r),t.child}var Ms,Rs,Fs,Ls,Ds={dehydrated:null,treeContext:null,retryLane:0};function Os(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,i=t.pendingProps,a=ea.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ci(ea,1&a),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Ou(l,i,0,null),e=Du(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Os(n),t.memoizedState=Ds,e):Ns(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,zs(e,t,s,r=cs(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Ou({mode:"visible",children:r.children},i,0,null),(a=Du(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&xo(t,e.child,null,s),t.child.memoizedState=Os(s),t.memoizedState=Ds,a);if(0===(1&t.mode))return zs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,zs(e,t,s,r=cs(a=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(r=Il)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Do(e,i),nu(r,e,i,-1))}return gu(),zs(e,t,s,r=cs(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Pu.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ui(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Yi[Gi++]=Ki,Yi[Gi++]=Xi,Yi[Gi++]=Qi,Ki=e.id,Xi=e.overflow,Qi=t),t=Ns(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(s){s=i.fallback,l=t.mode,r=(a=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Fu(a,u)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Fu(r,s):(s=Du(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Os(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ds,i}return e=(s=e.child).sibling,i=Fu(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ns(e,t){return(t=Ou({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zs(e,t,n,r){return null!==r&&go(r),xo(t,e.child,null,n),(e=Ns(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Io(e.return,t,n)}function $s(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Hs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=ea.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(ea,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),$s(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ta(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}$s(t,!0,n,null,o);break;case"together":$s(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Us(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ol|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Fu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ys(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(t),null;case 1:case 17:return Ri(t.type)&&Fi(),qs(t),null;case 3:return r=t.stateNode,Xo(),Ei(Ii),Ei(Ti),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(au(oo),oo=null))),Rs(e,t),qs(t),null;case 5:Zo(t);var i=Qo(Go.current);if(n=t.type,null!==e&&null!=t.stateNode)Fs(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return qs(t),null}if(e=Qo(qo.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[pi]=a,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)zr(Dr[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":K(r,a),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},zr("invalid",r);break;case"textarea":ie(r,a),zr("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var u=a[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":q(r),Z(r,a,!0);break;case"textarea":q(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[pi]=r,Ms(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":zr("cancel",e),zr("close",e),i=r;break;case"iframe":case"object":case"embed":zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)zr(Dr[i],e);i=r;break;case"source":zr("error",e),i=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),i=r;break;case"details":zr("toggle",e),i=r;break;case"input":K(e,r),i=Q(e,r),zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),zr("invalid",e)}for(a in ye(n,i),u=i)if(u.hasOwnProperty(a)){var c=u[a];"style"===a?me(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=c&&"onScroll"===a&&zr("scroll",e):null!=c&&b(e,a,c,l))}switch(n){case"input":q(e),Z(e,r,!1);break;case"textarea":q(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+U(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qs(t),null;case 6:if(e&&null!=t.stateNode)Ls(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Qo(Go.current),Qo(qo.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return qs(t),null;case 13:if(Ei(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))po(),fo(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else fo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qs(t),a=!1}else null!==oo&&(au(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ea.current)?0===Ll&&(Ll=3):gu())),null!==t.updateQueue&&(t.flags|=4),qs(t),null);case 4:return Xo(),Rs(e,t),null===e&&Hr(t.stateNode.containerInfo),qs(t),null;case 10:return To(t.type._context),qs(t),null;case 19:if(Ei(ea),null===(a=t.memoizedState))return qs(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Vs(a,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ta(e))){for(t.flags|=128,Vs(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>Hl&&(t.flags|=128,r=!0,Vs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return qs(t),null}else 2*Xe()-a.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,r=!0,Vs(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=ea.current,Ci(ea,r?1&n|2:1&n),t):(qs(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rl)&&(qs(t),6&t.subtreeFlags&&(t.flags|=8192)):qs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Gs(e,t){switch(to(t),t.tag){case 1:return Ri(t.type)&&Fi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xo(),Ei(Ii),Ei(Ti),ra(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(Ei(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));fo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(ea),null;case 4:return Xo(),null;case 10:return To(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Ms=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rs=function(){},Fs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qo(qo.current);var o,a=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),a=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(a||(a=[]),a.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(a=a||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(a=a||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&zr("scroll",e),a||l===u||(a=[])):(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qs=!1,Ks=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Su(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Su(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[pi],delete t[gi],delete t[mi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Ks||Zs(n,t);case 6:var r=cl,i=dl;cl=null,hl(e,t,n),dl=i,null!==(cl=r)&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Ht(e)):li(cl,n.stateNode));break;case 4:r=cl,i=dl,cl=n.stateNode.containerInfo,dl=!0,hl(e,t,n),cl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Ks&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&el(n,t,a),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Ks&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Su(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Ks=(r=Ks)||null!==n.memoizedState,hl(e,t,n),Ks=r):hl(e,t,n);break;default:hl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach(function(t){var r=Tu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===cl)throw Error(o(160));pl(a,s,i),cl=null,dl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){Su(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(m){Su(e,e.return,m)}try{nl(5,e,e.return)}catch(m){Su(e,e.return,m)}}break;case 1:gl(t,e),vl(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(gl(t,e),vl(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Su(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(i,a),be(l,s);var c=be(l,a);for(s=0;s<u.length;s+=2){var d=u[s],h=u[s+1];"style"===d?me(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,c)}switch(l){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;null!=f?ne(i,!!a.multiple,f,!1):p!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[pi]=a}catch(m){Su(e,e.return,m)}}break;case 6:if(gl(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(m){Su(e,e.return,m)}}break;case 3:if(gl(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(m){Su(e,e.return,m)}break;case 4:default:gl(t,e),vl(e);break;case 13:gl(t,e),vl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||($l=Xe())),4&r&&fl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ks=(c=Ks)||d,gl(t,e),Ks=c):gl(t,e),vl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Js=e,d=e.child;null!==d;){for(h=Js=d;null!==Js;){switch(f=(p=Js).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Zs(p,p.return);var g=p.stateNode;if("function"===typeof g.componentWillUnmount){r=p,n=p.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Su(r,n,m)}}break;case 5:Zs(p,p.return);break;case 22:if(null!==p.memoizedState){xl(h);continue}}null!==f?(f.return=p,Js=f):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,c?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,s=void 0!==(u=h.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=ge("display",s))}catch(m){Su(e,e.return,m)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){Su(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),vl(e),4&r&&fl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ul(e,sl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,sl(e),a);break;default:throw Error(o(161))}}catch(s){Su(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Js=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Qs;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Ks;s=Qs;var u=Ks;if(Qs=a,(Ks=l)&&!u)for(Js=i;null!==Js;)l=(a=Js).child,22===a.tag&&null!==a.memoizedState?_l(i):null!==l?(l.return=a,Js=l):_l(i);for(;null!==o;)Js=o,bl(o,t,n),o=o.sibling;Js=i,Qs=s,Ks=u}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Js=o):wl(e)}}function wl(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ks||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ks)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Uo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Uo(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Ht(h)}}}break;default:throw Error(o(163))}Ks||512&t.flags&&il(t)}catch(p){Su(t,t.return,p)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function xl(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function _l(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Su(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Su(t,i,l)}}var o=t.return;try{il(t)}catch(l){Su(t,o,l)}break;case 5:var a=t.return;try{il(t)}catch(l){Su(t,a,l)}}}catch(l){Su(t,t.return,l)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var kl,Sl=Math.ceil,El=w.ReactCurrentDispatcher,Cl=w.ReactCurrentOwner,Pl=w.ReactCurrentBatchConfig,Tl=0,Il=null,Al=null,Ml=0,Rl=0,Fl=Si(0),Ll=0,Dl=null,Ol=0,jl=0,Nl=0,zl=null,Bl=null,$l=0,Hl=1/0,Wl=null,Ul=!1,Vl=null,ql=null,Yl=!1,Gl=null,Ql=0,Kl=0,Xl=null,Jl=-1,Zl=0;function eu(){return 0!==(6&Tl)?Xe():-1!==Jl?Jl:Jl=Xe()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Ml?Ml&-Ml:null!==mo.transition?(0===Zl&&(Zl=gt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Kt(e.type)}function nu(e,t,n,r){if(50<Kl)throw Kl=0,Xl=null,Error(o(185));vt(e,n,r),0!==(2&Tl)&&e===Il||(e===Il&&(0===(2&Tl)&&(jl|=n),4===Ll&&su(e,Ml)),ru(e,r),1===n&&0===Tl&&0===(1&t.mode)&&(Hl=Xe()+500,zi&&Hi()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=pt(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===Il?Ml:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){zi=!0,$i(e)}(lu.bind(null,e)):$i(lu.bind(null,e)),ai(function(){0===(6&Tl)&&Hi()}),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Iu(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Jl=-1,Zl=0,0!==(6&Tl))throw Error(o(327));var n=e.callbackNode;if(_u()&&e.callbackNode!==n)return null;var r=ht(e,e===Il?Ml:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mu(e,r);else{t=r;var i=Tl;Tl|=2;var a=fu();for(Il===e&&Ml===t||(Wl=null,Hl=Xe()+500,hu(e,t));;)try{yu();break}catch(l){pu(e,l)}Po(),El.current=a,Tl=i,null!==Al?t=0:(Il=null,Ml=0,t=Ll)}if(0!==t){if(2===t&&(0!==(i=ft(e))&&(r=i,t=ou(e,i))),1===t)throw n=Dl,hu(e,0),su(e,r),ru(e,Xe()),n;if(6===t)su(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mu(e,r))&&(0!==(a=ft(e))&&(r=a,t=ou(e,a))),1===t))throw n=Dl,hu(e,0),su(e,r),ru(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xu(e,Bl,Wl);break;case 3:if(su(e,r),(130023424&r)===r&&10<(t=$l+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xu.bind(null,e,Bl,Wl),t);break}xu(e,Bl,Wl);break;case 4:if(su(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ri(xu.bind(null,e,Bl,Wl),r);break}xu(e,Bl,Wl);break;default:throw Error(o(329))}}}return ru(e,Xe()),e.callbackNode===n?iu.bind(null,e):null}function ou(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(hu(e,t).flags|=256),2!==(e=mu(e,t))&&(t=Bl,Bl=n,null!==t&&au(t)),e}function au(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function su(e,t){for(t&=~Nl,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!==(6&Tl))throw Error(o(327));_u();var t=ht(e,0);if(0===(1&t))return ru(e,Xe()),null;var n=mu(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=ou(e,r))}if(1===n)throw n=Dl,hu(e,0),su(e,t),ru(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xu(e,Bl,Wl),ru(e,Xe()),null}function uu(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Hl=Xe()+500,zi&&Hi())}}function cu(e){null!==Gl&&0===Gl.tag&&0===(6&Tl)&&_u();var t=Tl;Tl|=1;var n=Pl.transition,r=bt;try{if(Pl.transition=null,bt=1,e)return e()}finally{bt=r,Pl.transition=n,0===(6&(Tl=t))&&Hi()}}function du(){Rl=Fl.current,Ei(Fl)}function hu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Fi();break;case 3:Xo(),Ei(Ii),Ei(Ti),ra();break;case 5:Zo(r);break;case 4:Xo();break;case 13:case 19:Ei(ea);break;case 10:To(r.type._context);break;case 22:case 23:du()}n=n.return}if(Il=e,Al=e=Fu(e.current,null),Ml=Rl=t,Ll=0,Dl=null,Nl=jl=Ol=0,Bl=zl=null,null!==Ro){for(t=0;t<Ro.length;t++)if(null!==(r=(n=Ro[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Ro=null}return e}function pu(e,t){for(;;){var n=Al;try{if(Po(),ia.current=Ja,ca){for(var r=sa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ca=!1}if(aa=0,ua=la=sa=null,da=!1,ha=0,Cl.current=null,null===n||null===n.return){Ll=1,Dl=t,Al=null;break}e:{var a=e,s=n.return,l=n,u=t;if(t=Ml,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=ms(s);if(null!==f){f.flags&=-257,vs(f,s,l,0,t),1&f.mode&&gs(a,c,t),u=c;var g=(t=f).updateQueue;if(null===g){var m=new Set;m.add(u),t.updateQueue=m}else g.add(u);break e}if(0===(1&t)){gs(a,c,t),gu();break e}u=Error(o(426))}else if(io&&1&l.mode){var v=ms(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vs(v,s,l,0,t),go(us(u,l));break e}}a=u=us(u,l),4!==Ll&&(Ll=2),null===zl?zl=[a]:zl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Ho(a,ps(0,u,t));break e;case 1:l=u;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===ql||!ql.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Ho(a,fs(a,l,t));break e}}a=a.return}while(null!==a)}wu(n)}catch(w){t=w,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function fu(){var e=El.current;return El.current=Ja,null===e?Ja:e}function gu(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Il||0===(268435455&Ol)&&0===(268435455&jl)||su(Il,Ml)}function mu(e,t){var n=Tl;Tl|=2;var r=fu();for(Il===e&&Ml===t||(Wl=null,hu(e,t));;)try{vu();break}catch(i){pu(e,i)}if(Po(),Tl=n,El.current=r,null!==Al)throw Error(o(261));return Il=null,Ml=0,Ll}function vu(){for(;null!==Al;)bu(Al)}function yu(){for(;null!==Al&&!Qe();)bu(Al)}function bu(e){var t=kl(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?wu(e):Al=t,Cl.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ys(n,t,Rl)))return void(Al=n)}else{if(null!==(n=Gs(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Ll=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Ll&&(Ll=5)}function xu(e,t,n){var r=bt,i=Pl.transition;try{Pl.transition=null,bt=1,function(e,t,n,r){do{_u()}while(null!==Gl);if(0!==(6&Tl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Il&&(Al=Il=null,Ml=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yl||(Yl=!0,Iu(tt,function(){return _u(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Pl.transition,Pl.transition=null;var s=bt;bt=1;var l=Tl;Tl|=4,Cl.current=null,function(e,t){if(ei=Ut,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(u=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++c===i&&(l=s),p===a&&++d===r&&(u=s),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ut=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ns(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(x){Su(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}g=tl,tl=!1}(e,n),ml(n,e),fr(ti),Ut=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Ke(),Tl=l,bt=s,Pl.transition=a}else e.current=n;if(Yl&&(Yl=!1,Gl=e,Ql=i),a=e.pendingLanes,0===a&&(ql=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ul)throw Ul=!1,e=Vl,Vl=null,e;0!==(1&Ql)&&0!==e.tag&&_u(),a=e.pendingLanes,0!==(1&a)?e===Xl?Kl++:(Kl=0,Xl=e):Kl=0,Hi()}(e,t,n,r)}finally{Pl.transition=i,bt=r}return null}function _u(){if(null!==Gl){var e=wt(Ql),t=Pl.transition,n=bt;try{if(Pl.transition=null,bt=16>e?16:e,null===Gl)var r=!1;else{if(e=Gl,Gl=null,Ql=0,0!==(6&Tl))throw Error(o(331));var i=Tl;for(Tl|=4,Js=e.current;null!==Js;){var a=Js,s=a.child;if(0!==(16&Js.flags)){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Js=c;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Js=h;else for(;null!==Js;){var p=(d=Js).sibling,f=d.return;if(ol(d),d===c){Js=null;break}if(null!==p){p.return=f,Js=p;break}Js=f}}}var g=a.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Js=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Js=s;else e:for(;null!==Js;){if(0!==(2048&(a=Js).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Js=y;break e}Js=a.return}}var b=e.current;for(Js=b;null!==Js;){var w=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Js=w;else e:for(s=b;null!==Js;){if(0!==(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(_){Su(l,l.return,_)}if(l===s){Js=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Js=x;break e}Js=l.return}}if(Tl=i,Hi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{bt=n,Pl.transition=t}}return!1}function ku(e,t,n){e=Bo(e,t=ps(0,t=us(n,t),1),1),t=eu(),null!==e&&(vt(e,1,t),ru(e,t))}function Su(e,t,n){if(3===e.tag)ku(e,e,n);else for(;null!==t;){if(3===t.tag){ku(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ql||!ql.has(r))){t=Bo(t,e=fs(t,e=us(n,e),1),1),e=eu(),null!==t&&(vt(t,1,e),ru(t,e));break}}t=t.return}}function Eu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Il===e&&(Ml&n)===n&&(4===Ll||3===Ll&&(130023424&Ml)===Ml&&500>Xe()-$l?hu(e,0):Nl|=n),ru(e,t)}function Cu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=Do(e,t))&&(vt(e,t,n),ru(e,n))}function Pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cu(e,n)}function Tu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Cu(e,n)}function Iu(e,t){return Ye(e,t)}function Au(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mu(e,t,n,r){return new Au(e,t,n,r)}function Ru(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fu(e,t){var n=e.alternate;return null===n?((n=Mu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Ru(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case k:return Du(n.children,i,a,t);case S:s=8,i|=8;break;case E:return(e=Mu(12,n,t,2|i)).elementType=E,e.lanes=a,e;case I:return(e=Mu(13,n,t,i)).elementType=I,e.lanes=a,e;case A:return(e=Mu(19,n,t,i)).elementType=A,e.lanes=a,e;case F:return Ou(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case P:s=9;break e;case T:s=11;break e;case M:s=14;break e;case R:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Mu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Du(e,t,n,r){return(e=Mu(7,e,r,t)).lanes=n,e}function Ou(e,t,n,r){return(e=Mu(22,e,r,t)).elementType=F,e.lanes=n,e.stateNode={isHidden:!1},e}function ju(e,t,n){return(e=Mu(6,e,null,t)).lanes=n,e}function Nu(e,t,n){return(t=Mu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bu(e,t,n,r,i,o,a,s,l){return e=new zu(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Mu(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},jo(o),e}function $u(e){if(!e)return Pi;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Di(e,n,t)}return t}function Hu(e,t,n,r,i,o,a,s,l){return(e=Bu(n,r,!0,e,0,o,0,s,l)).context=$u(null),n=e.current,(o=zo(r=eu(),i=tu(n))).callback=void 0!==t&&null!==t?t:null,Bo(n,o,i),e.current.lanes=i,vt(e,i,r),ru(e,r),e}function Wu(e,t,n,r){var i=t.current,o=eu(),a=tu(i);return n=$u(n),null===t.context?t.context=n:t.pendingContext=n,(t=zo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Bo(i,t,a))&&(nu(e,i,a,o),$o(e,i,a)),a}function Uu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qu(e,t){Vu(e,t),(e=e.alternate)&&Vu(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ii.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Is(t),fo();break;case 5:Jo(t);break;case 1:Ri(t.type)&&Oi(t);break;case 4:Ko(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(ko,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(Ci(ea,1&ea.current),null!==(e=Us(e,t,n))?e.sibling:null);Ci(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Hs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,n)}return Us(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,io&&0!==(1048576&t.flags)&&Zi(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var i=Mi(t,Ti.current);Ao(t,n),i=ma(null,t,r,e,i,n);var a=va();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(a=!0,Oi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,jo(t),i.updater=is,t.stateNode=i,i._reactInternals=t,ls(t,r,e,n),t=Ts(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ru(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===M)return 14}return 2}(r),e=ns(r,e),i){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=Ps(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=_s(null,t,r,ns(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ps(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 3:e:{if(Is(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,No(e,t),Wo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=As(e,t,r,n,i=us(Error(o(423)),t));break e}if(r!==i){t=As(e,t,r,n,i=us(Error(o(424)),t));break e}for(ro=ui(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=_o(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fo(),r===i){t=Us(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return Jo(t),null===e&&uo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Es(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&uo(t),null;case 13:return js(e,t,n);case 4:return Ko(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xo(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ci(ko,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ii.current){t=Us(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===a.tag){(u=zo(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),Io(a.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Io(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ao(t,n),r=r(i=Mo(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ns(r=t.type,t.pendingProps),_s(e,t,r,i=ns(r.type,i),n);case 15:return ks(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),Ws(e,t),t.tag=1,Ri(r)?(e=!0,Oi(t)):e=!1,Ao(t,n),as(t,r,i),ls(t,r,i,n),Ts(null,t,r,!0,e,n);case 19:return Hs(e,t,n);case 22:return Ss(e,t,n)}throw Error(o(156,t.tag))};var Yu="function"===typeof reportError?reportError:function(e){console.error(e)};function Gu(e){this._internalRoot=e}function Qu(e){this._internalRoot=e}function Ku(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ju(){}function Zu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Uu(a);s.call(e)}}Wu(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Uu(a);o.call(e)}}var a=Hu(t,r,e,0,null,!1,0,"",Ju);return e._reactRootContainer=a,e[fi]=a.current,Hr(8===e.nodeType?e.parentNode:e),cu(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Uu(l);s.call(e)}}var l=Bu(e,0,!1,null,0,!1,0,"",Ju);return e._reactRootContainer=l,e[fi]=l.current,Hr(8===e.nodeType?e.parentNode:e),cu(function(){Wu(t,l,n,r)}),l}(n,t,e,i,r);return Uu(a)}Qu.prototype.render=Gu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wu(e,t,null,null)},Qu.prototype.unmount=Gu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu(function(){Wu(null,e,null,null)}),t[fi]=null}},Qu.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ft.length&&0!==t&&t<Ft[n].priority;n++);Ft.splice(n,0,e),0===n&&jt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ru(t,Xe()),0===(6&Tl)&&(Hl=Xe()+500,Hi()))}break;case 13:cu(function(){var t=Do(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}}),qu(e,1)}},_t=function(e){if(13===e.tag){var t=Do(e,134217728);if(null!==t)nu(t,e,134217728,eu());qu(e,134217728)}},kt=function(e){if(13===e.tag){var t=tu(e),n=Do(e,t);if(null!==n)nu(n,e,t,eu());qu(e,t)}},St=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(o(90));Y(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=uu,Ie=cu;var ec={usingClientEntryPoint:!1,Events:[bi,wi,xi,Ce,Pe,uu]},tc={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{it=rc.inject(nc),ot=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ku(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Ku(e))throw Error(o(299));var n=!1,r="",i=Yu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bu(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,Hr(8===e.nodeType?e.parentNode:e),new Gu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Xu(t))throw Error(o(200));return Zu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ku(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Yu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Hu(t,null,e,1,null!=n?n:null,i,0,a,s),e[fi]=t.current,Hr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qu(t)},t.render=function(e,t,n){if(!Xu(t))throw Error(o(200));return Zu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xu(e))throw Error(o(40));return!!e._reactRootContainer&&(cu(function(){Zu(null,null,e,!1,function(){e._reactRootContainer=null,e[fi]=null})}),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xu(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},783:function(e,t,n){var r;r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=20)}([function(e,t){var r={};e.exports=r,function(){r._baseDelta=1e3/60,r._nextId=0,r._seed=0,r._nowStartTime=+new Date,r._warnedOnce={},r._decomp=null,r.extend=function(e,t){var n,i;"boolean"===typeof t?(n=2,i=t):(n=1,i=!0);for(var o=n;o<arguments.length;o++){var a=arguments[o];if(a)for(var s in a)i&&a[s]&&a[s].constructor===Object?e[s]&&e[s].constructor!==Object?e[s]=a[s]:(e[s]=e[s]||{},r.extend(e[s],i,a[s])):e[s]=a[s]}return e},r.clone=function(e,t){return r.extend({},t,e)},r.keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},r.values=function(e){var t=[];if(Object.keys){for(var n=Object.keys(e),r=0;r<n.length;r++)t.push(e[n[r]]);return t}for(var i in e)t.push(e[i]);return t},r.get=function(e,t,n,r){t=t.split(".").slice(n,r);for(var i=0;i<t.length;i+=1)e=e[t[i]];return e},r.set=function(e,t,n,i,o){var a=t.split(".").slice(i,o);return r.get(e,t,0,-1)[a[a.length-1]]=n,n},r.shuffle=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(r.random()*(t+1)),i=e[t];e[t]=e[n],e[n]=i}return e},r.choose=function(e){return e[Math.floor(r.random()*e.length)]},r.isElement=function(e){return"undefined"!==typeof HTMLElement?e instanceof HTMLElement:!!(e&&e.nodeType&&e.nodeName)},r.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},r.isFunction=function(e){return"function"===typeof e},r.isPlainObject=function(e){return"object"===typeof e&&e.constructor===Object},r.isString=function(e){return"[object String]"===toString.call(e)},r.clamp=function(e,t,n){return e<t?t:e>n?n:e},r.sign=function(e){return e<0?-1:1},r.now=function(){if("undefined"!==typeof window&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-r._nowStartTime},r.random=function(t,n){return n="undefined"!==typeof n?n:1,(t="undefined"!==typeof t?t:0)+e()*(n-t)};var e=function(){return r._seed=(9301*r._seed+49297)%233280,r._seed/233280};r.colorToNumber=function(e){return 3==(e=e.replace("#","")).length&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)),parseInt(e,16)},r.logLevel=1,r.log=function(){console&&r.logLevel>0&&r.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},r.info=function(){console&&r.logLevel>0&&r.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},r.warn=function(){console&&r.logLevel>0&&r.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},r.warnOnce=function(){var e=Array.prototype.slice.call(arguments).join(" ");r._warnedOnce[e]||(r.warn(e),r._warnedOnce[e]=!0)},r.deprecated=function(e,t,n){e[t]=r.chain(function(){r.warnOnce("\ud83d\udd05 deprecated \ud83d\udd05",n)},e[t])},r.nextId=function(){return r._nextId++},r.indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},r.map=function(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n},r.topologicalSort=function(e){var t=[],n=[],i=[];for(var o in e)n[o]||i[o]||r._topologicalSort(o,n,i,e,t);return t},r._topologicalSort=function(e,t,n,i,o){var a=i[e]||[];n[e]=!0;for(var s=0;s<a.length;s+=1){var l=a[s];n[l]||t[l]||r._topologicalSort(l,t,n,i,o)}n[e]=!1,t[e]=!0,o.push(e)},r.chain=function(){for(var e=[],t=0;t<arguments.length;t+=1){var n=arguments[t];n._chained?e.push.apply(e,n._chained):e.push(n)}var r=function(){for(var t,n=new Array(arguments.length),r=0,i=arguments.length;r<i;r++)n[r]=arguments[r];for(r=0;r<e.length;r+=1){var o=e[r].apply(t,n);"undefined"!==typeof o&&(t=o)}return t};return r._chained=e,r},r.chainPathBefore=function(e,t,n){return r.set(e,t,r.chain(n,r.get(e,t)))},r.chainPathAfter=function(e,t,n){return r.set(e,t,r.chain(r.get(e,t),n))},r.setDecomp=function(e){r._decomp=e},r.getDecomp=function(){var e=r._decomp;try{e||"undefined"===typeof window||(e=window.decomp),e||"undefined"===typeof n.g||(e=n.g.decomp)}catch(t){e=null}return e}}()},function(e,t){var n={};e.exports=n,n.create=function(e){var t={min:{x:0,y:0},max:{x:0,y:0}};return e&&n.update(t,e),t},n.update=function(e,t,n){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var r=0;r<t.length;r++){var i=t[r];i.x>e.max.x&&(e.max.x=i.x),i.x<e.min.x&&(e.min.x=i.x),i.y>e.max.y&&(e.max.y=i.y),i.y<e.min.y&&(e.min.y=i.y)}n&&(n.x>0?e.max.x+=n.x:e.min.x+=n.x,n.y>0?e.max.y+=n.y:e.min.y+=n.y)},n.contains=function(e,t){return t.x>=e.min.x&&t.x<=e.max.x&&t.y>=e.min.y&&t.y<=e.max.y},n.overlaps=function(e,t){return e.min.x<=t.max.x&&e.max.x>=t.min.x&&e.max.y>=t.min.y&&e.min.y<=t.max.y},n.translate=function(e,t){e.min.x+=t.x,e.max.x+=t.x,e.min.y+=t.y,e.max.y+=t.y},n.shift=function(e,t){var n=e.max.x-e.min.x,r=e.max.y-e.min.y;e.min.x=t.x,e.max.x=t.x+n,e.min.y=t.y,e.max.y=t.y+r}},function(e,t){var n={};e.exports=n,n.create=function(e,t){return{x:e||0,y:t||0}},n.clone=function(e){return{x:e.x,y:e.y}},n.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},n.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},n.rotate=function(e,t,n){var r=Math.cos(t),i=Math.sin(t);n||(n={});var o=e.x*r-e.y*i;return n.y=e.x*i+e.y*r,n.x=o,n},n.rotateAbout=function(e,t,n,r){var i=Math.cos(t),o=Math.sin(t);r||(r={});var a=n.x+((e.x-n.x)*i-(e.y-n.y)*o);return r.y=n.y+((e.x-n.x)*o+(e.y-n.y)*i),r.x=a,r},n.normalise=function(e){var t=n.magnitude(e);return 0===t?{x:0,y:0}:{x:e.x/t,y:e.y/t}},n.dot=function(e,t){return e.x*t.x+e.y*t.y},n.cross=function(e,t){return e.x*t.y-e.y*t.x},n.cross3=function(e,t,n){return(t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x)},n.add=function(e,t,n){return n||(n={}),n.x=e.x+t.x,n.y=e.y+t.y,n},n.sub=function(e,t,n){return n||(n={}),n.x=e.x-t.x,n.y=e.y-t.y,n},n.mult=function(e,t){return{x:e.x*t,y:e.y*t}},n.div=function(e,t){return{x:e.x/t,y:e.y/t}},n.perp=function(e,t){return{x:(t=!0===t?-1:1)*-e.y,y:t*e.x}},n.neg=function(e){return{x:-e.x,y:-e.y}},n.angle=function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)},n._temp=[n.create(),n.create(),n.create(),n.create(),n.create(),n.create()]},function(e,t,n){var r={};e.exports=r;var i=n(2),o=n(0);r.create=function(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r],o={x:i.x,y:i.y,index:r,body:t,isInternal:!1};n.push(o)}return n},r.fromPath=function(e,t){var n=[];return e.replace(/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/gi,function(e,t,r){n.push({x:parseFloat(t),y:parseFloat(r)})}),r.create(n,t)},r.centre=function(e){for(var t,n,o,a=r.area(e,!0),s={x:0,y:0},l=0;l<e.length;l++)o=(l+1)%e.length,t=i.cross(e[l],e[o]),n=i.mult(i.add(e[l],e[o]),t),s=i.add(s,n);return i.div(s,6*a)},r.mean=function(e){for(var t={x:0,y:0},n=0;n<e.length;n++)t.x+=e[n].x,t.y+=e[n].y;return i.div(t,e.length)},r.area=function(e,t){for(var n=0,r=e.length-1,i=0;i<e.length;i++)n+=(e[r].x-e[i].x)*(e[r].y+e[i].y),r=i;return t?n/2:Math.abs(n)/2},r.inertia=function(e,t){for(var n,r,o=0,a=0,s=e,l=0;l<s.length;l++)r=(l+1)%s.length,o+=(n=Math.abs(i.cross(s[r],s[l])))*(i.dot(s[r],s[r])+i.dot(s[r],s[l])+i.dot(s[l],s[l])),a+=n;return t/6*(o/a)},r.translate=function(e,t,n){n="undefined"!==typeof n?n:1;var r,i=e.length,o=t.x*n,a=t.y*n;for(r=0;r<i;r++)e[r].x+=o,e[r].y+=a;return e},r.rotate=function(e,t,n){if(0!==t){var r,i,o,a,s=Math.cos(t),l=Math.sin(t),u=n.x,c=n.y,d=e.length;for(a=0;a<d;a++)i=(r=e[a]).x-u,o=r.y-c,r.x=u+(i*s-o*l),r.y=c+(i*l+o*s);return e}},r.contains=function(e,t){for(var n,r=t.x,i=t.y,o=e.length,a=e[o-1],s=0;s<o;s++){if(n=e[s],(r-a.x)*(n.y-a.y)+(i-a.y)*(a.x-n.x)>0)return!1;a=n}return!0},r.scale=function(e,t,n,o){if(1===t&&1===n)return e;var a,s;o=o||r.centre(e);for(var l=0;l<e.length;l++)a=e[l],s=i.sub(a,o),e[l].x=o.x+s.x*t,e[l].y=o.y+s.y*n;return e},r.chamfer=function(e,t,n,r,a){t="number"===typeof t?[t]:t||[8],n="undefined"!==typeof n?n:-1,r=r||2,a=a||14;for(var s=[],l=0;l<e.length;l++){var u=e[l-1>=0?l-1:e.length-1],c=e[l],d=e[(l+1)%e.length],h=t[l<t.length?l:t.length-1];if(0!==h){var p=i.normalise({x:c.y-u.y,y:u.x-c.x}),f=i.normalise({x:d.y-c.y,y:c.x-d.x}),g=Math.sqrt(2*Math.pow(h,2)),m=i.mult(o.clone(p),h),v=i.normalise(i.mult(i.add(p,f),.5)),y=i.sub(c,i.mult(v,g)),b=n;-1===n&&(b=1.75*Math.pow(h,.32)),(b=o.clamp(b,r,a))%2===1&&(b+=1);for(var w=Math.acos(i.dot(p,f))/b,x=0;x<b;x++)s.push(i.add(i.rotate(m,w*x),y))}else s.push(c)}return s},r.clockwiseSort=function(e){var t=r.mean(e);return e.sort(function(e,n){return i.angle(t,e)-i.angle(t,n)}),e},r.isConvex=function(e){var t,n,r,i,o=0,a=e.length;if(a<3)return null;for(t=0;t<a;t++)if(r=(t+2)%a,i=(e[n=(t+1)%a].x-e[t].x)*(e[r].y-e[n].y),(i-=(e[n].y-e[t].y)*(e[r].x-e[n].x))<0?o|=1:i>0&&(o|=2),3===o)return!1;return 0!==o||null},r.hull=function(e){var t,n,r=[],o=[];for((e=e.slice(0)).sort(function(e,t){var n=e.x-t.x;return 0!==n?n:e.y-t.y}),n=0;n<e.length;n+=1){for(t=e[n];o.length>=2&&i.cross3(o[o.length-2],o[o.length-1],t)<=0;)o.pop();o.push(t)}for(n=e.length-1;n>=0;n-=1){for(t=e[n];r.length>=2&&i.cross3(r[r.length-2],r[r.length-1],t)<=0;)r.pop();r.push(t)}return r.pop(),o.pop(),r.concat(o)}},function(e,t,n){var r={};e.exports=r;var i=n(3),o=n(2),a=n(7),s=n(0),l=n(1),u=n(11);!function(){r._timeCorrection=!0,r._inertiaScale=4,r._nextCollidingGroupId=1,r._nextNonCollidingGroupId=-1,r._nextCategory=1,r._baseDelta=1e3/60,r.create=function(t){var n={id:s.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:i.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:1e3/60,_original:null},r=s.extend(n,t);return e(r,t),r},r.nextGroup=function(e){return e?r._nextNonCollidingGroupId--:r._nextCollidingGroupId++},r.nextCategory=function(){return r._nextCategory=r._nextCategory<<1,r._nextCategory};var e=function(e,t){t=t||{},r.set(e,{bounds:e.bounds||l.create(e.vertices),positionPrev:e.positionPrev||o.clone(e.position),anglePrev:e.anglePrev||e.angle,vertices:e.vertices,parts:e.parts||[e],isStatic:e.isStatic,isSleeping:e.isSleeping,parent:e.parent||e}),i.rotate(e.vertices,e.angle,e.position),u.rotate(e.axes,e.angle),l.update(e.bounds,e.vertices,e.velocity),r.set(e,{axes:t.axes||e.axes,area:t.area||e.area,mass:t.mass||e.mass,inertia:t.inertia||e.inertia});var n=e.isStatic?"#14151f":s.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),a=e.isStatic?"#555":"#ccc",c=e.isStatic&&null===e.render.fillStyle?1:0;e.render.fillStyle=e.render.fillStyle||n,e.render.strokeStyle=e.render.strokeStyle||a,e.render.lineWidth=e.render.lineWidth||c,e.render.sprite.xOffset+=-(e.bounds.min.x-e.position.x)/(e.bounds.max.x-e.bounds.min.x),e.render.sprite.yOffset+=-(e.bounds.min.y-e.position.y)/(e.bounds.max.y-e.bounds.min.y)};r.set=function(e,t,n){var i;for(i in"string"===typeof t&&(i=t,(t={})[i]=n),t)if(Object.prototype.hasOwnProperty.call(t,i))switch(n=t[i],i){case"isStatic":r.setStatic(e,n);break;case"isSleeping":a.set(e,n);break;case"mass":r.setMass(e,n);break;case"density":r.setDensity(e,n);break;case"inertia":r.setInertia(e,n);break;case"vertices":r.setVertices(e,n);break;case"position":r.setPosition(e,n);break;case"angle":r.setAngle(e,n);break;case"velocity":r.setVelocity(e,n);break;case"angularVelocity":r.setAngularVelocity(e,n);break;case"speed":r.setSpeed(e,n);break;case"angularSpeed":r.setAngularSpeed(e,n);break;case"parts":r.setParts(e,n);break;case"centre":r.setCentre(e,n);break;default:e[i]=n}},r.setStatic=function(e,t){for(var n=0;n<e.parts.length;n++){var r=e.parts[n];t?(r.isStatic||(r._original={restitution:r.restitution,friction:r.friction,mass:r.mass,inertia:r.inertia,density:r.density,inverseMass:r.inverseMass,inverseInertia:r.inverseInertia}),r.restitution=0,r.friction=1,r.mass=r.inertia=r.density=1/0,r.inverseMass=r.inverseInertia=0,r.positionPrev.x=r.position.x,r.positionPrev.y=r.position.y,r.anglePrev=r.angle,r.angularVelocity=0,r.speed=0,r.angularSpeed=0,r.motion=0):r._original&&(r.restitution=r._original.restitution,r.friction=r._original.friction,r.mass=r._original.mass,r.inertia=r._original.inertia,r.density=r._original.density,r.inverseMass=r._original.inverseMass,r.inverseInertia=r._original.inverseInertia,r._original=null),r.isStatic=t}},r.setMass=function(e,t){var n=e.inertia/(e.mass/6);e.inertia=n*(t/6),e.inverseInertia=1/e.inertia,e.mass=t,e.inverseMass=1/e.mass,e.density=e.mass/e.area},r.setDensity=function(e,t){r.setMass(e,t*e.area),e.density=t},r.setInertia=function(e,t){e.inertia=t,e.inverseInertia=1/e.inertia},r.setVertices=function(e,t){t[0].body===e?e.vertices=t:e.vertices=i.create(t,e),e.axes=u.fromVertices(e.vertices),e.area=i.area(e.vertices),r.setMass(e,e.density*e.area);var n=i.centre(e.vertices);i.translate(e.vertices,n,-1),r.setInertia(e,r._inertiaScale*i.inertia(e.vertices,e.mass)),i.translate(e.vertices,e.position),l.update(e.bounds,e.vertices,e.velocity)},r.setParts=function(e,t,n){var o;for(t=t.slice(0),e.parts.length=0,e.parts.push(e),e.parent=e,o=0;o<t.length;o++){var a=t[o];a!==e&&(a.parent=e,e.parts.push(a))}if(1!==e.parts.length){if(n="undefined"===typeof n||n){var s=[];for(o=0;o<t.length;o++)s=s.concat(t[o].vertices);i.clockwiseSort(s);var l=i.hull(s),u=i.centre(l);r.setVertices(e,l),i.translate(e.vertices,u)}var c=r._totalProperties(e);e.area=c.area,e.parent=e,e.position.x=c.centre.x,e.position.y=c.centre.y,e.positionPrev.x=c.centre.x,e.positionPrev.y=c.centre.y,r.setMass(e,c.mass),r.setInertia(e,c.inertia),r.setPosition(e,c.centre)}},r.setCentre=function(e,t,n){n?(e.positionPrev.x+=t.x,e.positionPrev.y+=t.y,e.position.x+=t.x,e.position.y+=t.y):(e.positionPrev.x=t.x-(e.position.x-e.positionPrev.x),e.positionPrev.y=t.y-(e.position.y-e.positionPrev.y),e.position.x=t.x,e.position.y=t.y)},r.setPosition=function(e,t,n){var r=o.sub(t,e.position);n?(e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.velocity.x=r.x,e.velocity.y=r.y,e.speed=o.magnitude(r)):(e.positionPrev.x+=r.x,e.positionPrev.y+=r.y);for(var a=0;a<e.parts.length;a++){var s=e.parts[a];s.position.x+=r.x,s.position.y+=r.y,i.translate(s.vertices,r),l.update(s.bounds,s.vertices,e.velocity)}},r.setAngle=function(e,t,n){var r=t-e.angle;n?(e.anglePrev=e.angle,e.angularVelocity=r,e.angularSpeed=Math.abs(r)):e.anglePrev+=r;for(var a=0;a<e.parts.length;a++){var s=e.parts[a];s.angle+=r,i.rotate(s.vertices,r,e.position),u.rotate(s.axes,r),l.update(s.bounds,s.vertices,e.velocity),a>0&&o.rotateAbout(s.position,r,e.position,s.position)}},r.setVelocity=function(e,t){var n=e.deltaTime/r._baseDelta;e.positionPrev.x=e.position.x-t.x*n,e.positionPrev.y=e.position.y-t.y*n,e.velocity.x=(e.position.x-e.positionPrev.x)/n,e.velocity.y=(e.position.y-e.positionPrev.y)/n,e.speed=o.magnitude(e.velocity)},r.getVelocity=function(e){var t=r._baseDelta/e.deltaTime;return{x:(e.position.x-e.positionPrev.x)*t,y:(e.position.y-e.positionPrev.y)*t}},r.getSpeed=function(e){return o.magnitude(r.getVelocity(e))},r.setSpeed=function(e,t){r.setVelocity(e,o.mult(o.normalise(r.getVelocity(e)),t))},r.setAngularVelocity=function(e,t){var n=e.deltaTime/r._baseDelta;e.anglePrev=e.angle-t*n,e.angularVelocity=(e.angle-e.anglePrev)/n,e.angularSpeed=Math.abs(e.angularVelocity)},r.getAngularVelocity=function(e){return(e.angle-e.anglePrev)*r._baseDelta/e.deltaTime},r.getAngularSpeed=function(e){return Math.abs(r.getAngularVelocity(e))},r.setAngularSpeed=function(e,t){r.setAngularVelocity(e,s.sign(r.getAngularVelocity(e))*t)},r.translate=function(e,t,n){r.setPosition(e,o.add(e.position,t),n)},r.rotate=function(e,t,n,i){if(n){var o=Math.cos(t),a=Math.sin(t),s=e.position.x-n.x,l=e.position.y-n.y;r.setPosition(e,{x:n.x+(s*o-l*a),y:n.y+(s*a+l*o)},i),r.setAngle(e,e.angle+t,i)}else r.setAngle(e,e.angle+t,i)},r.scale=function(e,t,n,o){var a=0,s=0;o=o||e.position;for(var c=0;c<e.parts.length;c++){var d=e.parts[c];i.scale(d.vertices,t,n,o),d.axes=u.fromVertices(d.vertices),d.area=i.area(d.vertices),r.setMass(d,e.density*d.area),i.translate(d.vertices,{x:-d.position.x,y:-d.position.y}),r.setInertia(d,r._inertiaScale*i.inertia(d.vertices,d.mass)),i.translate(d.vertices,{x:d.position.x,y:d.position.y}),c>0&&(a+=d.area,s+=d.inertia),d.position.x=o.x+(d.position.x-o.x)*t,d.position.y=o.y+(d.position.y-o.y)*n,l.update(d.bounds,d.vertices,e.velocity)}e.parts.length>1&&(e.area=a,e.isStatic||(r.setMass(e,e.density*a),r.setInertia(e,s))),e.circleRadius&&(t===n?e.circleRadius*=t:e.circleRadius=null)},r.update=function(e,t){var n=(t=("undefined"!==typeof t?t:1e3/60)*e.timeScale)*t,a=r._timeCorrection?t/(e.deltaTime||t):1,c=1-e.frictionAir*(t/s._baseDelta),d=(e.position.x-e.positionPrev.x)*a,h=(e.position.y-e.positionPrev.y)*a;e.velocity.x=d*c+e.force.x/e.mass*n,e.velocity.y=h*c+e.force.y/e.mass*n,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.position.x+=e.velocity.x,e.position.y+=e.velocity.y,e.deltaTime=t,e.angularVelocity=(e.angle-e.anglePrev)*c*a+e.torque/e.inertia*n,e.anglePrev=e.angle,e.angle+=e.angularVelocity;for(var p=0;p<e.parts.length;p++){var f=e.parts[p];i.translate(f.vertices,e.velocity),p>0&&(f.position.x+=e.velocity.x,f.position.y+=e.velocity.y),0!==e.angularVelocity&&(i.rotate(f.vertices,e.angularVelocity,e.position),u.rotate(f.axes,e.angularVelocity),p>0&&o.rotateAbout(f.position,e.angularVelocity,e.position,f.position)),l.update(f.bounds,f.vertices,e.velocity)}},r.updateVelocities=function(e){var t=r._baseDelta/e.deltaTime,n=e.velocity;n.x=(e.position.x-e.positionPrev.x)*t,n.y=(e.position.y-e.positionPrev.y)*t,e.speed=Math.sqrt(n.x*n.x+n.y*n.y),e.angularVelocity=(e.angle-e.anglePrev)*t,e.angularSpeed=Math.abs(e.angularVelocity)},r.applyForce=function(e,t,n){var r=t.x-e.position.x,i=t.y-e.position.y;e.force.x+=n.x,e.force.y+=n.y,e.torque+=r*n.y-i*n.x},r._totalProperties=function(e){for(var t={mass:0,area:0,inertia:0,centre:{x:0,y:0}},n=1===e.parts.length?0:1;n<e.parts.length;n++){var r=e.parts[n],i=r.mass!==1/0?r.mass:1;t.mass+=i,t.area+=r.area,t.inertia+=r.inertia,t.centre=o.add(t.centre,o.mult(r.position,i))}return t.centre=o.div(t.centre,t.mass),t}}()},function(e,t,n){var r={};e.exports=r;var i=n(0);r.on=function(e,t,n){for(var r,i=t.split(" "),o=0;o<i.length;o++)r=i[o],e.events=e.events||{},e.events[r]=e.events[r]||[],e.events[r].push(n);return n},r.off=function(e,t,n){if(t){"function"===typeof t&&(n=t,t=i.keys(e.events).join(" "));for(var r=t.split(" "),o=0;o<r.length;o++){var a=e.events[r[o]],s=[];if(n&&a)for(var l=0;l<a.length;l++)a[l]!==n&&s.push(a[l]);e.events[r[o]]=s}}else e.events={}},r.trigger=function(e,t,n){var r,o,a,s,l=e.events;if(l&&i.keys(l).length>0){n||(n={}),r=t.split(" ");for(var u=0;u<r.length;u++)if(a=l[o=r[u]]){(s=i.clone(n,!1)).name=o,s.source=e;for(var c=0;c<a.length;c++)a[c].apply(e,[s])}}}},function(e,t,n){var r={};e.exports=r;var i=n(5),o=n(0),a=n(1),s=n(4);r.create=function(e){return o.extend({id:o.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},e)},r.setModified=function(e,t,n,i){if(e.isModified=t,t&&e.cache&&(e.cache.allBodies=null,e.cache.allConstraints=null,e.cache.allComposites=null),n&&e.parent&&r.setModified(e.parent,t,n,i),i)for(var o=0;o<e.composites.length;o++){var a=e.composites[o];r.setModified(a,t,n,i)}},r.add=function(e,t){var n=[].concat(t);i.trigger(e,"beforeAdd",{object:t});for(var a=0;a<n.length;a++){var s=n[a];switch(s.type){case"body":if(s.parent!==s){o.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}r.addBody(e,s);break;case"constraint":r.addConstraint(e,s);break;case"composite":r.addComposite(e,s);break;case"mouseConstraint":r.addConstraint(e,s.constraint)}}return i.trigger(e,"afterAdd",{object:t}),e},r.remove=function(e,t,n){var o=[].concat(t);i.trigger(e,"beforeRemove",{object:t});for(var a=0;a<o.length;a++){var s=o[a];switch(s.type){case"body":r.removeBody(e,s,n);break;case"constraint":r.removeConstraint(e,s,n);break;case"composite":r.removeComposite(e,s,n);break;case"mouseConstraint":r.removeConstraint(e,s.constraint)}}return i.trigger(e,"afterRemove",{object:t}),e},r.addComposite=function(e,t){return e.composites.push(t),t.parent=e,r.setModified(e,!0,!0,!1),e},r.removeComposite=function(e,t,n){var i=o.indexOf(e.composites,t);if(-1!==i){var a=r.allBodies(t);r.removeCompositeAt(e,i);for(var s=0;s<a.length;s++)a[s].sleepCounter=0}if(n)for(s=0;s<e.composites.length;s++)r.removeComposite(e.composites[s],t,!0);return e},r.removeCompositeAt=function(e,t){return e.composites.splice(t,1),r.setModified(e,!0,!0,!1),e},r.addBody=function(e,t){return e.bodies.push(t),r.setModified(e,!0,!0,!1),e},r.removeBody=function(e,t,n){var i=o.indexOf(e.bodies,t);if(-1!==i&&(r.removeBodyAt(e,i),t.sleepCounter=0),n)for(var a=0;a<e.composites.length;a++)r.removeBody(e.composites[a],t,!0);return e},r.removeBodyAt=function(e,t){return e.bodies.splice(t,1),r.setModified(e,!0,!0,!1),e},r.addConstraint=function(e,t){return e.constraints.push(t),r.setModified(e,!0,!0,!1),e},r.removeConstraint=function(e,t,n){var i=o.indexOf(e.constraints,t);if(-1!==i&&r.removeConstraintAt(e,i),n)for(var a=0;a<e.composites.length;a++)r.removeConstraint(e.composites[a],t,!0);return e},r.removeConstraintAt=function(e,t){return e.constraints.splice(t,1),r.setModified(e,!0,!0,!1),e},r.clear=function(e,t,n){if(n)for(var i=0;i<e.composites.length;i++)r.clear(e.composites[i],t,!0);return t?e.bodies=e.bodies.filter(function(e){return e.isStatic}):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,r.setModified(e,!0,!0,!1),e},r.allBodies=function(e){if(e.cache&&e.cache.allBodies)return e.cache.allBodies;for(var t=[].concat(e.bodies),n=0;n<e.composites.length;n++)t=t.concat(r.allBodies(e.composites[n]));return e.cache&&(e.cache.allBodies=t),t},r.allConstraints=function(e){if(e.cache&&e.cache.allConstraints)return e.cache.allConstraints;for(var t=[].concat(e.constraints),n=0;n<e.composites.length;n++)t=t.concat(r.allConstraints(e.composites[n]));return e.cache&&(e.cache.allConstraints=t),t},r.allComposites=function(e){if(e.cache&&e.cache.allComposites)return e.cache.allComposites;for(var t=[].concat(e.composites),n=0;n<e.composites.length;n++)t=t.concat(r.allComposites(e.composites[n]));return e.cache&&(e.cache.allComposites=t),t},r.get=function(e,t,n){var i,o;switch(n){case"body":i=r.allBodies(e);break;case"constraint":i=r.allConstraints(e);break;case"composite":i=r.allComposites(e).concat(e)}return i?0===(o=i.filter(function(e){return e.id.toString()===t.toString()})).length?null:o[0]:null},r.move=function(e,t,n){return r.remove(e,t),r.add(n,t),e},r.rebase=function(e){for(var t=r.allBodies(e).concat(r.allConstraints(e)).concat(r.allComposites(e)),n=0;n<t.length;n++)t[n].id=o.nextId();return e},r.translate=function(e,t,n){for(var i=n?r.allBodies(e):e.bodies,o=0;o<i.length;o++)s.translate(i[o],t);return e},r.rotate=function(e,t,n,i){for(var o=Math.cos(t),a=Math.sin(t),l=i?r.allBodies(e):e.bodies,u=0;u<l.length;u++){var c=l[u],d=c.position.x-n.x,h=c.position.y-n.y;s.setPosition(c,{x:n.x+(d*o-h*a),y:n.y+(d*a+h*o)}),s.rotate(c,t)}return e},r.scale=function(e,t,n,i,o){for(var a=o?r.allBodies(e):e.bodies,l=0;l<a.length;l++){var u=a[l],c=u.position.x-i.x,d=u.position.y-i.y;s.setPosition(u,{x:i.x+c*t,y:i.y+d*n}),s.scale(u,t,n)}return e},r.bounds=function(e){for(var t=r.allBodies(e),n=[],i=0;i<t.length;i+=1){var o=t[i];n.push(o.bounds.min,o.bounds.max)}return a.create(n)}},function(e,t,n){var r={};e.exports=r;var i=n(4),o=n(5),a=n(0);r._motionWakeThreshold=.18,r._motionSleepThreshold=.08,r._minBias=.9,r.update=function(e,t){for(var n=t/a._baseDelta,o=r._motionSleepThreshold,s=0;s<e.length;s++){var l=e[s],u=i.getSpeed(l),c=i.getAngularSpeed(l),d=u*u+c*c;if(0===l.force.x&&0===l.force.y){var h=Math.min(l.motion,d),p=Math.max(l.motion,d);l.motion=r._minBias*h+(1-r._minBias)*p,l.sleepThreshold>0&&l.motion<o?(l.sleepCounter+=1,l.sleepCounter>=l.sleepThreshold/n&&r.set(l,!0)):l.sleepCounter>0&&(l.sleepCounter-=1)}else r.set(l,!1)}},r.afterCollisions=function(e){for(var t=r._motionSleepThreshold,n=0;n<e.length;n++){var i=e[n];if(i.isActive){var o=i.collision,a=o.bodyA.parent,s=o.bodyB.parent;if(!(a.isSleeping&&s.isSleeping||a.isStatic||s.isStatic)&&(a.isSleeping||s.isSleeping)){var l=a.isSleeping&&!a.isStatic?a:s,u=l===a?s:a;!l.isStatic&&u.motion>t&&r.set(l,!1)}}}},r.set=function(e,t){var n=e.isSleeping;t?(e.isSleeping=!0,e.sleepCounter=e.sleepThreshold,e.positionImpulse.x=0,e.positionImpulse.y=0,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.anglePrev=e.angle,e.speed=0,e.angularSpeed=0,e.motion=0,n||o.trigger(e,"sleepStart")):(e.isSleeping=!1,e.sleepCounter=0,n&&o.trigger(e,"sleepEnd"))}},function(e,t,n){var r={};e.exports=r;var i=n(3),o=n(9);!function(){var e=[],t={overlap:0,axis:null},n={overlap:0,axis:null};r.create=function(e,t){return{pair:null,collided:!1,bodyA:e,bodyB:t,parentA:e.parent,parentB:t.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},r.collides=function(e,a,s){if(r._overlapAxes(t,e.vertices,a.vertices,e.axes),t.overlap<=0)return null;if(r._overlapAxes(n,a.vertices,e.vertices,a.axes),n.overlap<=0)return null;var l,u,c=s&&s.table[o.id(e,a)];c?l=c.collision:((l=r.create(e,a)).collided=!0,l.bodyA=e.id<a.id?e:a,l.bodyB=e.id<a.id?a:e,l.parentA=l.bodyA.parent,l.parentB=l.bodyB.parent),e=l.bodyA,a=l.bodyB,u=t.overlap<n.overlap?t:n;var d=l.normal,h=l.tangent,p=l.penetration,f=l.supports,g=u.overlap,m=u.axis,v=m.x,y=m.y;v*(a.position.x-e.position.x)+y*(a.position.y-e.position.y)>=0&&(v=-v,y=-y),d.x=v,d.y=y,h.x=-y,h.y=v,p.x=v*g,p.y=y*g,l.depth=g;var b=r._findSupports(e,a,d,1),w=0;if(i.contains(e.vertices,b[0])&&(f[w++]=b[0]),i.contains(e.vertices,b[1])&&(f[w++]=b[1]),w<2){var x=r._findSupports(a,e,d,-1);i.contains(a.vertices,x[0])&&(f[w++]=x[0]),w<2&&i.contains(a.vertices,x[1])&&(f[w++]=x[1])}return 0===w&&(f[w++]=b[0]),l.supportCount=w,l},r._overlapAxes=function(e,t,n,r){var i,o,a,s,l,u,c=t.length,d=n.length,h=t[0].x,p=t[0].y,f=n[0].x,g=n[0].y,m=r.length,v=Number.MAX_VALUE,y=0;for(l=0;l<m;l++){var b=r[l],w=b.x,x=b.y,_=h*w+p*x,k=f*w+g*x,S=_,E=k;for(u=1;u<c;u+=1)(s=t[u].x*w+t[u].y*x)>S?S=s:s<_&&(_=s);for(u=1;u<d;u+=1)(s=n[u].x*w+n[u].y*x)>E?E=s:s<k&&(k=s);if((i=(o=S-k)<(a=E-_)?o:a)<v&&(v=i,y=l,i<=0))break}e.axis=r[y],e.overlap=v},r._findSupports=function(t,n,r,i){var o,a,s,l=n.vertices,u=l.length,c=t.position.x,d=t.position.y,h=r.x*i,p=r.y*i,f=l[0],g=f,m=h*(c-g.x)+p*(d-g.y);for(s=1;s<u;s+=1)(a=h*(c-(g=l[s]).x)+p*(d-g.y))<m&&(m=a,f=g);return m=h*(c-(o=l[(u+f.index-1)%u]).x)+p*(d-o.y),h*(c-(g=l[(f.index+1)%u]).x)+p*(d-g.y)<m?(e[0]=f,e[1]=g,e):(e[0]=f,e[1]=o,e)}}()},function(e,t,n){var r={};e.exports=r;var i=n(16);r.create=function(e,t){var n=e.bodyA,o=e.bodyB,a={id:r.id(n,o),bodyA:n,bodyB:o,collision:e,contacts:[i.create(),i.create()],contactCount:0,separation:0,isActive:!0,isSensor:n.isSensor||o.isSensor,timeCreated:t,timeUpdated:t,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return r.update(a,e,t),a},r.update=function(e,t,n){var r=t.supports,i=t.supportCount,o=e.contacts,a=t.parentA,s=t.parentB;e.isActive=!0,e.timeUpdated=n,e.collision=t,e.separation=t.depth,e.inverseMass=a.inverseMass+s.inverseMass,e.friction=a.friction<s.friction?a.friction:s.friction,e.frictionStatic=a.frictionStatic>s.frictionStatic?a.frictionStatic:s.frictionStatic,e.restitution=a.restitution>s.restitution?a.restitution:s.restitution,e.slop=a.slop>s.slop?a.slop:s.slop,e.contactCount=i,t.pair=e;var l=r[0],u=o[0],c=r[1],d=o[1];d.vertex!==l&&u.vertex!==c||(o[1]=u,o[0]=u=d,d=o[1]),u.vertex=l,d.vertex=c},r.setActive=function(e,t,n){t?(e.isActive=!0,e.timeUpdated=n):(e.isActive=!1,e.contactCount=0)},r.id=function(e,t){return e.id<t.id?e.id.toString(36)+":"+t.id.toString(36):t.id.toString(36)+":"+e.id.toString(36)}},function(e,t,n){var r={};e.exports=r;var i=n(3),o=n(2),a=n(7),s=n(1),l=n(11),u=n(0);r._warming=.4,r._torqueDampen=1,r._minLength=1e-6,r.create=function(e){var t=e;t.bodyA&&!t.pointA&&(t.pointA={x:0,y:0}),t.bodyB&&!t.pointB&&(t.pointB={x:0,y:0});var n=t.bodyA?o.add(t.bodyA.position,t.pointA):t.pointA,r=t.bodyB?o.add(t.bodyB.position,t.pointB):t.pointB,i=o.magnitude(o.sub(n,r));t.length="undefined"!==typeof t.length?t.length:i,t.id=t.id||u.nextId(),t.label=t.label||"Constraint",t.type="constraint",t.stiffness=t.stiffness||(t.length>0?1:.7),t.damping=t.damping||0,t.angularStiffness=t.angularStiffness||0,t.angleA=t.bodyA?t.bodyA.angle:t.angleA,t.angleB=t.bodyB?t.bodyB.angle:t.angleB,t.plugin={};var a={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return 0===t.length&&t.stiffness>.1?(a.type="pin",a.anchors=!1):t.stiffness<.9&&(a.type="spring"),t.render=u.extend(a,t.render),t},r.preSolveAll=function(e){for(var t=0;t<e.length;t+=1){var n=e[t],r=n.constraintImpulse;n.isStatic||0===r.x&&0===r.y&&0===r.angle||(n.position.x+=r.x,n.position.y+=r.y,n.angle+=r.angle)}},r.solveAll=function(e,t){for(var n=u.clamp(t/u._baseDelta,0,1),i=0;i<e.length;i+=1){var o=e[i],a=!o.bodyA||o.bodyA&&o.bodyA.isStatic,s=!o.bodyB||o.bodyB&&o.bodyB.isStatic;(a||s)&&r.solve(e[i],n)}for(i=0;i<e.length;i+=1)a=!(o=e[i]).bodyA||o.bodyA&&o.bodyA.isStatic,s=!o.bodyB||o.bodyB&&o.bodyB.isStatic,a||s||r.solve(e[i],n)},r.solve=function(e,t){var n=e.bodyA,i=e.bodyB,a=e.pointA,s=e.pointB;if(n||i){n&&!n.isStatic&&(o.rotate(a,n.angle-e.angleA,a),e.angleA=n.angle),i&&!i.isStatic&&(o.rotate(s,i.angle-e.angleB,s),e.angleB=i.angle);var l=a,u=s;if(n&&(l=o.add(n.position,a)),i&&(u=o.add(i.position,s)),l&&u){var c=o.sub(l,u),d=o.magnitude(c);d<r._minLength&&(d=r._minLength);var h,p,f,g,m,v=(d-e.length)/d,y=e.stiffness>=1||0===e.length?e.stiffness*t:e.stiffness*t*t,b=e.damping*t,w=o.mult(c,v*y),x=(n?n.inverseMass:0)+(i?i.inverseMass:0),_=x+((n?n.inverseInertia:0)+(i?i.inverseInertia:0));if(b>0){var k=o.create();f=o.div(c,d),m=o.sub(i&&o.sub(i.position,i.positionPrev)||k,n&&o.sub(n.position,n.positionPrev)||k),g=o.dot(f,m)}n&&!n.isStatic&&(p=n.inverseMass/x,n.constraintImpulse.x-=w.x*p,n.constraintImpulse.y-=w.y*p,n.position.x-=w.x*p,n.position.y-=w.y*p,b>0&&(n.positionPrev.x-=b*f.x*g*p,n.positionPrev.y-=b*f.y*g*p),h=o.cross(a,w)/_*r._torqueDampen*n.inverseInertia*(1-e.angularStiffness),n.constraintImpulse.angle-=h,n.angle-=h),i&&!i.isStatic&&(p=i.inverseMass/x,i.constraintImpulse.x+=w.x*p,i.constraintImpulse.y+=w.y*p,i.position.x+=w.x*p,i.position.y+=w.y*p,b>0&&(i.positionPrev.x+=b*f.x*g*p,i.positionPrev.y+=b*f.y*g*p),h=o.cross(s,w)/_*r._torqueDampen*i.inverseInertia*(1-e.angularStiffness),i.constraintImpulse.angle+=h,i.angle+=h)}}},r.postSolveAll=function(e){for(var t=0;t<e.length;t++){var n=e[t],u=n.constraintImpulse;if(!(n.isStatic||0===u.x&&0===u.y&&0===u.angle)){a.set(n,!1);for(var c=0;c<n.parts.length;c++){var d=n.parts[c];i.translate(d.vertices,u),c>0&&(d.position.x+=u.x,d.position.y+=u.y),0!==u.angle&&(i.rotate(d.vertices,u.angle,n.position),l.rotate(d.axes,u.angle),c>0&&o.rotateAbout(d.position,u.angle,n.position,d.position)),s.update(d.bounds,d.vertices,n.velocity)}u.angle*=r._warming,u.x*=r._warming,u.y*=r._warming}}},r.pointAWorld=function(e){return{x:(e.bodyA?e.bodyA.position.x:0)+(e.pointA?e.pointA.x:0),y:(e.bodyA?e.bodyA.position.y:0)+(e.pointA?e.pointA.y:0)}},r.pointBWorld=function(e){return{x:(e.bodyB?e.bodyB.position.x:0)+(e.pointB?e.pointB.x:0),y:(e.bodyB?e.bodyB.position.y:0)+(e.pointB?e.pointB.y:0)}},r.currentLength=function(e){var t=(e.bodyA?e.bodyA.position.x:0)+(e.pointA?e.pointA.x:0),n=(e.bodyA?e.bodyA.position.y:0)+(e.pointA?e.pointA.y:0),r=t-((e.bodyB?e.bodyB.position.x:0)+(e.pointB?e.pointB.x:0)),i=n-((e.bodyB?e.bodyB.position.y:0)+(e.pointB?e.pointB.y:0));return Math.sqrt(r*r+i*i)}},function(e,t,n){var r={};e.exports=r;var i=n(2),o=n(0);r.fromVertices=function(e){for(var t={},n=0;n<e.length;n++){var r=(n+1)%e.length,a=i.normalise({x:e[r].y-e[n].y,y:e[n].x-e[r].x}),s=0===a.y?1/0:a.x/a.y;t[s=s.toFixed(3).toString()]=a}return o.values(t)},r.rotate=function(e,t){if(0!==t)for(var n=Math.cos(t),r=Math.sin(t),i=0;i<e.length;i++){var o,a=e[i];o=a.x*n-a.y*r,a.y=a.x*r+a.y*n,a.x=o}}},function(e,t,n){var r={};e.exports=r;var i=n(3),o=n(0),a=n(4),s=n(1),l=n(2);r.rectangle=function(e,t,n,r,s){s=s||{};var l={label:"Rectangle Body",position:{x:e,y:t},vertices:i.fromPath("L 0 0 L "+n+" 0 L "+n+" "+r+" L 0 "+r)};if(s.chamfer){var u=s.chamfer;l.vertices=i.chamfer(l.vertices,u.radius,u.quality,u.qualityMin,u.qualityMax),delete s.chamfer}return a.create(o.extend({},l,s))},r.trapezoid=function(e,t,n,r,s,l){l=l||{},s>=1&&o.warn("Bodies.trapezoid: slope parameter must be < 1.");var u,c=n*(s*=.5),d=c+(1-2*s)*n,h=d+c;u=s<.5?"L 0 0 L "+c+" "+-r+" L "+d+" "+-r+" L "+h+" 0":"L 0 0 L "+d+" "+-r+" L "+h+" 0";var p={label:"Trapezoid Body",position:{x:e,y:t},vertices:i.fromPath(u)};if(l.chamfer){var f=l.chamfer;p.vertices=i.chamfer(p.vertices,f.radius,f.quality,f.qualityMin,f.qualityMax),delete l.chamfer}return a.create(o.extend({},p,l))},r.circle=function(e,t,n,i,a){i=i||{};var s={label:"Circle Body",circleRadius:n};a=a||25;var l=Math.ceil(Math.max(10,Math.min(a,n)));return l%2===1&&(l+=1),r.polygon(e,t,l,n,o.extend({},s,i))},r.polygon=function(e,t,n,s,l){if(l=l||{},n<3)return r.circle(e,t,s,l);for(var u=2*Math.PI/n,c="",d=.5*u,h=0;h<n;h+=1){var p=d+h*u,f=Math.cos(p)*s,g=Math.sin(p)*s;c+="L "+f.toFixed(3)+" "+g.toFixed(3)+" "}var m={label:"Polygon Body",position:{x:e,y:t},vertices:i.fromPath(c)};if(l.chamfer){var v=l.chamfer;m.vertices=i.chamfer(m.vertices,v.radius,v.quality,v.qualityMin,v.qualityMax),delete l.chamfer}return a.create(o.extend({},m,l))},r.fromVertices=function(e,t,n,r,u,c,d,h){var p,f,g,m,v,y,b,w,x,_,k=o.getDecomp();for(p=Boolean(k&&k.quickDecomp),r=r||{},g=[],u="undefined"!==typeof u&&u,c="undefined"!==typeof c?c:.01,d="undefined"!==typeof d?d:10,h="undefined"!==typeof h?h:.01,o.isArray(n[0])||(n=[n]),x=0;x<n.length;x+=1)if(v=n[x],!(m=i.isConvex(v))&&!p&&o.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),m||!p)v=m?i.clockwiseSort(v):i.hull(v),g.push({position:{x:e,y:t},vertices:v});else{var S=v.map(function(e){return[e.x,e.y]});k.makeCCW(S),!1!==c&&k.removeCollinearPoints(S,c),!1!==h&&k.removeDuplicatePoints&&k.removeDuplicatePoints(S,h);var E=k.quickDecomp(S);for(y=0;y<E.length;y++){var C=E[y].map(function(e){return{x:e[0],y:e[1]}});d>0&&i.area(C)<d||g.push({position:i.centre(C),vertices:C})}}for(y=0;y<g.length;y++)g[y]=a.create(o.extend(g[y],r));if(u)for(y=0;y<g.length;y++){var P=g[y];for(b=y+1;b<g.length;b++){var T=g[b];if(s.overlaps(P.bounds,T.bounds)){var I=P.vertices,A=T.vertices;for(w=0;w<P.vertices.length;w++)for(_=0;_<T.vertices.length;_++){var M=l.magnitudeSquared(l.sub(I[(w+1)%I.length],A[_])),R=l.magnitudeSquared(l.sub(I[w],A[(_+1)%A.length]));M<5&&R<5&&(I[w].isInternal=!0,A[_].isInternal=!0)}}}}return g.length>1?(f=a.create(o.extend({parts:g.slice(0)},r)),a.setPosition(f,{x:e,y:t}),f):g[0]}},function(e,t,n){var r={};e.exports=r;var i=n(0),o=n(8);r.create=function(e){return i.extend({bodies:[],collisions:[],pairs:null},e)},r.setBodies=function(e,t){e.bodies=t.slice(0)},r.clear=function(e){e.bodies=[],e.collisions=[]},r.collisions=function(e){var t,n,i=e.pairs,a=e.bodies,s=a.length,l=r.canCollide,u=o.collides,c=e.collisions,d=0;for(a.sort(r._compareBoundsX),t=0;t<s;t++){var h=a[t],p=h.bounds,f=h.bounds.max.x,g=h.bounds.max.y,m=h.bounds.min.y,v=h.isStatic||h.isSleeping,y=h.parts.length,b=1===y;for(n=t+1;n<s;n++){var w=a[n];if((T=w.bounds).min.x>f)break;if(!(g<T.min.y||m>T.max.y)&&(!v||!w.isStatic&&!w.isSleeping)&&l(h.collisionFilter,w.collisionFilter)){var x=w.parts.length;if(b&&1===x)(C=u(h,w,i))&&(c[d++]=C);else for(var _=x>1?1:0,k=y>1?1:0;k<y;k++)for(var S=h.parts[k],E=(p=S.bounds,_);E<x;E++){var C,P=w.parts[E],T=P.bounds;p.min.x>T.max.x||p.max.x<T.min.x||p.max.y<T.min.y||p.min.y>T.max.y||(C=u(S,P,i))&&(c[d++]=C)}}}}return c.length!==d&&(c.length=d),c},r.canCollide=function(e,t){return e.group===t.group&&0!==e.group?e.group>0:0!==(e.mask&t.category)&&0!==(t.mask&e.category)},r._compareBoundsX=function(e,t){return e.bounds.min.x-t.bounds.min.x}},function(e,t,n){var r={};e.exports=r;var i=n(0);r.create=function(e){var t={};return e||i.log("Mouse.create: element was undefined, defaulting to document.body","warn"),t.element=e||document.body,t.absolute={x:0,y:0},t.position={x:0,y:0},t.mousedownPosition={x:0,y:0},t.mouseupPosition={x:0,y:0},t.offset={x:0,y:0},t.scale={x:1,y:1},t.wheelDelta=0,t.button=-1,t.pixelRatio=parseInt(t.element.getAttribute("data-pixel-ratio"),10)||1,t.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},t.mousemove=function(e){var n=r._getRelativeMousePosition(e,t.element,t.pixelRatio);e.changedTouches&&(t.button=0,e.preventDefault()),t.absolute.x=n.x,t.absolute.y=n.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y,t.sourceEvents.mousemove=e},t.mousedown=function(e){var n=r._getRelativeMousePosition(e,t.element,t.pixelRatio);e.changedTouches?(t.button=0,e.preventDefault()):t.button=e.button,t.absolute.x=n.x,t.absolute.y=n.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y,t.mousedownPosition.x=t.position.x,t.mousedownPosition.y=t.position.y,t.sourceEvents.mousedown=e},t.mouseup=function(e){var n=r._getRelativeMousePosition(e,t.element,t.pixelRatio);e.changedTouches&&e.preventDefault(),t.button=-1,t.absolute.x=n.x,t.absolute.y=n.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y,t.mouseupPosition.x=t.position.x,t.mouseupPosition.y=t.position.y,t.sourceEvents.mouseup=e},t.mousewheel=function(e){t.wheelDelta=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail)),e.preventDefault(),t.sourceEvents.mousewheel=e},r.setElement(t,t.element),t},r.setElement=function(e,t){e.element=t,t.addEventListener("mousemove",e.mousemove,{passive:!0}),t.addEventListener("mousedown",e.mousedown,{passive:!0}),t.addEventListener("mouseup",e.mouseup,{passive:!0}),t.addEventListener("wheel",e.mousewheel,{passive:!1}),t.addEventListener("touchmove",e.mousemove,{passive:!1}),t.addEventListener("touchstart",e.mousedown,{passive:!1}),t.addEventListener("touchend",e.mouseup,{passive:!1})},r.clearSourceEvents=function(e){e.sourceEvents.mousemove=null,e.sourceEvents.mousedown=null,e.sourceEvents.mouseup=null,e.sourceEvents.mousewheel=null,e.wheelDelta=0},r.setOffset=function(e,t){e.offset.x=t.x,e.offset.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y},r.setScale=function(e,t){e.scale.x=t.x,e.scale.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y},r._getRelativeMousePosition=function(e,t,n){var r,i,o=t.getBoundingClientRect(),a=document.documentElement||document.body.parentNode||document.body,s=void 0!==window.pageXOffset?window.pageXOffset:a.scrollLeft,l=void 0!==window.pageYOffset?window.pageYOffset:a.scrollTop,u=e.changedTouches;return u?(r=u[0].pageX-o.left-s,i=u[0].pageY-o.top-l):(r=e.pageX-o.left-s,i=e.pageY-o.top-l),{x:r/(t.clientWidth/(t.width||t.clientWidth)*n),y:i/(t.clientHeight/(t.height||t.clientHeight)*n)}}},function(e,t,n){var r={};e.exports=r;var i=n(0);r._registry={},r.register=function(e){if(r.isPlugin(e)||i.warn("Plugin.register:",r.toString(e),"does not implement all required fields."),e.name in r._registry){var t=r._registry[e.name],n=r.versionParse(e.version).number,o=r.versionParse(t.version).number;n>o?(i.warn("Plugin.register:",r.toString(t),"was upgraded to",r.toString(e)),r._registry[e.name]=e):n<o?i.warn("Plugin.register:",r.toString(t),"can not be downgraded to",r.toString(e)):e!==t&&i.warn("Plugin.register:",r.toString(e),"is already registered to different plugin object")}else r._registry[e.name]=e;return e},r.resolve=function(e){return r._registry[r.dependencyParse(e).name]},r.toString=function(e){return"string"===typeof e?e:(e.name||"anonymous")+"@"+(e.version||e.range||"0.0.0")},r.isPlugin=function(e){return e&&e.name&&e.version&&e.install},r.isUsed=function(e,t){return e.used.indexOf(t)>-1},r.isFor=function(e,t){var n=e.for&&r.dependencyParse(e.for);return!e.for||t.name===n.name&&r.versionSatisfies(t.version,n.range)},r.use=function(e,t){if(e.uses=(e.uses||[]).concat(t||[]),0!==e.uses.length){for(var n=r.dependencies(e),o=i.topologicalSort(n),a=[],s=0;s<o.length;s+=1)if(o[s]!==e.name){var l=r.resolve(o[s]);l?r.isUsed(e,l.name)||(r.isFor(l,e)||(i.warn("Plugin.use:",r.toString(l),"is for",l.for,"but installed on",r.toString(e)+"."),l._warned=!0),l.install?l.install(e):(i.warn("Plugin.use:",r.toString(l),"does not specify an install function."),l._warned=!0),l._warned?(a.push("\ud83d\udd36 "+r.toString(l)),delete l._warned):a.push("\u2705 "+r.toString(l)),e.used.push(l.name)):a.push("\u274c "+o[s])}a.length>0&&i.info(a.join("  "))}else i.warn("Plugin.use:",r.toString(e),"does not specify any dependencies to install.")},r.dependencies=function(e,t){var n=r.dependencyParse(e),o=n.name;if(!(o in(t=t||{}))){e=r.resolve(e)||e,t[o]=i.map(e.uses||[],function(t){r.isPlugin(t)&&r.register(t);var o=r.dependencyParse(t),a=r.resolve(t);return a&&!r.versionSatisfies(a.version,o.range)?(i.warn("Plugin.dependencies:",r.toString(a),"does not satisfy",r.toString(o),"used by",r.toString(n)+"."),a._warned=!0,e._warned=!0):a||(i.warn("Plugin.dependencies:",r.toString(t),"used by",r.toString(n),"could not be resolved."),e._warned=!0),o.name});for(var a=0;a<t[o].length;a+=1)r.dependencies(t[o][a],t);return t}},r.dependencyParse=function(e){return i.isString(e)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/.test(e)||i.warn("Plugin.dependencyParse:",e,"is not a valid dependency string."),{name:e.split("@")[0],range:e.split("@")[1]||"*"}):{name:e.name,range:e.range||e.version}},r.versionParse=function(e){var t=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;t.test(e)||i.warn("Plugin.versionParse:",e,"is not a valid version or range.");var n=t.exec(e),r=Number(n[4]),o=Number(n[5]),a=Number(n[6]);return{isRange:Boolean(n[1]||n[2]),version:n[3],range:e,operator:n[1]||n[2]||"",major:r,minor:o,patch:a,parts:[r,o,a],prerelease:n[7],number:1e8*r+1e4*o+a}},r.versionSatisfies=function(e,t){t=t||"*";var n=r.versionParse(t),i=r.versionParse(e);if(n.isRange){if("*"===n.operator||"*"===e)return!0;if(">"===n.operator)return i.number>n.number;if(">="===n.operator)return i.number>=n.number;if("~"===n.operator)return i.major===n.major&&i.minor===n.minor&&i.patch>=n.patch;if("^"===n.operator)return n.major>0?i.major===n.major&&i.number>=n.number:n.minor>0?i.minor===n.minor&&i.patch>=n.patch:i.patch===n.patch}return e===t||"*"===e}},function(e,t){var n={};e.exports=n,n.create=function(e){return{vertex:e,normalImpulse:0,tangentImpulse:0}}},function(e,t,n){var r={};e.exports=r;var i=n(7),o=n(18),a=n(13),s=n(19),l=n(5),u=n(6),c=n(10),d=n(0),h=n(4);r._deltaMax=1e3/60,r.create=function(e){e=e||{};var t=d.extend({positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},e);return t.world=e.world||u.create({label:"World"}),t.pairs=e.pairs||s.create(),t.detector=e.detector||a.create(),t.detector.pairs=t.pairs,t.grid={buckets:[]},t.world.gravity=t.gravity,t.broadphase=t.grid,t.metrics={},t},r.update=function(e,t){var n,h=d.now(),p=e.world,f=e.detector,g=e.pairs,m=e.timing,v=m.timestamp;t>r._deltaMax&&d.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",r._deltaMax.toFixed(3),"ms."),t="undefined"!==typeof t?t:d._baseDelta,t*=m.timeScale,m.timestamp+=t,m.lastDelta=t;var y={timestamp:m.timestamp,delta:t};l.trigger(e,"beforeUpdate",y);var b=u.allBodies(p),w=u.allConstraints(p);for(p.isModified&&(a.setBodies(f,b),u.setModified(p,!1,!1,!0)),e.enableSleeping&&i.update(b,t),r._bodiesApplyGravity(b,e.gravity),t>0&&r._bodiesUpdate(b,t),l.trigger(e,"beforeSolve",y),c.preSolveAll(b),n=0;n<e.constraintIterations;n++)c.solveAll(w,t);c.postSolveAll(b);var x=a.collisions(f);s.update(g,x,v),e.enableSleeping&&i.afterCollisions(g.list),g.collisionStart.length>0&&l.trigger(e,"collisionStart",{pairs:g.collisionStart,timestamp:m.timestamp,delta:t});var _=d.clamp(20/e.positionIterations,0,1);for(o.preSolvePosition(g.list),n=0;n<e.positionIterations;n++)o.solvePosition(g.list,t,_);for(o.postSolvePosition(b),c.preSolveAll(b),n=0;n<e.constraintIterations;n++)c.solveAll(w,t);for(c.postSolveAll(b),o.preSolveVelocity(g.list),n=0;n<e.velocityIterations;n++)o.solveVelocity(g.list,t);return r._bodiesUpdateVelocities(b),g.collisionActive.length>0&&l.trigger(e,"collisionActive",{pairs:g.collisionActive,timestamp:m.timestamp,delta:t}),g.collisionEnd.length>0&&l.trigger(e,"collisionEnd",{pairs:g.collisionEnd,timestamp:m.timestamp,delta:t}),r._bodiesClearForces(b),l.trigger(e,"afterUpdate",y),e.timing.lastElapsed=d.now()-h,e},r.merge=function(e,t){if(d.extend(e,t),t.world){e.world=t.world,r.clear(e);for(var n=u.allBodies(e.world),o=0;o<n.length;o++){var a=n[o];i.set(a,!1),a.id=d.nextId()}}},r.clear=function(e){s.clear(e.pairs),a.clear(e.detector)},r._bodiesClearForces=function(e){for(var t=e.length,n=0;n<t;n++){var r=e[n];r.force.x=0,r.force.y=0,r.torque=0}},r._bodiesApplyGravity=function(e,t){var n="undefined"!==typeof t.scale?t.scale:.001,r=e.length;if((0!==t.x||0!==t.y)&&0!==n)for(var i=0;i<r;i++){var o=e[i];o.isStatic||o.isSleeping||(o.force.y+=o.mass*t.y*n,o.force.x+=o.mass*t.x*n)}},r._bodiesUpdate=function(e,t){for(var n=e.length,r=0;r<n;r++){var i=e[r];i.isStatic||i.isSleeping||h.update(i,t)}},r._bodiesUpdateVelocities=function(e){for(var t=e.length,n=0;n<t;n++)h.updateVelocities(e[n])}},function(e,t,n){var r={};e.exports=r;var i=n(3),o=n(0),a=n(1);r._restingThresh=2,r._restingThreshTangent=Math.sqrt(6),r._positionDampen=.9,r._positionWarming=.8,r._frictionNormalMultiplier=5,r._frictionMaxStatic=Number.MAX_VALUE,r.preSolvePosition=function(e){var t,n,r,i=e.length;for(t=0;t<i;t++)(n=e[t]).isActive&&(r=n.contactCount,n.collision.parentA.totalContacts+=r,n.collision.parentB.totalContacts+=r)},r.solvePosition=function(e,t,n){var i,a,s,l,u,c,d,h,p=r._positionDampen*(n||1),f=o.clamp(t/o._baseDelta,0,1),g=e.length;for(i=0;i<g;i++)(a=e[i]).isActive&&!a.isSensor&&(l=(s=a.collision).parentA,u=s.parentB,c=s.normal,a.separation=s.depth+c.x*(u.positionImpulse.x-l.positionImpulse.x)+c.y*(u.positionImpulse.y-l.positionImpulse.y));for(i=0;i<g;i++)(a=e[i]).isActive&&!a.isSensor&&(l=(s=a.collision).parentA,u=s.parentB,c=s.normal,h=a.separation-a.slop*f,(l.isStatic||u.isStatic)&&(h*=2),l.isStatic||l.isSleeping||(d=p/l.totalContacts,l.positionImpulse.x+=c.x*h*d,l.positionImpulse.y+=c.y*h*d),u.isStatic||u.isSleeping||(d=p/u.totalContacts,u.positionImpulse.x-=c.x*h*d,u.positionImpulse.y-=c.y*h*d))},r.postSolvePosition=function(e){for(var t=r._positionWarming,n=e.length,o=i.translate,s=a.update,l=0;l<n;l++){var u=e[l],c=u.positionImpulse,d=c.x,h=c.y,p=u.velocity;if(u.totalContacts=0,0!==d||0!==h){for(var f=0;f<u.parts.length;f++){var g=u.parts[f];o(g.vertices,c),s(g.bounds,g.vertices,p),g.position.x+=d,g.position.y+=h}u.positionPrev.x+=d,u.positionPrev.y+=h,d*p.x+h*p.y<0?(c.x=0,c.y=0):(c.x*=t,c.y*=t)}}},r.preSolveVelocity=function(e){var t,n,r=e.length;for(t=0;t<r;t++){var i=e[t];if(i.isActive&&!i.isSensor){var o=i.contacts,a=i.contactCount,s=i.collision,l=s.parentA,u=s.parentB,c=s.normal,d=s.tangent;for(n=0;n<a;n++){var h=o[n],p=h.vertex,f=h.normalImpulse,g=h.tangentImpulse;if(0!==f||0!==g){var m=c.x*f+d.x*g,v=c.y*f+d.y*g;l.isStatic||l.isSleeping||(l.positionPrev.x+=m*l.inverseMass,l.positionPrev.y+=v*l.inverseMass,l.anglePrev+=l.inverseInertia*((p.x-l.position.x)*v-(p.y-l.position.y)*m)),u.isStatic||u.isSleeping||(u.positionPrev.x-=m*u.inverseMass,u.positionPrev.y-=v*u.inverseMass,u.anglePrev-=u.inverseInertia*((p.x-u.position.x)*v-(p.y-u.position.y)*m))}}}}},r.solveVelocity=function(e,t){var n,i,a,s,l=t/o._baseDelta,u=l*l*l,c=-r._restingThresh*l,d=r._restingThreshTangent,h=r._frictionNormalMultiplier*l,p=r._frictionMaxStatic,f=e.length;for(a=0;a<f;a++){var g=e[a];if(g.isActive&&!g.isSensor){var m=g.collision,v=m.parentA,y=m.parentB,b=m.normal.x,w=m.normal.y,x=m.tangent.x,_=m.tangent.y,k=g.inverseMass,S=g.friction*g.frictionStatic*h,E=g.contacts,C=g.contactCount,P=1/C,T=v.position.x-v.positionPrev.x,I=v.position.y-v.positionPrev.y,A=v.angle-v.anglePrev,M=y.position.x-y.positionPrev.x,R=y.position.y-y.positionPrev.y,F=y.angle-y.anglePrev;for(s=0;s<C;s++){var L=E[s],D=L.vertex,O=D.x-v.position.x,j=D.y-v.position.y,N=D.x-y.position.x,z=D.y-y.position.y,B=T-j*A-(M-z*F),$=I+O*A-(R+N*F),H=b*B+w*$,W=x*B+_*$,U=g.separation+H,V=Math.min(U,1),q=(V=U<0?0:V)*S;W<-q||W>q?(i=W>0?W:-W,(n=g.friction*(W>0?1:-1)*u)<-i?n=-i:n>i&&(n=i)):(n=W,i=p);var Y=O*w-j*b,G=N*w-z*b,Q=P/(k+v.inverseInertia*Y*Y+y.inverseInertia*G*G),K=(1+g.restitution)*H*Q;if(n*=Q,H<c)L.normalImpulse=0;else{var X=L.normalImpulse;L.normalImpulse+=K,L.normalImpulse>0&&(L.normalImpulse=0),K=L.normalImpulse-X}if(W<-d||W>d)L.tangentImpulse=0;else{var J=L.tangentImpulse;L.tangentImpulse+=n,L.tangentImpulse<-i&&(L.tangentImpulse=-i),L.tangentImpulse>i&&(L.tangentImpulse=i),n=L.tangentImpulse-J}var Z=b*K+x*n,ee=w*K+_*n;v.isStatic||v.isSleeping||(v.positionPrev.x+=Z*v.inverseMass,v.positionPrev.y+=ee*v.inverseMass,v.anglePrev+=(O*ee-j*Z)*v.inverseInertia),y.isStatic||y.isSleeping||(y.positionPrev.x-=Z*y.inverseMass,y.positionPrev.y-=ee*y.inverseMass,y.anglePrev-=(N*ee-z*Z)*y.inverseInertia)}}}}},function(e,t,n){var r={};e.exports=r;var i=n(9),o=n(0);r.create=function(e){return o.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},e)},r.update=function(e,t,n){var r,o,a,s=i.update,l=i.create,u=i.setActive,c=e.table,d=e.list,h=d.length,p=h,f=e.collisionStart,g=e.collisionEnd,m=e.collisionActive,v=t.length,y=0,b=0,w=0;for(a=0;a<v;a++)(o=(r=t[a]).pair)?(o.isActive&&(m[w++]=o),s(o,r,n)):(c[(o=l(r,n)).id]=o,f[y++]=o,d[p++]=o);for(p=0,h=d.length,a=0;a<h;a++)(o=d[a]).timeUpdated>=n?d[p++]=o:(u(o,!1,n),o.collision.bodyA.sleepCounter>0&&o.collision.bodyB.sleepCounter>0?d[p++]=o:(g[b++]=o,delete c[o.id]));d.length!==p&&(d.length=p),f.length!==y&&(f.length=y),g.length!==b&&(g.length=b),m.length!==w&&(m.length=w)},r.clear=function(e){return e.table={},e.list.length=0,e.collisionStart.length=0,e.collisionActive.length=0,e.collisionEnd.length=0,e}},function(e,t,n){var r=e.exports=n(21);r.Axes=n(11),r.Bodies=n(12),r.Body=n(4),r.Bounds=n(1),r.Collision=n(8),r.Common=n(0),r.Composite=n(6),r.Composites=n(22),r.Constraint=n(10),r.Contact=n(16),r.Detector=n(13),r.Engine=n(17),r.Events=n(5),r.Grid=n(23),r.Mouse=n(14),r.MouseConstraint=n(24),r.Pair=n(9),r.Pairs=n(19),r.Plugin=n(15),r.Query=n(25),r.Render=n(26),r.Resolver=n(18),r.Runner=n(27),r.SAT=n(28),r.Sleeping=n(7),r.Svg=n(29),r.Vector=n(2),r.Vertices=n(3),r.World=n(30),r.Engine.run=r.Runner.run,r.Common.deprecated(r.Engine,"run","Engine.run \u27a4 use Matter.Runner.run(engine) instead")},function(e,t,n){var r={};e.exports=r;var i=n(15),o=n(0);r.name="matter-js",r.version="0.20.0",r.uses=[],r.used=[],r.use=function(){i.use(r,Array.prototype.slice.call(arguments))},r.before=function(e,t){return e=e.replace(/^Matter./,""),o.chainPathBefore(r,e,t)},r.after=function(e,t){return e=e.replace(/^Matter./,""),o.chainPathAfter(r,e,t)}},function(e,t,n){var r={};e.exports=r;var i=n(6),o=n(10),a=n(0),s=n(4),l=n(12),u=a.deprecated;r.stack=function(e,t,n,r,o,a,l){for(var u,c=i.create({label:"Stack"}),d=e,h=t,p=0,f=0;f<r;f++){for(var g=0,m=0;m<n;m++){var v=l(d,h,m,f,u,p);if(v){var y=v.bounds.max.y-v.bounds.min.y,b=v.bounds.max.x-v.bounds.min.x;y>g&&(g=y),s.translate(v,{x:.5*b,y:.5*y}),d=v.bounds.max.x+o,i.addBody(c,v),u=v,p+=1}else d+=o}h+=g+a,d=e}return c},r.chain=function(e,t,n,r,s,l){for(var u=e.bodies,c=1;c<u.length;c++){var d=u[c-1],h=u[c],p=d.bounds.max.y-d.bounds.min.y,f=d.bounds.max.x-d.bounds.min.x,g=h.bounds.max.y-h.bounds.min.y,m={bodyA:d,pointA:{x:f*t,y:p*n},bodyB:h,pointB:{x:(h.bounds.max.x-h.bounds.min.x)*r,y:g*s}},v=a.extend(m,l);i.addConstraint(e,o.create(v))}return e.label+=" Chain",e},r.mesh=function(e,t,n,r,s){var l,u,c,d,h,p=e.bodies;for(l=0;l<n;l++){for(u=1;u<t;u++)c=p[u-1+l*t],d=p[u+l*t],i.addConstraint(e,o.create(a.extend({bodyA:c,bodyB:d},s)));if(l>0)for(u=0;u<t;u++)c=p[u+(l-1)*t],d=p[u+l*t],i.addConstraint(e,o.create(a.extend({bodyA:c,bodyB:d},s))),r&&u>0&&(h=p[u-1+(l-1)*t],i.addConstraint(e,o.create(a.extend({bodyA:h,bodyB:d},s)))),r&&u<t-1&&(h=p[u+1+(l-1)*t],i.addConstraint(e,o.create(a.extend({bodyA:h,bodyB:d},s))))}return e.label+=" Mesh",e},r.pyramid=function(e,t,n,i,o,a,l){return r.stack(e,t,n,i,o,a,function(t,r,a,u,c,d){var h=Math.min(i,Math.ceil(n/2)),p=c?c.bounds.max.x-c.bounds.min.x:0;if(!(u>h)&&!(a<(u=h-u)||a>n-1-u))return 1===d&&s.translate(c,{x:(a+(n%2===1?1:-1))*p,y:0}),l(e+(c?a*p:0)+a*o,r,a,u,c,d)})},r.newtonsCradle=function(e,t,n,r,a){for(var s=i.create({label:"Newtons Cradle"}),u=0;u<n;u++){var c=l.circle(e+u*(1.9*r),t+a,r,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),d=o.create({pointA:{x:e+u*(1.9*r),y:t},bodyB:c});i.addBody(s,c),i.addConstraint(s,d)}return s},u(r,"newtonsCradle","Composites.newtonsCradle \u27a4 moved to newtonsCradle example"),r.car=function(e,t,n,r,a){var u=s.nextGroup(!0),c=.5*-n+20,d=.5*n-20,h=i.create({label:"Car"}),p=l.rectangle(e,t,n,r,{collisionFilter:{group:u},chamfer:{radius:.5*r},density:2e-4}),f=l.circle(e+c,t+0,a,{collisionFilter:{group:u},friction:.8}),g=l.circle(e+d,t+0,a,{collisionFilter:{group:u},friction:.8}),m=o.create({bodyB:p,pointB:{x:c,y:0},bodyA:f,stiffness:1,length:0}),v=o.create({bodyB:p,pointB:{x:d,y:0},bodyA:g,stiffness:1,length:0});return i.addBody(h,p),i.addBody(h,f),i.addBody(h,g),i.addConstraint(h,m),i.addConstraint(h,v),h},u(r,"car","Composites.car \u27a4 moved to car example"),r.softBody=function(e,t,n,i,o,s,u,c,d,h){d=a.extend({inertia:1/0},d),h=a.extend({stiffness:.2,render:{type:"line",anchors:!1}},h);var p=r.stack(e,t,n,i,o,s,function(e,t){return l.circle(e,t,c,d)});return r.mesh(p,n,i,u,h),p.label="Soft Body",p},u(r,"softBody","Composites.softBody \u27a4 moved to softBody and cloth examples")},function(e,t,n){var r={};e.exports=r;var i=n(9),o=n(0),a=o.deprecated;r.create=function(e){return o.extend({buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48},e)},r.update=function(e,t,n,i){var o,a,s,l,u,c=n.world,d=e.buckets,h=!1;for(o=0;o<t.length;o++){var p=t[o];if((!p.isSleeping||i)&&(!c.bounds||!(p.bounds.max.x<c.bounds.min.x||p.bounds.min.x>c.bounds.max.x||p.bounds.max.y<c.bounds.min.y||p.bounds.min.y>c.bounds.max.y))){var f=r._getRegion(e,p);if(!p.region||f.id!==p.region.id||i){p.region&&!i||(p.region=f);var g=r._regionUnion(f,p.region);for(a=g.startCol;a<=g.endCol;a++)for(s=g.startRow;s<=g.endRow;s++){l=d[u=r._getBucketId(a,s)];var m=a>=f.startCol&&a<=f.endCol&&s>=f.startRow&&s<=f.endRow,v=a>=p.region.startCol&&a<=p.region.endCol&&s>=p.region.startRow&&s<=p.region.endRow;!m&&v&&v&&l&&r._bucketRemoveBody(e,l,p),(p.region===f||m&&!v||i)&&(l||(l=r._createBucket(d,u)),r._bucketAddBody(e,l,p))}p.region=f,h=!0}}}h&&(e.pairsList=r._createActivePairsList(e))},a(r,"update","Grid.update \u27a4 replaced by Matter.Detector"),r.clear=function(e){e.buckets={},e.pairs={},e.pairsList=[]},a(r,"clear","Grid.clear \u27a4 replaced by Matter.Detector"),r._regionUnion=function(e,t){var n=Math.min(e.startCol,t.startCol),i=Math.max(e.endCol,t.endCol),o=Math.min(e.startRow,t.startRow),a=Math.max(e.endRow,t.endRow);return r._createRegion(n,i,o,a)},r._getRegion=function(e,t){var n=t.bounds,i=Math.floor(n.min.x/e.bucketWidth),o=Math.floor(n.max.x/e.bucketWidth),a=Math.floor(n.min.y/e.bucketHeight),s=Math.floor(n.max.y/e.bucketHeight);return r._createRegion(i,o,a,s)},r._createRegion=function(e,t,n,r){return{id:e+","+t+","+n+","+r,startCol:e,endCol:t,startRow:n,endRow:r}},r._getBucketId=function(e,t){return"C"+e+"R"+t},r._createBucket=function(e,t){return e[t]=[]},r._bucketAddBody=function(e,t,n){var r,o=e.pairs,a=i.id,s=t.length;for(r=0;r<s;r++){var l=t[r];if(!(n.id===l.id||n.isStatic&&l.isStatic)){var u=a(n,l),c=o[u];c?c[2]+=1:o[u]=[n,l,1]}}t.push(n)},r._bucketRemoveBody=function(e,t,n){var r,a=e.pairs,s=i.id;t.splice(o.indexOf(t,n),1);var l=t.length;for(r=0;r<l;r++){var u=a[s(n,t[r])];u&&(u[2]-=1)}},r._createActivePairsList=function(e){var t,n,r=e.pairs,i=o.keys(r),a=i.length,s=[];for(n=0;n<a;n++)(t=r[i[n]])[2]>0?s.push(t):delete r[i[n]];return s}},function(e,t,n){var r={};e.exports=r;var i=n(3),o=n(7),a=n(14),s=n(5),l=n(13),u=n(10),c=n(6),d=n(0),h=n(1);r.create=function(e,t){var n=(e?e.mouse:null)||(t?t.mouse:null);n||(e&&e.render&&e.render.canvas?n=a.create(e.render.canvas):t&&t.element?n=a.create(t.element):(n=a.create(),d.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var i={type:"mouseConstraint",mouse:n,element:null,body:null,constraint:u.create({label:"Mouse Constraint",pointA:n.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),collisionFilter:{category:1,mask:4294967295,group:0}},o=d.extend(i,t);return s.on(e,"beforeUpdate",function(){var t=c.allBodies(e.world);r.update(o,t),r._triggerEvents(o)}),o},r.update=function(e,t){var n=e.mouse,r=e.constraint,a=e.body;if(0===n.button){if(r.bodyB)o.set(r.bodyB,!1),r.pointA=n.position;else for(var u=0;u<t.length;u++)if(a=t[u],h.contains(a.bounds,n.position)&&l.canCollide(a.collisionFilter,e.collisionFilter))for(var c=a.parts.length>1?1:0;c<a.parts.length;c++){var d=a.parts[c];if(i.contains(d.vertices,n.position)){r.pointA=n.position,r.bodyB=e.body=a,r.pointB={x:n.position.x-a.position.x,y:n.position.y-a.position.y},r.angleB=a.angle,o.set(a,!1),s.trigger(e,"startdrag",{mouse:n,body:a});break}}}else r.bodyB=e.body=null,r.pointB=null,a&&s.trigger(e,"enddrag",{mouse:n,body:a})},r._triggerEvents=function(e){var t=e.mouse,n=t.sourceEvents;n.mousemove&&s.trigger(e,"mousemove",{mouse:t}),n.mousedown&&s.trigger(e,"mousedown",{mouse:t}),n.mouseup&&s.trigger(e,"mouseup",{mouse:t}),a.clearSourceEvents(t)}},function(e,t,n){var r={};e.exports=r;var i=n(2),o=n(8),a=n(1),s=n(12),l=n(3);r.collides=function(e,t){for(var n=[],r=t.length,i=e.bounds,s=o.collides,l=a.overlaps,u=0;u<r;u++){var c=t[u],d=c.parts.length,h=1===d?0:1;if(l(c.bounds,i))for(var p=h;p<d;p++){var f=c.parts[p];if(l(f.bounds,i)){var g=s(f,e);if(g){n.push(g);break}}}}return n},r.ray=function(e,t,n,o){o=o||1e-100;for(var a=i.angle(t,n),l=i.magnitude(i.sub(t,n)),u=.5*(n.x+t.x),c=.5*(n.y+t.y),d=s.rectangle(u,c,l,o,{angle:a}),h=r.collides(d,e),p=0;p<h.length;p+=1){var f=h[p];f.body=f.bodyB=f.bodyA}return h},r.region=function(e,t,n){for(var r=[],i=0;i<e.length;i++){var o=e[i],s=a.overlaps(o.bounds,t);(s&&!n||!s&&n)&&r.push(o)}return r},r.point=function(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r];if(a.contains(i.bounds,t))for(var o=1===i.parts.length?0:1;o<i.parts.length;o++){var s=i.parts[o];if(a.contains(s.bounds,t)&&l.contains(s.vertices,t)){n.push(i);break}}}return n}},function(e,t,n){var r={};e.exports=r;var i=n(4),o=n(0),a=n(6),s=n(1),l=n(5),u=n(2),c=n(14);!function(){var e,t;"undefined"!==typeof window&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(function(){e(o.now())},1e3/60)},t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),r._goodFps=30,r._goodDelta=1e3/60,r.create=function(e){var t={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],engineUpdatesHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",wireframeStrokeStyle:"#bbb",hasBounds:!!e.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},n=o.extend(t,e);return n.canvas&&(n.canvas.width=n.options.width||n.canvas.width,n.canvas.height=n.options.height||n.canvas.height),n.mouse=e.mouse,n.engine=e.engine,n.canvas=n.canvas||h(n.options.width,n.options.height),n.context=n.canvas.getContext("2d"),n.textures={},n.bounds=n.bounds||{min:{x:0,y:0},max:{x:n.canvas.width,y:n.canvas.height}},n.controller=r,n.options.showBroadphase=!1,1!==n.options.pixelRatio&&r.setPixelRatio(n,n.options.pixelRatio),o.isElement(n.element)&&n.element.appendChild(n.canvas),n},r.run=function(t){!function i(o){t.frameRequestId=e(i),n(t,o),r.world(t,o),t.context.setTransform(t.options.pixelRatio,0,0,t.options.pixelRatio,0,0),(t.options.showStats||t.options.showDebug)&&r.stats(t,t.context,o),(t.options.showPerformance||t.options.showDebug)&&r.performance(t,t.context,o),t.context.setTransform(1,0,0,1,0,0)}()},r.stop=function(e){t(e.frameRequestId)},r.setPixelRatio=function(e,t){var n=e.options,r=e.canvas;"auto"===t&&(t=p(r)),n.pixelRatio=t,r.setAttribute("data-pixel-ratio",t),r.width=n.width*t,r.height=n.height*t,r.style.width=n.width+"px",r.style.height=n.height+"px"},r.setSize=function(e,t,n){e.options.width=t,e.options.height=n,e.bounds.max.x=e.bounds.min.x+t,e.bounds.max.y=e.bounds.min.y+n,1!==e.options.pixelRatio?r.setPixelRatio(e,e.options.pixelRatio):(e.canvas.width=t,e.canvas.height=n)},r.lookAt=function(e,t,n,r){r="undefined"===typeof r||r,t=o.isArray(t)?t:[t],n=n||{x:0,y:0};for(var i={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},a=0;a<t.length;a+=1){var s=t[a],l=s.bounds?s.bounds.min:s.min||s.position||s,u=s.bounds?s.bounds.max:s.max||s.position||s;l&&u&&(l.x<i.min.x&&(i.min.x=l.x),u.x>i.max.x&&(i.max.x=u.x),l.y<i.min.y&&(i.min.y=l.y),u.y>i.max.y&&(i.max.y=u.y))}var d=i.max.x-i.min.x+2*n.x,h=i.max.y-i.min.y+2*n.y,p=e.canvas.height,f=e.canvas.width/p,g=d/h,m=1,v=1;g>f?v=g/f:m=f/g,e.options.hasBounds=!0,e.bounds.min.x=i.min.x,e.bounds.max.x=i.min.x+d*m,e.bounds.min.y=i.min.y,e.bounds.max.y=i.min.y+h*v,r&&(e.bounds.min.x+=.5*d-d*m*.5,e.bounds.max.x+=.5*d-d*m*.5,e.bounds.min.y+=.5*h-h*v*.5,e.bounds.max.y+=.5*h-h*v*.5),e.bounds.min.x-=n.x,e.bounds.max.x-=n.x,e.bounds.min.y-=n.y,e.bounds.max.y-=n.y,e.mouse&&(c.setScale(e.mouse,{x:(e.bounds.max.x-e.bounds.min.x)/e.canvas.width,y:(e.bounds.max.y-e.bounds.min.y)/e.canvas.height}),c.setOffset(e.mouse,e.bounds.min))},r.startViewTransform=function(e){var t=e.bounds.max.x-e.bounds.min.x,n=e.bounds.max.y-e.bounds.min.y,r=t/e.options.width,i=n/e.options.height;e.context.setTransform(e.options.pixelRatio/r,0,0,e.options.pixelRatio/i,0,0),e.context.translate(-e.bounds.min.x,-e.bounds.min.y)},r.endViewTransform=function(e){e.context.setTransform(e.options.pixelRatio,0,0,e.options.pixelRatio,0,0)},r.world=function(e,t){var n,i=o.now(),d=e.engine,h=d.world,p=e.canvas,f=e.context,m=e.options,v=e.timing,y=a.allBodies(h),b=a.allConstraints(h),w=m.wireframes?m.wireframeBackground:m.background,x=[],_=[],k={timestamp:d.timing.timestamp};if(l.trigger(e,"beforeRender",k),e.currentBackground!==w&&g(e,w),f.globalCompositeOperation="source-in",f.fillStyle="transparent",f.fillRect(0,0,p.width,p.height),f.globalCompositeOperation="source-over",m.hasBounds){for(n=0;n<y.length;n++){var S=y[n];s.overlaps(S.bounds,e.bounds)&&x.push(S)}for(n=0;n<b.length;n++){var E=b[n],C=E.bodyA,P=E.bodyB,T=E.pointA,I=E.pointB;C&&(T=u.add(C.position,E.pointA)),P&&(I=u.add(P.position,E.pointB)),T&&I&&(s.contains(e.bounds,T)||s.contains(e.bounds,I))&&_.push(E)}r.startViewTransform(e),e.mouse&&(c.setScale(e.mouse,{x:(e.bounds.max.x-e.bounds.min.x)/e.options.width,y:(e.bounds.max.y-e.bounds.min.y)/e.options.height}),c.setOffset(e.mouse,e.bounds.min))}else _=b,x=y,1!==e.options.pixelRatio&&e.context.setTransform(e.options.pixelRatio,0,0,e.options.pixelRatio,0,0);!m.wireframes||d.enableSleeping&&m.showSleeping?r.bodies(e,x,f):(m.showConvexHulls&&r.bodyConvexHulls(e,x,f),r.bodyWireframes(e,x,f)),m.showBounds&&r.bodyBounds(e,x,f),(m.showAxes||m.showAngleIndicator)&&r.bodyAxes(e,x,f),m.showPositions&&r.bodyPositions(e,x,f),m.showVelocity&&r.bodyVelocity(e,x,f),m.showIds&&r.bodyIds(e,x,f),m.showSeparations&&r.separations(e,d.pairs.list,f),m.showCollisions&&r.collisions(e,d.pairs.list,f),m.showVertexNumbers&&r.vertexNumbers(e,x,f),m.showMousePosition&&r.mousePosition(e,e.mouse,f),r.constraints(_,f),m.hasBounds&&r.endViewTransform(e),l.trigger(e,"afterRender",k),v.lastElapsed=o.now()-i},r.stats=function(e,t,n){for(var r=e.engine,i=r.world,o=a.allBodies(i),s=0,l=0,u=0;u<o.length;u+=1)s+=o[u].parts.length;var c={Part:s,Body:o.length,Cons:a.allConstraints(i).length,Comp:a.allComposites(i).length,Pair:r.pairs.list.length};for(var d in t.fillStyle="#0e0f19",t.fillRect(l,0,302.5,44),t.font="12px Arial",t.textBaseline="top",t.textAlign="right",c){var h=c[d];t.fillStyle="#aaa",t.fillText(d,l+55,8),t.fillStyle="#eee",t.fillText(h,l+55,26),l+=55}},r.performance=function(e,t){var n=e.engine,i=e.timing,a=i.deltaHistory,s=i.elapsedHistory,l=i.timestampElapsedHistory,u=i.engineDeltaHistory,c=i.engineUpdatesHistory,h=i.engineElapsedHistory,p=n.timing.lastUpdatesPerFrame,f=n.timing.lastDelta,g=d(a),m=d(s),v=d(u),y=d(c),b=d(h),w=d(l)/g||0,x=Math.round(g/f),_=1e3/g||0,k=60,S=10,E=69;t.fillStyle="#0e0f19",t.fillRect(0,50,442,34),r.status(t,S,E,k,4,a.length,Math.round(_)+" fps",_/r._goodFps,function(e){return a[e]/g-1}),r.status(t,82,E,k,4,u.length,f.toFixed(2)+" dt",r._goodDelta/f,function(e){return u[e]/v-1}),r.status(t,154,E,k,4,c.length,p+" upf",Math.pow(o.clamp(y/x||1,0,1),4),function(e){return c[e]/y-1}),r.status(t,226,E,k,4,h.length,b.toFixed(2)+" ut",1-p*b/r._goodFps,function(e){return h[e]/b-1}),r.status(t,298,E,k,4,s.length,m.toFixed(2)+" rt",1-m/r._goodFps,function(e){return s[e]/m-1}),r.status(t,370,E,k,4,l.length,w.toFixed(2)+" x",w*w*w,function(e){return(l[e]/a[e]/w||0)-1})},r.status=function(e,t,n,r,i,a,s,l,u){e.strokeStyle="#888",e.fillStyle="#444",e.lineWidth=1,e.fillRect(t,n+7,r,1),e.beginPath(),e.moveTo(t,n+7-i*o.clamp(.4*u(0),-2,2));for(var c=0;c<r;c+=1)e.lineTo(t+c,n+7-(c<a?i*o.clamp(.4*u(c),-2,2):0));e.stroke(),e.fillStyle="hsl("+o.clamp(25+95*l,0,120)+",100%,60%)",e.fillRect(t,n-7,4,4),e.font="12px Arial",e.textBaseline="middle",e.textAlign="right",e.fillStyle="#eee",e.fillText(s,t+r,n-5)},r.constraints=function(e,t){for(var n=t,r=0;r<e.length;r++){var i=e[r];if(i.render.visible&&i.pointA&&i.pointB){var a,s,l=i.bodyA,c=i.bodyB;if(a=l?u.add(l.position,i.pointA):i.pointA,"pin"===i.render.type)n.beginPath(),n.arc(a.x,a.y,3,0,2*Math.PI),n.closePath();else{if(s=c?u.add(c.position,i.pointB):i.pointB,n.beginPath(),n.moveTo(a.x,a.y),"spring"===i.render.type)for(var d,h=u.sub(s,a),p=u.perp(u.normalise(h)),f=Math.ceil(o.clamp(i.length/5,12,20)),g=1;g<f;g+=1)d=g%2===0?1:-1,n.lineTo(a.x+h.x*(g/f)+p.x*d*4,a.y+h.y*(g/f)+p.y*d*4);n.lineTo(s.x,s.y)}i.render.lineWidth&&(n.lineWidth=i.render.lineWidth,n.strokeStyle=i.render.strokeStyle,n.stroke()),i.render.anchors&&(n.fillStyle=i.render.strokeStyle,n.beginPath(),n.arc(a.x,a.y,3,0,2*Math.PI),n.arc(s.x,s.y,3,0,2*Math.PI),n.closePath(),n.fill())}}},r.bodies=function(e,t,n){var r,i,o,a,s=n,l=(e.engine,e.options),u=l.showInternalEdges||!l.wireframes;for(o=0;o<t.length;o++)if((r=t[o]).render.visible)for(a=r.parts.length>1?1:0;a<r.parts.length;a++)if((i=r.parts[a]).render.visible){if(l.showSleeping&&r.isSleeping?s.globalAlpha=.5*i.render.opacity:1!==i.render.opacity&&(s.globalAlpha=i.render.opacity),i.render.sprite&&i.render.sprite.texture&&!l.wireframes){var c=i.render.sprite,d=f(e,c.texture);s.translate(i.position.x,i.position.y),s.rotate(i.angle),s.drawImage(d,d.width*-c.xOffset*c.xScale,d.height*-c.yOffset*c.yScale,d.width*c.xScale,d.height*c.yScale),s.rotate(-i.angle),s.translate(-i.position.x,-i.position.y)}else{if(i.circleRadius)s.beginPath(),s.arc(i.position.x,i.position.y,i.circleRadius,0,2*Math.PI);else{s.beginPath(),s.moveTo(i.vertices[0].x,i.vertices[0].y);for(var h=1;h<i.vertices.length;h++)!i.vertices[h-1].isInternal||u?s.lineTo(i.vertices[h].x,i.vertices[h].y):s.moveTo(i.vertices[h].x,i.vertices[h].y),i.vertices[h].isInternal&&!u&&s.moveTo(i.vertices[(h+1)%i.vertices.length].x,i.vertices[(h+1)%i.vertices.length].y);s.lineTo(i.vertices[0].x,i.vertices[0].y),s.closePath()}l.wireframes?(s.lineWidth=1,s.strokeStyle=e.options.wireframeStrokeStyle,s.stroke()):(s.fillStyle=i.render.fillStyle,i.render.lineWidth&&(s.lineWidth=i.render.lineWidth,s.strokeStyle=i.render.strokeStyle,s.stroke()),s.fill())}s.globalAlpha=1}},r.bodyWireframes=function(e,t,n){var r,i,o,a,s,l=n,u=e.options.showInternalEdges;for(l.beginPath(),o=0;o<t.length;o++)if((r=t[o]).render.visible)for(s=r.parts.length>1?1:0;s<r.parts.length;s++){for(i=r.parts[s],l.moveTo(i.vertices[0].x,i.vertices[0].y),a=1;a<i.vertices.length;a++)!i.vertices[a-1].isInternal||u?l.lineTo(i.vertices[a].x,i.vertices[a].y):l.moveTo(i.vertices[a].x,i.vertices[a].y),i.vertices[a].isInternal&&!u&&l.moveTo(i.vertices[(a+1)%i.vertices.length].x,i.vertices[(a+1)%i.vertices.length].y);l.lineTo(i.vertices[0].x,i.vertices[0].y)}l.lineWidth=1,l.strokeStyle=e.options.wireframeStrokeStyle,l.stroke()},r.bodyConvexHulls=function(e,t,n){var r,i,o,a=n;for(a.beginPath(),i=0;i<t.length;i++)if((r=t[i]).render.visible&&1!==r.parts.length){for(a.moveTo(r.vertices[0].x,r.vertices[0].y),o=1;o<r.vertices.length;o++)a.lineTo(r.vertices[o].x,r.vertices[o].y);a.lineTo(r.vertices[0].x,r.vertices[0].y)}a.lineWidth=1,a.strokeStyle="rgba(255,255,255,0.2)",a.stroke()},r.vertexNumbers=function(e,t,n){var r,i,o,a=n;for(r=0;r<t.length;r++){var s=t[r].parts;for(o=s.length>1?1:0;o<s.length;o++){var l=s[o];for(i=0;i<l.vertices.length;i++)a.fillStyle="rgba(255,255,255,0.2)",a.fillText(r+"_"+i,l.position.x+.8*(l.vertices[i].x-l.position.x),l.position.y+.8*(l.vertices[i].y-l.position.y))}}},r.mousePosition=function(e,t,n){var r=n;r.fillStyle="rgba(255,255,255,0.8)",r.fillText(t.position.x+"  "+t.position.y,t.position.x+5,t.position.y-5)},r.bodyBounds=function(e,t,n){var r=n,i=(e.engine,e.options);r.beginPath();for(var o=0;o<t.length;o++)if(t[o].render.visible)for(var a=t[o].parts,s=a.length>1?1:0;s<a.length;s++){var l=a[s];r.rect(l.bounds.min.x,l.bounds.min.y,l.bounds.max.x-l.bounds.min.x,l.bounds.max.y-l.bounds.min.y)}i.wireframes?r.strokeStyle="rgba(255,255,255,0.08)":r.strokeStyle="rgba(0,0,0,0.1)",r.lineWidth=1,r.stroke()},r.bodyAxes=function(e,t,n){var r,i,o,a,s=n,l=(e.engine,e.options);for(s.beginPath(),i=0;i<t.length;i++){var u=t[i],c=u.parts;if(u.render.visible)if(l.showAxes)for(o=c.length>1?1:0;o<c.length;o++)for(r=c[o],a=0;a<r.axes.length;a++){var d=r.axes[a];s.moveTo(r.position.x,r.position.y),s.lineTo(r.position.x+20*d.x,r.position.y+20*d.y)}else for(o=c.length>1?1:0;o<c.length;o++)for(r=c[o],a=0;a<r.axes.length;a++)s.moveTo(r.position.x,r.position.y),s.lineTo((r.vertices[0].x+r.vertices[r.vertices.length-1].x)/2,(r.vertices[0].y+r.vertices[r.vertices.length-1].y)/2)}l.wireframes?(s.strokeStyle="indianred",s.lineWidth=1):(s.strokeStyle="rgba(255, 255, 255, 0.4)",s.globalCompositeOperation="overlay",s.lineWidth=2),s.stroke(),s.globalCompositeOperation="source-over"},r.bodyPositions=function(e,t,n){var r,i,o,a,s=n,l=(e.engine,e.options);for(s.beginPath(),o=0;o<t.length;o++)if((r=t[o]).render.visible)for(a=0;a<r.parts.length;a++)i=r.parts[a],s.arc(i.position.x,i.position.y,3,0,2*Math.PI,!1),s.closePath();for(l.wireframes?s.fillStyle="indianred":s.fillStyle="rgba(0,0,0,0.5)",s.fill(),s.beginPath(),o=0;o<t.length;o++)(r=t[o]).render.visible&&(s.arc(r.positionPrev.x,r.positionPrev.y,2,0,2*Math.PI,!1),s.closePath());s.fillStyle="rgba(255,165,0,0.8)",s.fill()},r.bodyVelocity=function(e,t,n){var r=n;r.beginPath();for(var o=0;o<t.length;o++){var a=t[o];if(a.render.visible){var s=i.getVelocity(a);r.moveTo(a.position.x,a.position.y),r.lineTo(a.position.x+s.x,a.position.y+s.y)}}r.lineWidth=3,r.strokeStyle="cornflowerblue",r.stroke()},r.bodyIds=function(e,t,n){var r,i,o=n;for(r=0;r<t.length;r++)if(t[r].render.visible){var a=t[r].parts;for(i=a.length>1?1:0;i<a.length;i++){var s=a[i];o.font="12px Arial",o.fillStyle="rgba(255,255,255,0.5)",o.fillText(s.id,s.position.x+10,s.position.y-10)}}},r.collisions=function(e,t,n){var r,i,o,a,s=n,l=e.options;for(s.beginPath(),o=0;o<t.length;o++)if((r=t[o]).isActive)for(i=r.collision,a=0;a<r.contactCount;a++){var u=r.contacts[a].vertex;s.rect(u.x-1.5,u.y-1.5,3.5,3.5)}for(l.wireframes?s.fillStyle="rgba(255,255,255,0.7)":s.fillStyle="orange",s.fill(),s.beginPath(),o=0;o<t.length;o++)if((r=t[o]).isActive&&(i=r.collision,r.contactCount>0)){var c=r.contacts[0].vertex.x,d=r.contacts[0].vertex.y;2===r.contactCount&&(c=(r.contacts[0].vertex.x+r.contacts[1].vertex.x)/2,d=(r.contacts[0].vertex.y+r.contacts[1].vertex.y)/2),i.bodyB===i.supports[0].body||!0===i.bodyA.isStatic?s.moveTo(c-8*i.normal.x,d-8*i.normal.y):s.moveTo(c+8*i.normal.x,d+8*i.normal.y),s.lineTo(c,d)}l.wireframes?s.strokeStyle="rgba(255,165,0,0.7)":s.strokeStyle="orange",s.lineWidth=1,s.stroke()},r.separations=function(e,t,n){var r,i,o,a,s,l=n,u=e.options;for(l.beginPath(),s=0;s<t.length;s++)if((r=t[s]).isActive){o=(i=r.collision).bodyA;var c=1;(a=i.bodyB).isStatic||o.isStatic||(c=.5),a.isStatic&&(c=0),l.moveTo(a.position.x,a.position.y),l.lineTo(a.position.x-i.penetration.x*c,a.position.y-i.penetration.y*c),c=1,a.isStatic||o.isStatic||(c=.5),o.isStatic&&(c=0),l.moveTo(o.position.x,o.position.y),l.lineTo(o.position.x+i.penetration.x*c,o.position.y+i.penetration.y*c)}u.wireframes?l.strokeStyle="rgba(255,165,0,0.5)":l.strokeStyle="orange",l.stroke()},r.inspector=function(e,t){e.engine;var n,r=e.selected,i=e.render,o=i.options;if(o.hasBounds){var a=i.bounds.max.x-i.bounds.min.x,s=i.bounds.max.y-i.bounds.min.y,l=a/i.options.width,u=s/i.options.height;t.scale(1/l,1/u),t.translate(-i.bounds.min.x,-i.bounds.min.y)}for(var c=0;c<r.length;c++){var d=r[c].data;switch(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.9)",t.setLineDash([1,2]),d.type){case"body":n=d.bounds,t.beginPath(),t.rect(Math.floor(n.min.x-3),Math.floor(n.min.y-3),Math.floor(n.max.x-n.min.x+6),Math.floor(n.max.y-n.min.y+6)),t.closePath(),t.stroke();break;case"constraint":var h=d.pointA;d.bodyA&&(h=d.pointB),t.beginPath(),t.arc(h.x,h.y,10,0,2*Math.PI),t.closePath(),t.stroke()}t.setLineDash([]),t.translate(-.5,-.5)}null!==e.selectStart&&(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.6)",t.fillStyle="rgba(255,165,0,0.1)",n=e.selectBounds,t.beginPath(),t.rect(Math.floor(n.min.x),Math.floor(n.min.y),Math.floor(n.max.x-n.min.x),Math.floor(n.max.y-n.min.y)),t.closePath(),t.stroke(),t.fill(),t.translate(-.5,-.5)),o.hasBounds&&t.setTransform(1,0,0,1,0,0)};var n=function(e,t){var n=e.engine,i=e.timing,o=i.historySize,a=n.timing.timestamp;i.delta=t-i.lastTime||r._goodDelta,i.lastTime=t,i.timestampElapsed=a-i.lastTimestamp||0,i.lastTimestamp=a,i.deltaHistory.unshift(i.delta),i.deltaHistory.length=Math.min(i.deltaHistory.length,o),i.engineDeltaHistory.unshift(n.timing.lastDelta),i.engineDeltaHistory.length=Math.min(i.engineDeltaHistory.length,o),i.timestampElapsedHistory.unshift(i.timestampElapsed),i.timestampElapsedHistory.length=Math.min(i.timestampElapsedHistory.length,o),i.engineUpdatesHistory.unshift(n.timing.lastUpdatesPerFrame),i.engineUpdatesHistory.length=Math.min(i.engineUpdatesHistory.length,o),i.engineElapsedHistory.unshift(n.timing.lastElapsed),i.engineElapsedHistory.length=Math.min(i.engineElapsedHistory.length,o),i.elapsedHistory.unshift(i.lastElapsed),i.elapsedHistory.length=Math.min(i.elapsedHistory.length,o)},d=function(e){for(var t=0,n=0;n<e.length;n+=1)t+=e[n];return t/e.length||0},h=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,n.oncontextmenu=function(){return!1},n.onselectstart=function(){return!1},n},p=function(e){var t=e.getContext("2d");return(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)},f=function(e,t){var n=e.textures[t];return n||((n=e.textures[t]=new Image).src=t,n)},g=function(e,t){var n=t;/(jpg|gif|png)$/.test(t)&&(n="url("+t+")"),e.canvas.style.background=n,e.canvas.style.backgroundSize="contain",e.currentBackground=t}}()},function(e,t,n){var r={};e.exports=r;var i=n(5),o=n(17),a=n(0);!function(){r._maxFrameDelta=1e3/15,r._frameDeltaFallback=1e3/60,r._timeBufferMargin=1.5,r._elapsedNextEstimate=1,r._smoothingLowerBound=.1,r._smoothingUpperBound=.9,r.create=function(e){var t=a.extend({delta:1e3/60,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:1e3/30,lastUpdatesDeferred:0,enabled:!0},e);return t.fps=0,t},r.run=function(e,t){return e.timeBuffer=r._frameDeltaFallback,function n(i){e.frameRequestId=r._onNextFrame(e,n),i&&e.enabled&&r.tick(e,t,i)}(),e},r.tick=function(t,n,s){var l=a.now(),u=t.delta,c=0,d=s-t.timeLastTick;if((!d||!t.timeLastTick||d>Math.max(r._maxFrameDelta,t.maxFrameTime))&&(d=t.frameDelta||r._frameDeltaFallback),t.frameDeltaSmoothing){t.frameDeltaHistory.push(d),t.frameDeltaHistory=t.frameDeltaHistory.slice(-t.frameDeltaHistorySize);var h=t.frameDeltaHistory.slice(0).sort(),p=t.frameDeltaHistory.slice(h.length*r._smoothingLowerBound,h.length*r._smoothingUpperBound);d=e(p)||d}t.frameDeltaSnapping&&(d=1e3/Math.round(1e3/d)),t.frameDelta=d,t.timeLastTick=s,t.timeBuffer+=t.frameDelta,t.timeBuffer=a.clamp(t.timeBuffer,0,t.frameDelta+u*r._timeBufferMargin),t.lastUpdatesDeferred=0;var f=t.maxUpdates||Math.ceil(t.maxFrameTime/u),g={timestamp:n.timing.timestamp};i.trigger(t,"beforeTick",g),i.trigger(t,"tick",g);for(var m=a.now();u>0&&t.timeBuffer>=u*r._timeBufferMargin;){i.trigger(t,"beforeUpdate",g),o.update(n,u),i.trigger(t,"afterUpdate",g),t.timeBuffer-=u,c+=1;var v=a.now()-l,y=a.now()-m,b=v+r._elapsedNextEstimate*y/c;if(c>=f||b>t.maxFrameTime){t.lastUpdatesDeferred=Math.round(Math.max(0,t.timeBuffer/u-r._timeBufferMargin));break}}n.timing.lastUpdatesPerFrame=c,i.trigger(t,"afterTick",g),t.frameDeltaHistory.length>=100&&(t.lastUpdatesDeferred&&Math.round(t.frameDelta/u)>f?a.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):t.lastUpdatesDeferred&&a.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),"undefined"!==typeof t.isFixed&&a.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(t.deltaMin||t.deltaMax)&&a.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),0!==t.fps&&a.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},r.stop=function(e){r._cancelNextFrame(e)},r._onNextFrame=function(e,t){if("undefined"===typeof window||!window.requestAnimationFrame)throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return e.frameRequestId=window.requestAnimationFrame(t),e.frameRequestId},r._cancelNextFrame=function(e){if("undefined"===typeof window||!window.cancelAnimationFrame)throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.");window.cancelAnimationFrame(e.frameRequestId)};var e=function(e){for(var t=0,n=e.length,r=0;r<n;r+=1)t+=e[r];return t/n||0}}()},function(e,t,n){var r={};e.exports=r;var i=n(8),o=n(0).deprecated;r.collides=function(e,t){return i.collides(e,t)},o(r,"collides","SAT.collides \u27a4 replaced by Collision.collides")},function(e,t,n){var r={};e.exports=r,n(1);var i=n(0);r.pathToVertices=function(e,t){"undefined"===typeof window||"SVGPathSeg"in window||i.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var n,o,a,s,l,u,c,d,h,p,f,g=[],m=0,v=0,y=0;t=t||15;var b=function(e,t,n){var r=n%2===1&&n>1;if(!h||e!=h.x||t!=h.y){h&&r?(p=h.x,f=h.y):(p=0,f=0);var i={x:p+e,y:f+t};!r&&h||(h=i),g.push(i),v=p+e,y=f+t}},w=function(e){var t=e.pathSegTypeAsLetter.toUpperCase();if("Z"!==t){switch(t){case"M":case"L":case"T":case"C":case"S":case"Q":v=e.x,y=e.y;break;case"H":v=e.x;break;case"V":y=e.y}b(v,y,e.pathSegType)}};for(r._svgPathToAbsolute(e),a=e.getTotalLength(),u=[],n=0;n<e.pathSegList.numberOfItems;n+=1)u.push(e.pathSegList.getItem(n));for(c=u.concat();m<a;){if((l=u[e.getPathSegAtLength(m)])!=d){for(;c.length&&c[0]!=l;)w(c.shift());d=l}switch(l.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":s=e.getPointAtLength(m),b(s.x,s.y,0)}m+=t}for(n=0,o=c.length;n<o;++n)w(c[n]);return g},r._svgPathToAbsolute=function(e){for(var t,n,r,i,o,a,s=e.pathSegList,l=0,u=0,c=s.numberOfItems,d=0;d<c;++d){var h=s.getItem(d),p=h.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(p))"x"in h&&(l=h.x),"y"in h&&(u=h.y);else switch("x1"in h&&(r=l+h.x1),"x2"in h&&(o=l+h.x2),"y1"in h&&(i=u+h.y1),"y2"in h&&(a=u+h.y2),"x"in h&&(l+=h.x),"y"in h&&(u+=h.y),p){case"m":s.replaceItem(e.createSVGPathSegMovetoAbs(l,u),d);break;case"l":s.replaceItem(e.createSVGPathSegLinetoAbs(l,u),d);break;case"h":s.replaceItem(e.createSVGPathSegLinetoHorizontalAbs(l),d);break;case"v":s.replaceItem(e.createSVGPathSegLinetoVerticalAbs(u),d);break;case"c":s.replaceItem(e.createSVGPathSegCurvetoCubicAbs(l,u,r,i,o,a),d);break;case"s":s.replaceItem(e.createSVGPathSegCurvetoCubicSmoothAbs(l,u,o,a),d);break;case"q":s.replaceItem(e.createSVGPathSegCurvetoQuadraticAbs(l,u,r,i),d);break;case"t":s.replaceItem(e.createSVGPathSegCurvetoQuadraticSmoothAbs(l,u),d);break;case"a":s.replaceItem(e.createSVGPathSegArcAbs(l,u,h.r1,h.r2,h.angle,h.largeArcFlag,h.sweepFlag),d);break;case"z":case"Z":l=t,u=n}"M"!=p&&"m"!=p||(t=l,n=u)}}},function(e,t,n){var r={};e.exports=r;var i=n(6);n(0),r.create=i.create,r.add=i.add,r.remove=i.remove,r.clear=i.clear,r.addComposite=i.addComposite,r.addBody=i.addBody,r.addConstraint=i.addConstraint}])},e.exports=r()},853:(e,t,n)=>{"use strict";e.exports=n(234)},947:function(e){e.exports=function(){"use strict";function e(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return"string"===typeof e?Array.from(t.querySelectorAll(e)):e instanceof Element?[e]:e instanceof NodeList?Array.from(e):e instanceof Array?e:[]}function t(e){const t=document.createElement("div");t.className=`scrollama__debug-step ${e}`,t.style.position="fixed",t.style.left="0",t.style.width="100%",t.style.zIndex="9999",t.style.borderTop="2px solid black",t.style.borderBottom="2px solid black";const n=document.createElement("p");return n.style.position="absolute",n.style.left="0",n.style.height="1px",n.style.width="100%",n.style.borderTop="1px dashed black",t.appendChild(n),document.body.appendChild(t),t}function n(e){let{id:n,step:r,marginTop:i}=e;const{index:o,height:a}=r,s=`scrollama__debug-step--${n}-${o}`;let l=document.querySelector(`.${s}`);l||(l=t(s)),l.style.top=-1*i+"px",l.style.height=`${a}px`,l.querySelector("p").style.top=a/2+"px"}function r(){const e="abcdefghijklmnopqrstuvwxyz",t=Date.now(),n=[];for(let r=0;r<6;r+=1){const t=e[Math.floor(Math.random()*e.length)];n.push(t)}return`${n.join("")}${t}`}function i(e){console.error(`scrollama error: ${e}`)}function o(e){return+e.getAttribute("data-scrollama-index")}function a(e,t){const n=Math.ceil(e/t),r=[],i=1/n;for(let o=0;o<n+1;o+=1)r.push(o*i);return r}function s(e){if("string"===typeof e&&e.indexOf("px")>0){const t=+e.replace("px","");return isNaN(t)?(err("offset value must be in 'px' format. Fallback to 0.5."),{format:"percent",value:.5}):{format:"pixels",value:t}}return"number"!==typeof e&&isNaN(+e)?null:(e>1&&err("offset value is greater than 1. Fallback to 1."),e<0&&err("offset value is lower than 0. Fallback to 0."),{format:"percent",value:Math.min(Math.max(0,e),1)})}function l(e){e.forEach(e=>e.node.setAttribute("data-scrollama-index",e.index))}function u(e){const{top:t}=e.getBoundingClientRect();return t+window.pageYOffset-(document.body.clientTop||0)}let c,d,h;function p(e){const t=e?e.scrollTop:window.pageYOffset;c!==t&&(c=t,c>d?h="down":c<d&&(h="up"),d=c)}function f(e){c=0,d=0,document.addEventListener("scroll",()=>p(e))}function g(){let t,c,d,g={},m=r(),v=[],y=0,b=!1,w=!1,x=!1,_=!1,k=[];function S(){g={stepEnter:()=>{},stepExit:()=>{},stepProgress:()=>{}},k=[]}function E(e){e&&!b&&B(),!e&&b&&F(),b=e}function C(e,t){const n=o(e),r=v[n];void 0!==t&&(r.progress=t);const i={element:e,index:n,progress:t,direction:h};"enter"===r.state&&g.stepProgress(i)}function P(e){const t=o(e),n=v[t],r={element:e,index:t,direction:h};n.direction=h,n.state="enter",k[t]||g.stepEnter(r),_&&(k[t]=!0)}function T(e){const t=o(e),n=v[t];if(!n.state)return!1;const r={element:e,index:t,direction:h};w&&("down"===h&&n.progress<1?C(e,1):"up"===h&&n.progress>0&&C(e,0)),n.direction=h,n.state="exit",g.stepExit(r)}function I(e){let[t]=e;const n=o(t.target),r=v[n],i=t.target.offsetHeight;i!==r.height&&(r.height=i,R(r),O(r),L(r))}function A(e){let[t]=e;p(c);const{isIntersecting:n,target:r}=t;n?P(r):T(r)}function M(e){let[t]=e;const n=o(t.target),r=v[n],{isIntersecting:i,intersectionRatio:a,target:s}=t;i&&"enter"===r.state&&C(s,a)}function R(e){let{observers:t}=e;Object.keys(t).map(e=>{t[e].disconnect()})}function F(){v.forEach(R)}function L(e){const t=new ResizeObserver(I);t.observe(e.node),e.observers.resize=t}function D(){v.forEach(L)}function O(e){const r=window.innerHeight,i=e.offset||t,o="pixels"===i.format?1:r,a=i.value*o,s=e.height/2-a,l=e.height/2-(r-a),u=new IntersectionObserver(A,{rootMargin:`${s}px 0px ${l}px 0px`,threshold:.5,root:d});u.observe(e.node),e.observers.step=u,x&&n({id:m,step:e,marginTop:s,marginBottom:l})}function j(){v.forEach(O)}function N(e){const n=window.innerHeight,r=e.offset||t,i="pixels"===r.format?1:n,o=r.value*i,s=`${-o+e.height}px 0px ${o-n}px 0px`,l=a(e.height,y),u=new IntersectionObserver(M,{rootMargin:s,threshold:l});u.observe(e.node),e.observers.progress=u}function z(){v.forEach(N)}function B(){F(),D(),j(),w&&z()}const $={setup:n=>{let{step:r,parent:o,offset:a=.5,threshold:h=4,progress:p=!1,once:g=!1,debug:m=!1,container:b,root:k=null}=n;return f(b),v=e(r,o).map((e,t)=>({index:t,direction:void 0,height:e.offsetHeight,node:e,observers:{},offset:s(e.dataset.offset),top:u(e),progress:0,state:void 0})),v.length?(w=p,_=g,x=m,y=Math.max(1,+h),t=s(a),c=b,d=k,S(),l(v),E(!0),$):(i("no step elements"),$)},enable:()=>(E(!0),$),disable:()=>(E(!1),$),destroy:()=>(E(!1),S(),$),resize:()=>(B(),$),offset:e=>null===e||void 0===e?t.value:(t=s(e),B(),$),onStepEnter:e=>("function"===typeof e?g.stepEnter=e:i("onStepEnter requires a function"),$),onStepExit:e=>("function"===typeof e?g.stepExit=e:i("onStepExit requires a function"),$),onStepProgress:e=>("function"===typeof e?g.stepProgress=e:i("onStepProgress requires a function"),$)};return $}return g}()},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(err){console.error(err)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{boolean:()=>X,booleanish:()=>J,commaOrSpaceSeparated:()=>re,commaSeparated:()=>ne,number:()=>ee,overloadedBoolean:()=>Z,spaceSeparated:()=>te});var t={};n.r(t),n.d(t,{attentionMarkers:()=>Rn,contentInitial:()=>Cn,disable:()=>Fn,document:()=>En,flow:()=>Tn,flowInitial:()=>Pn,insideSpan:()=>Mn,string:()=>In,text:()=>An});var r=n(43),i=n(391),o=n(783);const a=500,s=8,l=100,u=25,c="66.67%",d=600,h=1500,p={0:"#c2185b",1:"#f9a825",2:"#6d4c41"},f=["#9c27b0","#08519c","#3182bd","#ab47bc","#ba68c8","#6baed6","#ce93d8","#9ecae1","#e1bee7","#c6dbef"];var g=n(579);const m=e=>{let{data:t,width:n,height:i}=e;const o=Date.now(),a=p,s=(0,r.useRef)(null),l=(0,r.useRef)(),u=(0,r.useRef)({}),c=(0,r.useRef)({}),d=n,h=i,f=40,m=d-80,v=.75*(h-80),y=(0,r.useCallback)(e=>"undefined"!==typeof window?getComputedStyle(document.documentElement).getPropertyValue(e).trim():"",[]),b=(0,r.useCallback)(e=>{const n=s.current;if(!n)return;const r=n.getContext("2d");if(!r)return;const i=y("--text-gray")||"#495057",o=y("--font-family")||"Inter, sans-serif",p=y("--accent-purple")||"#7367f0",g=y("--background-white")||"#ffffff",w=y("--subdued-gray")||"#6c757d";r.clearRect(0,0,d,h);const x=t.map((e,t)=>({windowNum:t,windowCloseTime:e.windowEnd/1e3,stats:e})).sort((e,t)=>e.windowCloseTime-t.windowCloseTime);if(0===x.length)return;const _=x[0].windowCloseTime,k=x[x.length-1].windowCloseTime,S=m/Math.max(1,k-_),E=Math.max(...x.flatMap(e=>{let{stats:t}=e;return[t.count[0],t.count[1],t.count[2]]})),C=v/Math.max(1,E);r.strokeStyle="rgba(115, 103, 240, 0.2)",r.lineWidth=1,r.setLineDash([5,5]);const P=(k-_)/5;for(let t=0;t<6;t++){const e=f+(_+t*P-_)*S;r.beginPath(),r.moveTo(e,f),r.lineTo(e,f+v),r.stroke()}for(let t=0;t<=E;t+=Math.max(1,Math.floor(E/5))){const e=f+v-t*C;r.beginPath(),r.moveTo(f,e),r.lineTo(f+m,e),r.stroke()}for(let t=0;t<6;t++){const e=f+(_+t*P-_)*S;r.beginPath(),r.moveTo(e,f+v+5),r.lineTo(e,f+v+60-5),r.stroke()}r.setLineDash([]),r.fillStyle=i,r.font=`12px ${o}`,r.textAlign="center";for(let t=0;t<6;t++){const e=_+t*P,n=f+(e-_)*S;r.fillText(e.toFixed(1)+"s",n,h-10)}for(let t=0;t<=E;t+=Math.max(1,Math.floor(E/5))){const e=f+v-t*C;r.fillText(t.toString(),20,e+4)}r.fillText("Late",20,f+v+30+4);const T=[0,1,2],I=new Set;x.forEach(e=>{let{stats:t}=e;if(!t.isActive)for(let n=0;n<3;n++)t.count[n]>0&&I.add(n)}),T.forEach(e=>{if(!I.has(e))return;const t=a[e],n=[];if(x.forEach(t=>{let{windowCloseTime:r,stats:i}=t;if(!i.isActive){const t=f+(r-_)*S,o=f+v-i.count[e]*C;n.push({x:t,y:o})}}),n.length>1){r.strokeStyle=t,r.lineWidth=3,r.lineCap="round",r.lineJoin="round",r.beginPath(),r.moveTo(n[0].x,n[0].y);for(let e=1;e<n.length;e++)r.lineTo(n[e].x,n[e].y);r.stroke()}n.forEach(e=>{r.fillStyle=t,r.beginPath(),r.arc(e.x,e.y,3,0,2*Math.PI),r.fill()})});const A=e/1e3%2;x.forEach(e=>{let{windowCloseTime:t,stats:n}=e;if(n.isActive){const e=f+(t-_)*S;T.forEach(t=>{const i=a[t],o=f+v-n.count[t]*C,s=4+2*Math.sin(A*Math.PI),l=.3+.7*Math.sin(A*Math.PI);r.strokeStyle=i,r.lineWidth=2,r.setLineDash([4,4]),r.globalAlpha=l,r.beginPath(),r.arc(e,o,s,0,2*Math.PI),r.stroke(),r.setLineDash([])}),r.globalAlpha=1}});const M=e/500%1,R=Math.max(...x.flatMap(e=>{let{stats:t}=e;return[t.missed[0],t.missed[1],t.missed[2]]})),F=50/Math.max(1,R);x.forEach(e=>{let{windowCloseTime:t,stats:n}=e;const i=f+(t-_)*S,o=n.watermarkValue,a=0===o?0:Math.min(5,1+(o-100)/24900*4);a>0?(r.fillStyle=p,r.beginPath(),r.arc(i,25,a,0,2*Math.PI),r.fill(),r.strokeStyle=g,r.lineWidth=1,r.beginPath(),r.arc(i,25,a,0,2*Math.PI),r.stroke()):(r.strokeStyle=w,r.lineWidth=2,r.beginPath(),r.arc(i,25,2,0,2*Math.PI),r.stroke())}),x.forEach(t=>{let{windowNum:n,windowCloseTime:i,stats:o}=t;const s=f+(i-_)*S-4,l=f+v+5,d=l+60-10,h=d-l;let p=l;const m=u.current[n]||[0,0,0],y=c.current[n]||[0,0,0];T.forEach(t=>{const i=o.missed[t];if(i>0){const n=a[t];let o=i*F;if(o=Math.max(4,Math.min(o,h-(p-l))),p+o<=d){let i=.8;if(e-y[t]<500){i=.6+.4*(.5+.5*Math.sin(2*M*Math.PI))}r.fillStyle=n,r.globalAlpha=i,r.fillRect(s,p,8,o),r.strokeStyle=g,r.lineWidth=1,r.strokeRect(s,p,8,o),p+=o+2}}i!==m[t]&&(c.current[n]=c.current[n]||[0,0,0],c.current[n][t]=e)}),u.current[n]=[...o.missed],r.globalAlpha=1}),l.current=requestAnimationFrame(b)},[t,a,d,h,f,m,v,60,y]);(0,r.useEffect)(()=>(s.current&&(l.current=requestAnimationFrame(b)),()=>{l.current&&cancelAnimationFrame(l.current)}),[t,1e5,o,a,b]);const w=0===t.length,x=1===t.length;return(0,g.jsx)("div",{style:{background:"var(--background-white)",borderRadius:"var(--radius-sm)",fontFamily:"var(--font-family)",height:"100%",display:"flex",flexDirection:"column",boxShadow:"var(--shadow-soft)",border:"1px solid rgba(115, 103, 240, 0.1)"},children:(0,g.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"var(--radius-sm)",position:"relative"},children:w?(0,g.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"var(--subdued-gray)",textAlign:"center",padding:"var(--spacing-lg)"},children:[(0,g.jsx)("div",{style:{fontSize:"2rem",marginBottom:"var(--spacing-sm)",opacity:.5},children:"\ud83d\udcca"}),(0,g.jsx)("div",{style:{fontSize:"0.875rem",fontWeight:"500",marginBottom:"var(--spacing-xs)",color:"var(--text-gray)"},children:"No Data Yet"}),(0,g.jsx)("div",{style:{fontSize:"0.75rem",opacity:.7,lineHeight:1.4},children:"Start producers to see window statistics"})]}):x?(0,g.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"var(--subdued-gray)",textAlign:"center",padding:"var(--spacing-lg)"},children:[(0,g.jsx)("div",{style:{fontSize:"2rem",marginBottom:"var(--spacing-sm)",opacity:.5},children:"\ud83d\udcc8"}),(0,g.jsx)("div",{style:{fontSize:"0.875rem",fontWeight:"500",marginBottom:"var(--spacing-xs)",color:"var(--text-gray)"},children:"Building Chart..."}),(0,g.jsx)("div",{style:{fontSize:"0.75rem",opacity:.7,lineHeight:1.4},children:"Charts need multiple windows to be interesting"})]}):(0,g.jsx)("canvas",{ref:s,width:d,height:h,style:{maxWidth:"100%",maxHeight:"100%",border:"1px solid rgba(115, 103, 240, 0.2)",background:"var(--background-white)"}})})})},v=e=>{const t=Math.max(0,e);return f[t%f.length]},y=e=>`${Math.floor(e/1e3)}.${Math.floor(e%1e3/100)}s`,b=e=>{const t=e+432e5,n=Math.floor(t/36e5)%24,r=Math.floor(t/6e4)%60,i=Math.floor(t/1e3)%60,o=Math.floor(t%1e3/100);return`${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}.${o}`},w=(e,t)=>`rgba(${parseInt(e.slice(1,3),16)}, ${parseInt(e.slice(3,5),16)}, ${parseInt(e.slice(5,7),16)}, ${t})`,x=()=>{const e=Math.random();return e<.25?0:e<.6?2e3*Math.random():e<.8?2e3+3e3*Math.random():e<.9?5e3+5e3*Math.random():1e4+5e3*Math.random()},_=()=>{const[e,t]=(0,r.useState)(()=>{const e=window.innerWidth,t=window.innerHeight;return{isPortrait:t>e,isMobile:e<768,isLandscapeMobile:e<1024&&e>t,isTablet:e>=768&&e<1024,isDesktop:e>=1024,width:e,height:t}});return(0,r.useEffect)(()=>{const e=()=>{const e=window.innerWidth,n=window.innerHeight;t({isPortrait:n>e,isMobile:e<768,isLandscapeMobile:e<1024&&e>n,isTablet:e>=768&&e<1024,isDesktop:e>=1024,width:e,height:n})};return window.addEventListener("resize",e),window.addEventListener("orientationchange",e),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}},[]),e},k=e=>{let{thresholdSetting:t,onThresholdChange:n,onResetSimulation:r,watermarkDelay:i,onwatermarkDelayChange:o,rate:a,onRateChange:s,producerStates:l,onProducerToggle:u,isPaused:c,onPauseSet:d,hideProducers:h,onHideProducerSet:p,hideWindows:f,onHideWindowsSet:m,spotlightProducer:v,onSpotlightProducerSet:y,onHighlightClosestParticle:w,onSetWindowSizeTo100000:x,elapsedTime:k,windowWidth:S,showControlsPanel:E,onControlsPanelSet:C}=e;const{isPortrait:P,isMobile:T,isTablet:I}=_();if(P&&(T||I))return null;return(0,g.jsxs)("div",{style:{position:"relative",width:"100%",height:"100%"},children:[(0,g.jsxs)("div",{style:{position:"absolute",top:"var(--spacing-sm)",left:"var(--spacing-sm)",background:"var(--background-white)",color:"var(--text-gray)",padding:"var(--spacing-sm)",borderRadius:"var(--radius-md)",fontFamily:"var(--font-family)",zIndex:10,boxShadow:"var(--shadow-soft)",border:"1px solid rgba(115, 103, 240, 0.1)"},children:[(0,g.jsx)("div",{style:{marginBottom:"var(--spacing-sm)"},children:(0,g.jsx)("label",{style:{fontSize:"0.75rem",fontWeight:"600",color:"var(--subdued-gray)"},children:"Time at Producer"})}),(0,g.jsx)("div",{style:{fontSize:S<=600?"0.875rem":"1rem",fontWeight:"600",color:"var(--accent-purple)",fontFamily:"monospace"},children:b(k)})]}),(0,g.jsx)("button",{className:E?"btn-secondary":"btn-primary",onClick:()=>C(!E),style:{position:"absolute",top:"var(--spacing-sm)",left:S<=600?"180px":"220px",padding:"8px 16px",fontSize:"0.875rem",zIndex:1e3},children:E?"Hide Controls":"Show Controls"}),E&&(0,g.jsxs)("div",{style:{position:"absolute",top:0,left:0,width:"100%",background:"rgba(255, 255, 255, 0.75)",backdropFilter:"blur(10px)",borderBottom:"1px solid rgba(0, 0, 0, 0.1)",padding:"var(--spacing-sm)",zIndex:100,display:"flex",flexWrap:"wrap",gap:"var(--spacing-lg)",alignItems:"flex-start",paddingTop:"80px"},children:[(0,g.jsxs)("div",{style:{background:"var(--background-white)",padding:"var(--spacing-sm)",borderRadius:"var(--radius-md)",boxShadow:"var(--shadow-soft)",border:"1px solid rgba(115, 103, 240, 0.1)",minWidth:S<=600?"160px":"200px",flex:"0 0 auto"},children:[(0,g.jsxs)("div",{style:{marginBottom:"var(--spacing-sm)"},children:[(0,g.jsx)("label",{htmlFor:"windowSize",style:{fontSize:"0.75rem",fontWeight:"600",color:"var(--subdued-gray)",display:"block",marginBottom:"var(--spacing-xs)"},children:"Window Size"}),(0,g.jsxs)("div",{style:{fontSize:"0.875rem",fontWeight:"600",color:"var(--accent-purple)",fontFamily:"monospace"},children:[t,"ms"]})]}),(0,g.jsx)("input",{id:"windowSize",type:"range",min:"500",max:"5000",step:"100",value:t,onChange:e=>n(Number(e.target.value)),onMouseDown:e=>{e.currentTarget._initialValue=Number(e.currentTarget.value)},onMouseUp:e=>{Number(e.currentTarget.value)!==e.currentTarget._initialValue&&r()},onKeyUp:e=>{if("Enter"===e.key||" "===e.key){Number(e.currentTarget.value)!==(e.currentTarget._initialValue||t)&&r()}},style:{width:"100%",accentColor:"var(--accent-purple)"}})]}),(0,g.jsxs)("div",{style:{background:"var(--background-white)",padding:"var(--spacing-sm)",borderRadius:"var(--radius-md)",boxShadow:"var(--shadow-soft)",border:"1px solid rgba(115, 103, 240, 0.1)",minWidth:S<=600?"160px":"200px",flex:"0 0 auto"},children:[(0,g.jsxs)("div",{style:{marginBottom:"var(--spacing-sm)"},children:[(0,g.jsx)("label",{htmlFor:"watermarkDelay",style:{fontSize:"0.75rem",fontWeight:"600",color:"var(--subdued-gray)",display:"block",marginBottom:"var(--spacing-xs)"},children:"Watermark Delay"}),(0,g.jsxs)("div",{style:{fontSize:"0.875rem",fontWeight:"600",color:"var(--accent-blue)",fontFamily:"monospace"},children:[i,"ms"]})]}),(0,g.jsx)("input",{id:"watermarkDelay",type:"range",min:"0",max:15e3,step:500,value:i,onChange:e=>o(Number(e.target.value)),onMouseDown:e=>{e.currentTarget._initialValue=Number(e.currentTarget.value)},onMouseUp:e=>{Number(e.currentTarget.value)!==e.currentTarget._initialValue&&r()},onKeyUp:e=>{if("Enter"===e.key||" "===e.key){Number(e.currentTarget.value)!==(e.currentTarget._initialValue||i)&&r()}},style:{width:"100%",accentColor:"var(--accent-blue)"}})]}),(0,g.jsxs)("div",{style:{background:"var(--background-white)",padding:"var(--spacing-sm)",borderRadius:"var(--radius-md)",boxShadow:"var(--shadow-soft)",border:"1px solid rgba(115, 103, 240, 0.1)",minWidth:S<=600?"160px":"200px",flex:"0 0 auto"},children:[(0,g.jsxs)("div",{style:{marginBottom:"var(--spacing-sm)"},children:[(0,g.jsx)("label",{htmlFor:"rate",style:{fontSize:"0.75rem",fontWeight:"600",color:"var(--subdued-gray)",display:"block",marginBottom:"var(--spacing-xs)"},children:"Rate"}),(0,g.jsxs)("div",{style:{fontSize:"0.875rem",fontWeight:"600",color:"var(--accent-green)",fontFamily:"monospace"},children:[a,"x"]})]}),(0,g.jsx)("input",{id:"rate",type:"range",min:"1",max:"10",step:"1",value:a,onChange:e=>s(Number(e.target.value)),style:{width:"100%",accentColor:"var(--accent-green)"}})]}),(0,g.jsxs)("div",{style:{background:"var(--background-white)",padding:"var(--spacing-sm)",borderRadius:"var(--radius-md)",boxShadow:"var(--shadow-soft)",border:"1px solid rgba(115, 103, 240, 0.1)",flex:"0 0 auto"},children:[(0,g.jsx)("div",{style:{marginBottom:"var(--spacing-sm)"},children:(0,g.jsx)("label",{style:{fontSize:"0.75rem",fontWeight:"600",color:"var(--subdued-gray)",display:"block"},children:"Producers"})}),(0,g.jsx)("div",{style:{display:"flex",gap:"var(--spacing-xs)",flexWrap:"wrap"},children:[0,1,2].map(e=>(0,g.jsxs)("button",{onClick:()=>{const t=l[e],n=!t;t!==n&&u(e,n),n&&h[e]&&p(e,!1)},className:l[e]?"btn-primary":"btn-secondary",style:{padding:"6px 12px",fontSize:"0.75rem",fontWeight:"600",minWidth:"60px"},children:["P",e+1,": ",l[e]?"ON":"OFF"]},e))})]}),(0,g.jsxs)("div",{style:{background:"var(--background-white)",padding:"var(--spacing-sm)",borderRadius:"var(--radius-md)",boxShadow:"var(--shadow-soft)",border:"1px solid rgba(115, 103, 240, 0.1)",flex:"0 0 auto"},children:[(0,g.jsx)("div",{style:{marginBottom:"var(--spacing-sm)"},children:(0,g.jsx)("label",{style:{fontSize:"0.75rem",fontWeight:"600",color:"var(--subdued-gray)",display:"block"},children:"Actions"})}),(0,g.jsxs)("div",{style:{display:"flex",gap:"var(--spacing-xs)",flexWrap:"wrap"},children:[(0,g.jsx)("button",{onClick:()=>{const e=!c;c!==e&&d(e)},className:c?"btn-secondary":"btn-primary",style:{padding:"6px 12px",fontSize:"0.75rem",fontWeight:"600",minWidth:"60px"},children:c?"Play":"Pause"}),(0,g.jsx)("button",{onClick:()=>{const e=!f;f!==e&&m(e)},className:f?"btn-secondary":"btn-primary",style:{padding:"6px 12px",fontSize:"0.75rem",fontWeight:"600",minWidth:"60px"},children:f?"Show Windows":"Hide Windows"})]})]})]})]})},S=e=>{let{show:t,x:n,y:r,particle:i,windowWidth:o,windowSize:a,hideWindows:s}=e;if(!t||!i)return null;const l=["Producer 1 (Regular Time)","Producer 2 (Jumbled Time)","Producer 3 (Burst Mode)"][i.sourceId||0],u=i.createdTime,c=i.windowId*i.thresholdAtCreation,d=c+i.thresholdAtCreation;i.watermarkDelayAtCreation;let h=null;if((2===i.sourceId||3===i.sourceId)&&void 0!==i.baseTimeAtCreation){const e=i.baseTimeAtCreation,t=Math.round(u-e);if(t>0){let e="#ff0000";t<=500?e="#00ff00":t<=5e3&&(e="#ffa500"),h=(0,g.jsxs)("span",{style:{color:e},children:["(",y(t)," late)"]})}}return(0,g.jsxs)("div",{style:{position:"fixed",left:n+10,top:r-10,backgroundColor:"rgba(0, 0, 0, 0.9)",color:"white",padding:"8px 12px",borderRadius:"6px",fontSize:o<=600?"10px":"12px",fontFamily:"monospace",textAlign:"left",zIndex:1e3,pointerEvents:"none",whiteSpace:"nowrap",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l,(0,g.jsx)("hr",{}),(0,g.jsxs)("div",{children:["Event timestamp: ",b(u)," ",h]}),1e5!==a&&!s&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("hr",{}),(0,g.jsxs)("div",{children:["Window ID ",i.windowId," (",b(c)," -"," ",b(d),")"]})]})]})},E=e=>{let{show:t,x:n,y:r,windowId:i,windowStart:o,windowEnd:a,watermarkValue:s,producerCounts:l,windowWidth:u,windowSize:c,hideWindows:d}=e;return t?(0,g.jsxs)("div",{style:{position:"fixed",right:window.innerWidth-n+10,top:r-10,backgroundColor:"rgba(0, 0, 0, 0.9)",color:"white",padding:"8px 12px",borderRadius:"6px",fontSize:u<=600?"10px":"12px",fontFamily:"monospace",zIndex:1e3,pointerEvents:"none",whiteSpace:"nowrap",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[1e5!==c&&!d&&(0,g.jsxs)("div",{style:{fontWeight:"bold",marginBottom:"4px"},children:["Window ID ",i]}),(0,g.jsxs)("div",{children:["Start: ",b(o)]}),(0,g.jsxs)("div",{children:["End: ",b(a)]}),(0,g.jsxs)("div",{style:{marginTop:"8px",borderTop:"1px solid rgba(255,255,255,0.3)",paddingTop:"8px"},children:[(0,g.jsx)("div",{style:{fontWeight:"bold",marginBottom:"4px"},children:"Producer Counts:"}),(0,g.jsxs)("div",{children:["P1: ",l[0]]}),(0,g.jsxs)("div",{children:["P2: ",l[1]]}),(0,g.jsxs)("div",{children:["P3: ",l[2]]})]})]}):null},C=e=>{let{show:t,x:n,y:r,producerIndex:i,totalProduced:o,totalLost:a,windowWidth:s}=e;return t?(0,g.jsxs)("div",{style:{position:"fixed",left:n+10,top:r-10,backgroundColor:"rgba(0, 0, 0, 0.9)",color:"white",padding:"8px 12px",borderRadius:"6px",fontSize:s<=600?"10px":"12px",fontFamily:"monospace",zIndex:1e3,pointerEvents:"none",whiteSpace:"nowrap",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[(0,g.jsxs)("div",{style:{fontWeight:"bold",marginBottom:"4px"},children:["Producer ",i+1]}),(0,g.jsxs)("div",{children:["Events Produced: ",o]}),(0,g.jsxs)("div",{children:["Events arrived Late: ",a]})]}):null},P=e=>{let{windows:t,producerStates:n,elapsedTime:r,windowWidth:i}=e;const o=[0,1,2].map(e=>{const n=t.filter(e=>!e.isActive);let r=!1,i=null;if(n.length>0){const t=n.sort((e,t)=>t.windowEnd-e.windowEnd);r=0===t[0].count[e];const o=t.filter(t=>t.count[e]>0);o.length>0&&(i=o[0].windowEnd)}const o=n.filter(t=>t.count[e]>0).map(t=>t.count[e]).sort((e,t)=>e-t),a=o.length>0?o[Math.floor(.25*o.length)]:0,s=o.length>0?o[Math.floor(.5*o.length)]:0,l=o.length>0?o[Math.floor(.75*o.length)]:0,u=n.filter(t=>0===t.count[e]);return{producerIndex:e,isDown:r,lastReceivedTime:i,p25:a,median:s,p75:l,totalWindows:n.length,zeroWindows:u.length}});return(0,g.jsxs)("div",{style:{fontSize:i<=600?"9px":"11px"},children:[(0,g.jsx)("h3",{style:{margin:"0 0 10px 0",color:"#27ae60",fontSize:i<=600?"10px":"inherit"},children:"Producer Status Report"}),o.map(e=>(0,g.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,g.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"5px",color:p[e.producerIndex]},children:[(0,g.jsx)("div",{style:{width:"12px",height:"12px",backgroundColor:p[e.producerIndex],marginRight:"8px",borderRadius:"2px"}}),(0,g.jsxs)("strong",{children:["Producer ",e.producerIndex+1]})]}),(0,g.jsxs)("div",{style:{marginLeft:"20px",fontSize:i<=600?"8px":"10px"},children:[(0,g.jsxs)("div",{style:{marginBottom:"3px"},children:[(0,g.jsx)("span",{style:{color:"#aaa"},children:"Status: "}),(0,g.jsx)("span",{style:{color:e.isDown?"#e74c3c":"#27ae60"},children:e.isDown?"DOWN":"ACTIVE"})]}),(0,g.jsxs)("div",{style:{marginBottom:"3px"},children:[(0,g.jsx)("span",{style:{color:"#aaa"},children:"Last received: "}),e.isDown&&e.lastReceivedTime?(0,g.jsxs)("span",{children:[(e.lastReceivedTime/1e3).toFixed(1),"s"]}):"N/A"]}),(0,g.jsxs)("div",{style:{marginBottom:"3px"},children:[(0,g.jsx)("span",{style:{color:"#aaa"},children:"Percentiles: "}),(0,g.jsxs)("span",{children:["25th: ",e.p25," | Median: ",e.median," | 75th:"," ",e.p75]})]}),(0,g.jsxs)("div",{style:{marginBottom:"3px"},children:[(0,g.jsx)("span",{style:{color:"#aaa"},children:"Windows: "}),(0,g.jsxs)("span",{children:[e.totalWindows," total, ",e.zeroWindows," with zero count"]})]})]})]},e.producerIndex))]})},T=e=>{let{windows:t,windowWidth:n}=e;const r=[0,1,2].map(e=>{const n=t.filter(e=>!e.isActive),r=n.map(t=>{const n=t.count[e],r=n+t.missed[e];return 0===r?100:n/r*100}),i=r.length>0?Math.min(...r):100,o=n.reduce((t,n)=>t+n.count[e],0),a=n.reduce((t,n)=>t+n.missed[e],0);return{producerIndex:e,reportAccuracy:i,totalCounted:o,totalMissed:a,totalDelivered:o+a,windowCount:n.length,windowAccuracies:r}});return(0,g.jsxs)("div",{style:{fontSize:n<=600?"9px":"11px"},children:[(0,g.jsx)("h3",{style:{margin:"0 0 10px 0",color:"#3498db",fontSize:n<=600?"10px":"inherit"},children:"Report Accuracy Analysis"}),r.map(e=>(0,g.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,g.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"5px",color:p[e.producerIndex]},children:[(0,g.jsx)("div",{style:{width:"12px",height:"12px",backgroundColor:p[e.producerIndex],marginRight:"8px",borderRadius:"2px"}}),(0,g.jsxs)("strong",{children:["Producer ",e.producerIndex+1]})]}),(0,g.jsxs)("div",{style:{marginLeft:"20px",fontSize:n<=600?"8px":"10px"},children:[(0,g.jsxs)("div",{style:{marginBottom:"3px"},children:[(0,g.jsx)("span",{style:{color:"#aaa"},children:"Report Accuracy: "}),(0,g.jsxs)("span",{style:{color:e.reportAccuracy>=90?"#27ae60":e.reportAccuracy>=70?"#f39c12":"#e74c3c",fontWeight:"bold"},children:[e.reportAccuracy.toFixed(1),"%"]})]}),(0,g.jsxs)("div",{style:{marginBottom:"3px"},children:[(0,g.jsx)("span",{style:{color:"#aaa"},children:"Total Particles: "}),(0,g.jsxs)("span",{children:[e.totalDelivered," delivered, ",e.totalCounted," ","counted, ",e.totalMissed," missed"]})]}),(0,g.jsxs)("div",{style:{marginBottom:"3px"},children:[(0,g.jsx)("span",{style:{color:"#aaa"},children:"Success Rate: "}),(0,g.jsxs)("span",{children:[e.totalDelivered>0?(e.totalCounted/e.totalDelivered*100).toFixed(1):"100","%"]})]}),(0,g.jsxs)("div",{style:{marginBottom:"3px"},children:[(0,g.jsx)("span",{style:{color:"#aaa"},children:"Windows Analyzed: "}),(0,g.jsx)("span",{children:e.windowCount})]})]})]},e.producerIndex))]})},I=e=>{let{elapsedTime:t,destroyedBySource:n,destroyedByGround:r,particles:i,windows:o,thresholdSetting:a,watermarkDelay:s,windowWidth:l,resetCount:u,lastResetTime:c}=e;return(0,g.jsxs)("div",{style:{fontSize:l<=600?"9px":"11px"},children:[(0,g.jsx)("h3",{style:{margin:"0 0 10px 0",color:"#3498db",fontSize:l<=600?"10px":"inherit"},children:"Debug Information"}),(0,g.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,g.jsxs)("div",{style:{fontSize:l<=600?"8px":"10px",color:"#aaa",marginBottom:"5px"},children:["Elapsed: ",y(t)]}),(0,g.jsxs)("div",{style:{fontSize:l<=600?"9px":"inherit"},children:["Destroyed by Source: ",n]}),(0,g.jsxs)("div",{style:{fontSize:l<=600?"9px":"inherit"},children:["Destroyed by Ground: ",r]}),(0,g.jsxs)("div",{style:{fontSize:l<=600?"9px":"inherit"},children:["Active Particles: ",i.current.length]}),(0,g.jsxs)("div",{style:{fontSize:l<=600?"9px":"inherit"},children:["Tracked Windows: ",o.length,"/40"]}),(0,g.jsxs)("div",{style:{fontSize:l<=600?"9px":"inherit"},children:["Active Particles: ",i.current.length]}),(0,g.jsxs)("div",{style:{fontSize:l<=600?"9px":"inherit"},children:["Resets: ",u," ",c>0&&`(Last: ${Math.floor((Date.now()-c)/1e3)}s ago)`]})]}),(0,g.jsxs)("div",{style:{fontSize:l<=600?"9px":"12px"},children:[(0,g.jsx)("div",{children:"Producer 1: Regular time (0.2s)"}),(0,g.jsx)("div",{children:"Producer 2: Jumbled time (0.2s)"}),(0,g.jsx)("div",{children:"Producer 3: Burst mode (2.0s)"}),(0,g.jsxs)("div",{style:{marginTop:"5px",color:"#aaa",fontSize:l<=600?"8px":"inherit"},children:["Threshold: ",y(a)," | Fill: Time Group | Stroke: Drop Status"]})]})]})},A=(0,r.forwardRef)((e,t)=>{let{producerStates:n,thresholdSetting:i,watermarkDelay:f,rate:y,activeTab:_,showLineChart:A,isPaused:M,pauseUpdateCounter:R,hideProducers:F,hideWindows:L,spotlightProducer:D,onHighlightClosestParticle:O,onResetSimulation:j,windowWidth:N}=e;const z=(0,r.useRef)(null),B=r.useMemo(()=>o.Engine.create(),[]),[$,H]=(0,r.useState)(0),[W,U]=(0,r.useState)(0),[V,q]=(0,r.useState)(4*a),[Y,G]=(0,r.useState)(5e3),Q=(0,r.useRef)(Y),[K,X]=(0,r.useState)(y||5),J=(0,r.useRef)(K),[Z,ee]=(0,r.useState)(0),[te,ne]=(0,r.useState)(n||[!0,!0,!0]),[re,ie]=(0,r.useState)(void 0===A||A),[oe,ae]=(0,r.useState)(_||"operator"),[se,le]=(0,r.useState)(M||!1),ue=(0,r.useRef)(se),[ce,de]=(0,r.useState)(F||[!1,!1,!1]),[he,pe]=(0,r.useState)(L||!1),[fe,ge]=(0,r.useState)(D||null),[me,ve]=(0,r.useState)(null),[ye,be]=(0,r.useState)(null),[we,xe]=(0,r.useState)(0),[_e,ke]=(0,r.useState)(!1),Se=(0,r.useRef)([0,0,0]),Ee=Math.floor(N*parseFloat(c)/100),Ce=Math.min(Ee,h),Pe=d,Te=Ce-50;(0,r.useEffect)(()=>{void 0!==n&&ne(n)},[n]),(0,r.useEffect)(()=>{void 0!==i&&q(i)},[i]),(0,r.useEffect)(()=>{void 0!==f&&G(f)},[f]),(0,r.useEffect)(()=>{void 0!==y&&X(y)},[y]),(0,r.useEffect)(()=>{Q.current=Y},[Y]),(0,r.useEffect)(()=>{J.current=K},[K]),(0,r.useEffect)(()=>{void 0!==_&&ae(_)},[_]),(0,r.useEffect)(()=>{void 0!==A&&ie(A)},[A]),(0,r.useEffect)(()=>{void 0!==M&&(le(M),ue.current=M)},[M]),(0,r.useEffect)(()=>{void 0!==M&&(le(M),ue.current=M)},[R,M]),(0,r.useEffect)(()=>{void 0!==F&&de(F)},[F]),(0,r.useEffect)(()=>{void 0!==L&&pe(L)},[L]),(0,r.useEffect)(()=>{void 0!==D&&ge(D)},[D]);const[Ie,Ae]=(0,r.useState)([]),Me=(0,r.useRef)([]),[Re,Fe]=(0,r.useState)({show:!1,x:0,y:0,particle:null}),[Le,De]=(0,r.useState)([]),[Oe,je]=(0,r.useState)(new Set),[Ne,ze]=(0,r.useState)(0),[Be,$e]=(0,r.useState)(0),He=(0,r.useRef)(new Set),[We,Ue]=(0,r.useState)(null),Ve=(0,r.useRef)(new Set),qe=(0,r.useRef)(new Set),Ye=(0,r.useRef)(Z),[Ge,Qe]=(0,r.useState)({show:!1,x:0,y:0,windowId:-1,windowStart:0,windowEnd:0,watermarkValue:0,producerCounts:[0,0,0]}),[Ke,Xe]=(0,r.useState)({show:!1,x:0,y:0,producerIndex:-1,totalProduced:0,totalLost:0}),Je=(0,r.useCallback)(()=>{pt.current.forEach(e=>{o.Composite.allBodies(B.world).includes(e)&&o.Composite.remove(B.world,e)}),pt.current=[],Ve.current.clear(),qe.current.clear(),De([]),H(0),U(0),ee(0),$e(Date.now()),ze(e=>e+1),Ae([]),st.current=0,lt.current=0,Se.current=[0,0,0],xe(0),He.current.forEach(e=>{clearTimeout(e)}),He.current.clear(),ye&&(clearTimeout(ye),be(null)),Fe({show:!1,x:0,y:0,particle:null}),Qe({show:!1,x:0,y:0,windowId:-1,windowStart:0,windowEnd:0,watermarkValue:0,producerCounts:[0,0,0]}),Xe({show:!1,x:0,y:0,producerIndex:-1,totalProduced:0,totalLost:0}),Ue(null)},[B,ye]),Ze=(0,r.useCallback)((e,t)=>{Ae(n=>{const r=[...n],i=r.findIndex(t=>t.windowID===e);if(i>=0){const e=r[i],n=[...e.missed];n[t]+=1,r[i]={...e,missed:n}}return r})},[]),et=(0,r.useCallback)(()=>{if(ve(null),0===pt.current.length)return;const e=Ce/2,t=Pe/2;let n=null,r=1/0;if(pt.current.forEach(i=>{const o=i.position.x-e,a=i.position.y-t,s=Math.sqrt(o*o+a*a);s<r&&(r=s,n=i)}),n){var i;ve(n);const e=null===(i=z.current)||void 0===i?void 0:i.getBoundingClientRect();e&&Fe({show:!0,x:e.left+n.position.x,y:e.top+n.position.y,particle:n})}Ue(null)},[Ce,Pe]);(0,r.useImperativeHandle)(t,()=>({resetSimulation:Je,highlightClosestParticle:et,clearHighlightedParticle:()=>ve(null)}),[Je,et]);const tt=(0,r.useCallback)(e=>{ge(e)},[]),nt=(0,r.useCallback)((e,t)=>{de(n=>{const r=[...n];return r[e]=t,r}),t&&ne(t=>{const n=[...t];return n[e]=!1,n})},[]);(0,r.useEffect)(()=>{gt.current&&B&&gt.current.forEach((e,t)=>{e.render&&(ce[t]?(e.render.opacity=0,e.render.fillStyle="transparent",e.render.strokeStyle="transparent"):(e.render.opacity=1,e.render.fillStyle=p[t],e.render.strokeStyle="#000"))})},[ce,B]),(0,r.useEffect)(()=>{gt.current&&B&&gt.current.forEach((e,t)=>{e.render&&!ce[t]&&(te[t]?(e.render.opacity=1,e.render.fillStyle=p[t],e.render.strokeStyle="#000",e.render.lineWidth=2):(e.render.opacity=.3,e.render.fillStyle=p[t],e.render.strokeStyle="#999",e.render.lineWidth=1))})},[te,ce,B]);const rt=(0,r.useCallback)(e=>{pe(e)},[]),it=(0,r.useCallback)(()=>{q(1e5),Je()},[Je]),ot=(0,r.useCallback)(e=>{ke(e)},[]),at=(0,r.useCallback)(e=>{le(e),ue.current=e,e||(ge(null),ve(null))},[]);(0,r.useEffect)(()=>{ut.current=te},[te]),(0,r.useEffect)(()=>{ue.current=se},[se]),(0,r.useEffect)(()=>{ct.current=V},[V]),(0,r.useEffect)(()=>{Ye.current=Z},[Z]),(0,r.useEffect)(()=>{Me.current=Ie},[Ie]),(0,r.useEffect)(()=>{ue.current=se,se?(pt.current.forEach(e=>{o.Body.setVelocity(e,o.Vector.create(0,0)),o.Body.setStatic(e,!0)}),He.current.forEach(e=>{clearTimeout(e)}),He.current.clear()):(pt.current.forEach(e=>{o.Body.setStatic(e,!1),o.Body.setVelocity(e,o.Vector.create(0,1))}),Ve.current.forEach(e=>{if(o.Composite.allBodies(B.world).includes(e)){const t=setTimeout(()=>{o.Composite.allBodies(B.world).includes(e)&&(o.Composite.remove(B.world,e),U(e=>e+1),Ve.current.delete(e))},2e3);He.current.add(t)}}))},[se,B.world]),(0,r.useEffect)(()=>()=>{ye&&clearTimeout(ye)},[ye]),(0,r.useEffect)(()=>{const e=setInterval(()=>{if(se)return;pt.current.length>200&&Je();const e=Date.now();pt.current.forEach(t=>{e-t.createdAt>15e3&&o.Composite.allBodies(B.world).includes(t)&&o.Composite.remove(B.world,t)}),pt.current=pt.current.filter(t=>e-t.createdAt<=15e3)},1e4);return()=>clearInterval(e)},[Je,se,B]),(0,r.useEffect)(()=>{if(!yt.current)return;const e=yt.current;let t=null,n=null;const r=t=>{const n=e.getBoundingClientRect(),r=t.clientX-n.left,i=t.clientY-n.top;let o=!1;gt.current.forEach((e,t)=>{Math.sqrt(Math.pow(e.position.x-r,2)+Math.pow(e.position.y-i,2))<=25&&(o=!0,ne(e=>{const n=[...e];return n[t]=!n[t],n}))}),o||at(!ue.current)};return e.addEventListener("click",r),se?(t=t=>{const n=e.getBoundingClientRect(),r=t.clientX-n.left,i=t.clientY-n.top;let o=-1;if(gt.current.forEach((e,t)=>{Math.sqrt(Math.pow(e.position.x-r,2)+Math.pow(e.position.y-i,2))<=25&&(o=t)}),-1!==o){const e=Ie.reduce((e,t)=>e+t.count[o],0),n=Ie.reduce((e,t)=>e+t.missed[o],0);Xe({show:!0,x:t.clientX,y:t.clientY,producerIndex:o,totalProduced:e,totalLost:n})}else Xe(e=>({...e,show:!1}));const a=Le.find(e=>{const t=e.x-e.width/2,n=e.x+e.width/2;return r>=t&&r<=n&&i>=125&&i<=475});if(a)Qe({show:!0,x:t.clientX,y:t.clientY,windowId:a.windowId,windowStart:a.windowStart,windowEnd:a.windowEnd,watermarkValue:a.watermarkValue,producerCounts:a.producerCounts}),Ue(a.windowId),Fe(e=>({...e,show:!1}));else{Qe(e=>({...e,show:!1}));let e=null,n=1/0;pt.current.forEach(t=>{const o=Math.sqrt(Math.pow(t.position.x-r,2)+Math.pow(t.position.y-i,2));o<20&&o<n&&(n=o,e=t)}),e?(Fe({show:!0,x:t.clientX,y:t.clientY,particle:e}),Ue(e.windowId)):(Fe(e=>({...e,show:!1})),Ue(null))}},n=()=>{Fe(e=>({...e,show:!1})),Xe(e=>({...e,show:!1})),Qe(e=>({...e,show:!1})),Ue(null)},e.addEventListener("mousemove",t),e.addEventListener("mouseleave",n)):(Fe(e=>({...e,show:!1})),Xe(e=>({...e,show:!1})),Qe(e=>({...e,show:!1})),Ue(null)),()=>{e.removeEventListener("click",r),t&&e.removeEventListener("mousemove",t),n&&e.removeEventListener("mouseleave",n)}},[se,Ie]);const st=(0,r.useRef)(0),lt=(0,r.useRef)(0),ut=(0,r.useRef)([!0,!0,!0]),ct=(0,r.useRef)(V),dt=s,ht=(0,r.useCallback)(()=>{const e=null!==me;pt.current.forEach(t=>{t.render&&(me&&t===me?(t.render.opacity=1,t.render.filter="drop-shadow(0 0 15px rgba(255, 255, 0, 1)) drop-shadow(0 0 30px rgba(255, 255, 0, 0.8))"):e?(t.render.opacity=.1,t.render.filter="none"):se&&null!==We?t.windowId===We?(t.render.opacity=1,t.render.filter="drop-shadow(0 0 10px rgba(255, 255, 255, 0.8))"):(t.render.opacity=.1,t.render.filter="none"):(t.render.opacity=1,t.render.filter="none"))})},[se,We,me]);(0,r.useEffect)(()=>{ht()},[ht]);const pt=(0,r.useRef)([]),ft=(0,r.useRef)(null),gt=(0,r.useRef)([]),mt=(0,r.useRef)(null),vt=(0,r.useRef)(null),yt=(0,r.useRef)(null),bt=(0,r.useCallback)(()=>{if(se)return void requestAnimationFrame(bt);const e=Ie.filter(e=>e.isActive),t=Math.max(1,l/e.length);De(()=>{const n=[],r=e.sort((e,t)=>e.windowStart-t.windowStart);let i=Te-50;return r.forEach(e=>{const r=e.windowID;n.push({id:r,windowId:r,color:v(r),x:i+t/2,width:t,isActive:e.isActive,windowStart:e.windowStart,windowEnd:e.windowEnd,watermarkValue:e.watermarkValue,producerCounts:e.count}),i+=t}),n}),requestAnimationFrame(bt)},[Ie,Te,v,se]);(0,r.useEffect)(()=>{let e=null,t=null,n=null;if(z.current){for(;z.current.firstChild;)z.current.removeChild(z.current.firstChild);B.world.gravity.y=.8,B.world.gravity.x=0,B.timing.timeScale=1,e=o.Render.create({element:z.current,engine:B,options:{width:Ce,height:Pe,wireframes:!1,background:"#f0f0f0",showVelocity:!1,showAngleIndicator:!1}}),vt.current=e,mt.current=o.Bodies.rectangle(Ce/2,Pe-15,Ce,30,{isStatic:!0,render:{fillStyle:"#2c3e50"}});const r=Pe/2,i=540;ft.current=o.Bodies.rectangle(Ce-50,r,100,i,{isStatic:!0,render:{fillStyle:"#E3E3E3"}});const a=[{x:100,y:150},{x:100,y:300},{x:100,y:450}];gt.current=a.map((e,t)=>{const n=ce[t],r=te[t];return o.Bodies.circle(e.x,e.y,u,{isStatic:!0,render:{fillStyle:n?"transparent":p[t],strokeStyle:n?"transparent":r?"#000":"#999",opacity:n?0:r?1:.3,lineWidth:r?2:1}})}),o.Composite.add(B.world,[mt.current,ft.current,...gt.current]);const s=(e,t)=>{if(ue.current)return;const n=gt.current[e];let r;const i=t||Z;switch(e){case 0:default:r=i;break;case 1:const e=x();r=Math.max(0,i-e);break;case 2:const t=x();r=Math.max(0,i-t)}const a=r,s=Math.floor(r/ct.current);let l;const u={fillStyle:v(s),strokeStyle:"rgba(0, 0, 0, 0)",lineWidth:2,opacity:1,filter:"none"};switch(e){case 0:l=o.Bodies.circle(n.position.x+40,n.position.y,dt,{restitution:.6,friction:.1,render:u});break;case 1:l=o.Bodies.rectangle(n.position.x+40,n.position.y,2*dt,2*dt,{restitution:.6,friction:.5,render:u});break;case 2:l=o.Bodies.polygon(n.position.x+40,n.position.y,3,1.5*dt,{restitution:.6,friction:.1,render:u});break;default:l=o.Bodies.circle(n.position.x+40,n.position.y,dt,{restitution:.6,friction:.1,render:{fillStyle:v(s),strokeStyle:"#27ae60",lineWidth:2}})}l.attracted=!0,l.createdAt=Date.now(),l.sourceId=e,l.createdTime=r,l.eventTime=a,l.baseTimeAtCreation=i,l.windowId=s,l.thresholdAtCreation=ct.current,l.watermarkDelayAtCreation=Y,pt.current.push(l),o.Composite.add(B.world,l)};return n=setInterval(()=>{if(ue.current)return;const e=lt.current,t=J.current,n=t<=5?.2+.2*(t-1):1+.2*(t-5),r=500/n;ut.current[0]&&e-Se.current[0]>=r&&(s(0,e),Se.current[0]=e);const i=300/n;ut.current[1]&&e-Se.current[1]>=i&&(s(1,e),Se.current[1]=e);const o=2e3/n;if(ut.current[2]&&e-st.current>o){const t=Math.floor(10*Math.random())+5,r=(1e3+2e3*Math.random())/n,i=3;for(let n=0;n<t;n+=i){const r=n/i*100,o=setTimeout(()=>{for(let o=0;o<Math.min(i,t-n);o++)s(2,e+r+20*o)},r);He.current.add(o)}st.current=e+r}},100),o.Events.on(B,"collisionStart",e=>{e.pairs.forEach(e=>{const t=e.bodyA,n=e.bodyB;if(t===mt.current&&pt.current.includes(n)||n===mt.current&&pt.current.includes(t)){const e=pt.current.includes(t)?t:n;U(e=>e+1),e.render&&e.render.fillStyle&&(e=>{ye&&clearTimeout(ye),mt.current&&mt.current.render&&(mt.current.render.fillStyle=e,mt.current.render.strokeStyle=e,mt.current.render.lineWidth=30);const t=Date.now(),n=()=>{const r=Date.now()-t,i=Math.min(r/200,1),o=30-29*i,a=.1+.9*i;if(mt.current&&mt.current.render){mt.current.render.lineWidth=o;const t=w(e,a);mt.current.render.strokeStyle=t}i<1&&requestAnimationFrame(n)};requestAnimationFrame(n);const r=setTimeout(()=>{mt.current&&mt.current.render&&(mt.current.render.fillStyle="#2c3e50",mt.current.render.strokeStyle="#2c3e50",mt.current.render.lineWidth=0)},200);be(r)})(e.render.fillStyle),qe.current.delete(e),pt.current=pt.current.filter(t=>t!==e),Ve.current.add(e);const r=setTimeout(()=>{o.Composite.allBodies(B.world).includes(e)&&(o.Composite.remove(B.world,e),Ve.current.delete(e))},2e3);He.current.add(r)}})}),o.Render.run(e),t=o.Runner.create({maxUpdates:60,delta:16.666}),o.Runner.run(t,B),()=>{n&&clearInterval(n),t&&o.Runner.stop(t),e&&o.Render.stop(e),pt.current.forEach(e=>{o.Composite.remove(B.world,e)}),pt.current=[],mt.current&&(o.Composite.remove(B.world,mt.current),mt.current=null),ft.current&&(o.Composite.remove(B.world,ft.current),ft.current=null),gt.current.forEach(e=>{o.Composite.remove(B.world,e)}),gt.current=[]}}},[B]);const wt=(0,r.useRef)(null);return(0,r.useEffect)(()=>(z.current&&vt.current&&B&&Ce>0&&Pe>0&&(wt.current&&clearTimeout(wt.current),wt.current=setTimeout(()=>{pt.current.forEach(e=>{o.Composite.allBodies(B.world).includes(e)&&o.Composite.remove(B.world,e)}),pt.current=[],o.Render.stop(vt.current),z.current.innerHTML="";const e=o.Render.create({element:z.current,engine:B,options:{width:Ce,height:Pe,wireframes:!1,background:"#f0f0f0",showVelocity:!1,showAngleIndicator:!1}});if(vt.current=e,o.Render.run(e),mt.current&&(o.Body.setPosition(mt.current,{x:Ce/2,y:Pe-15}),o.Body.setVertices(mt.current,[{x:-Ce/2,y:-15},{x:Ce/2,y:-15},{x:Ce/2,y:15},{x:-Ce/2,y:15}])),ft.current){const e={x:Ce-50,y:Pe/2};o.Body.setPosition(ft.current,e),o.Body.setVelocity(ft.current,{x:0,y:0})}},150)),()=>{wt.current&&(clearTimeout(wt.current),wt.current=null)}),[Ce,Pe,B]),(0,r.useEffect)(()=>{if(!B||!ft.current)return;const e=setInterval(()=>{pt.current.forEach(e=>{if(e.attracted){const t={x:Ce-50,y:Pe/2},n=o.Vector.sub(t,e.position);if(o.Vector.magnitude(n)>0){const t=o.Vector.normalise(n),r=o.Vector.mult(t,5e-4);o.Body.applyForce(e,e.position,r)}let r=o.Vector.mult(e.velocity,.95);2===e.sourceId&&(r=o.Vector.mult(r,.8)),0===e.sourceId&&(r=o.Vector.mult(r,.8)),1===e.sourceId&&(r=o.Vector.mult(r,.87)),o.Body.setVelocity(e,r),o.Body.applyForce(e,e.position,o.Vector.create(0,-14e-5));const i=Ce-50;if(e.position.x>i-70){let t=Me.current.find(t=>e.eventTime>=t.windowStart&&e.eventTime<t.windowEnd);if(!t){const n=Math.floor(e.eventTime/ct.current)*ct.current,r=n+ct.current,i=Math.floor(n/ct.current),o={windowID:i,windowStart:n,windowEnd:r,watermarkValue:Q.current,count:[0,0,0],missed:[0,0,0],isActive:!0,windowSize:ct.current};Ae(e=>{const t=[...e],n=t.findIndex(e=>e.windowID===i);return n>=0?t[n]=o:t.push(o),t}),t=o}if(t&&t.isActive){const n=e.eventTime>=t.windowStart&&e.eventTime<t.windowEnd,r=t.windowEnd+t.watermarkValue;n&&we<=r?(e.attracted=!1,o.Composite.remove(B.world,e),pt.current=pt.current.filter(t=>t!==e),H(e=>e+1),xe(t=>Math.max(t,e.eventTime)),Ae(n=>{const r=[...n],i=r.findIndex(e=>e.windowID===t.windowID);if(i>=0){const t=r[i],n=[...t.count];n[e.sourceId]+=1,r[i]={...t,count:n,isActive:!0}}return r})):(e.attracted=!1,o.Body.setVelocity(e,o.Vector.create(0,e.velocity.y)),e.cleanupTime=Date.now()+2e3,qe.current.add(e),U(e=>e+1),xe(t=>Math.max(t,e.eventTime)),Ze(t.windowID,e.sourceId),Ae(e=>{const n=[...e],r=n.findIndex(e=>e.windowID===t.windowID);return r>=0&&(n[r]={...n[r],isActive:!1}),n}))}else if(t&&!t.isActive)e.attracted=!1,o.Body.setVelocity(e,o.Vector.create(0,e.velocity.y)),e.cleanupTime=Date.now()+2e3,qe.current.add(e),U(e=>e+1),xe(t=>Math.max(t,e.eventTime)),Ze(t.windowID,e.sourceId);else{e.attracted=!1,o.Body.setVelocity(e,o.Vector.create(0,e.velocity.y)),e.cleanupTime=Date.now()+2e3,qe.current.add(e),U(e=>e+1),xe(t=>Math.max(t,e.eventTime));const t=Math.floor(e.eventTime/ct.current);Ze(t,e.sourceId)}}}})},16);return()=>{clearInterval(e)}},[B,Ce,Pe]),(0,r.useEffect)(()=>{const e=yt.current;if(e){const t=e.getContext("2d");t&&(t.clearRect(0,0,Ce,Pe),he||Le.forEach(e=>{let n=e.color,r=e.width;const i=e.producerCounts.reduce((e,t)=>e+t,0),o=Math.min(100+20*i,540),a=(600-o)/2,s=a+o;if(e.pulseStartTime&&Oe.has(e.windowId)){const n=Date.now()-e.pulseStartTime,i=1e3,o=Math.min(n/i,1);if(o<1){const n=1+.5*Math.sin(o*Math.PI);r=e.width*n;const i=.8*Math.sin(o*Math.PI),l=w(e.color,i);t.strokeStyle=l,t.lineWidth=1.5*r,t.beginPath(),t.moveTo(e.x,a),t.lineTo(e.x,s),t.stroke()}else je(t=>{const n=new Set(Array.from(t));return n.delete(e.windowId),n})}se&&null!==We?e.windowId===We?(t.strokeStyle=w(e.color,1),t.lineWidth=1.5*r,t.shadowColor="rgba(255, 255, 255, 0.8)",t.shadowBlur=15,t.shadowOffsetX=0,t.shadowOffsetY=0):(t.strokeStyle=w(e.color,.1),t.lineWidth=r,t.shadowColor="transparent",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0):(t.strokeStyle=n,t.lineWidth=r,t.shadowColor="transparent",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0),t.beginPath(),t.moveTo(e.x,a),t.lineTo(e.x,s),t.stroke()}))}},[Le,Ce,Pe,Oe,he]),(0,r.useEffect)(()=>{pt.current.forEach(e=>{e.render&&(-1!==e.windowId&&(e.render.fillStyle=v(e.windowId)),e.render.strokeStyle="rgba(0, 0, 0, 0)")})},[V]),(0,r.useEffect)(()=>{if(se)return;const e=setInterval(()=>{ee(e=>{const t=e+50;return lt.current=t,Ae(e=>{const t=[...e];return t.forEach((e,n)=>{const r=e.windowEnd+e.watermarkValue;e.isActive&&we>r&&(t[n]={...e,isActive:!1})}),t}),t})},100);return()=>clearInterval(e)},[se,we]),(0,r.useEffect)(()=>{if(se)return;const e=setInterval(()=>{const e=Date.now(),t=[];if(qe.current.forEach(n=>{n.cleanupTime&&e>=n.cleanupTime&&t.push(n)}),t.length>0){o.Composite.remove(B.world,t);const e=new Set(t);pt.current=pt.current.filter(t=>!e.has(t)),t.forEach(e=>{qe.current.delete(e)})}},100);return()=>clearInterval(e)},[se,B]),(0,r.useEffect)(()=>{const e=requestAnimationFrame(bt);return()=>cancelAnimationFrame(e)},[bt]),(0,g.jsxs)("div",{style:{position:"relative",width:"100%",maxWidth:"100vw"},children:[(0,g.jsx)(k,{thresholdSetting:V,onThresholdChange:q,onResetSimulation:Je,watermarkDelay:Y,onwatermarkDelayChange:G,rate:K,onRateChange:X,producerStates:te,onProducerToggle:(e,t)=>{const n=[...te];n[e]=t,ne(n)},isPaused:se,onPauseSet:at,hideProducers:ce,onHideProducerSet:nt,hideWindows:he,onHideWindowsSet:rt,spotlightProducer:fe,onSpotlightProducerSet:tt,onHighlightClosestParticle:et,onSetWindowSizeTo100000:it,elapsedTime:Z,windowWidth:N,showControlsPanel:_e,onControlsPanelSet:ot}),(0,g.jsx)("canvas",{style:{position:"absolute",top:0,left:"50%",transform:"translateX(-50%)",width:`${Ce}px`,height:`${Pe}px`,pointerEvents:"auto",zIndex:1,cursor:"pointer"},width:Ce,height:Pe,ref:yt}),(0,g.jsx)("div",{style:{width:`${Ce}px`,height:`${Pe}px`,maxWidth:"100%",margin:"0 auto"},ref:z}),(0,g.jsxs)("div",{style:{position:"absolute",top:"var(--spacing-sm)",right:"var(--spacing-sm)",background:"var(--background-white)",color:"var(--text-gray)",padding:"var(--spacing-sm)",borderRadius:"var(--radius-md)",fontFamily:"var(--font-family)",zIndex:10,boxShadow:"var(--shadow-soft)",border:"1px solid rgba(115, 103, 240, 0.1)",pointerEvents:"none"},children:[(0,g.jsx)("div",{style:{marginBottom:"var(--spacing-sm)"},children:(0,g.jsx)("label",{style:{fontSize:"0.75rem",fontWeight:"600",color:"var(--subdued-gray)"},children:"Current Watermark"})}),(0,g.jsx)("div",{style:{fontSize:N<=600?"0.875rem":"1rem",fontWeight:"600",color:"var(--accent-purple)",fontFamily:"monospace",marginBottom:"var(--spacing-sm)"},children:b(we)}),(0,g.jsxs)("div",{style:{fontSize:"0.75rem",fontWeight:"600",color:"var(--subdued-gray)",marginBottom:"var(--spacing-xs)"},children:["Window: ",V,"ms"]}),(0,g.jsxs)("div",{style:{fontSize:"0.75rem",fontWeight:"600",color:"var(--subdued-gray)"},children:["Delay: ",Y,"ms"]})]}),null!==fe&&(0,g.jsx)("div",{style:{position:"absolute",top:0,left:"50%",transform:"translateX(-50%)",width:`${Ce}px`,height:`${Pe}px`,background:"rgba(0, 0, 0, 0.7)",zIndex:2,pointerEvents:"none",mask:`radial-gradient(circle at 100px ${150+150*fe}px, transparent 50px, black 50px)`,WebkitMask:`radial-gradient(circle at 100px ${150+150*fe}px, transparent 50px, black 50px)`}}),me&&(0,g.jsx)("div",{style:{position:"absolute",top:0,left:"50%",transform:"translateX(-50%)",width:`${Ce}px`,height:`${Pe}px`,background:"rgba(0, 0, 0, 0.7)",zIndex:2,pointerEvents:"none",mask:`radial-gradient(circle at ${me.position.x}px ${me.position.y}px, transparent 30px, black 30px)`,WebkitMask:`radial-gradient(circle at ${me.position.x}px ${me.position.y}px, transparent 30px, black 30px)`}}),(0,g.jsxs)("div",{style:{bottom:"10px",left:"10px",right:"10px",display:"grid",gridTemplateColumns:"1fr",gap:"10px",height:N<=600?"400px":"200px"},children:[(0,g.jsxs)("div",{style:{height:"100%",position:"relative"},children:[(0,g.jsx)("div",{style:{position:"absolute",top:"-25px",left:"5px",zIndex:10},children:(0,g.jsx)("button",{className:re?"btn-primary":"btn-secondary",onClick:()=>ie(!re),style:{padding:"8px 16px",fontSize:"0.875rem"},children:re?"Show Table":"Show Chart"})}),re?(0,g.jsx)(m,{data:Ie,width:Ce,height:200}):(0,g.jsxs)("div",{className:"card",style:{background:"var(--background-white)",color:"var(--text-gray)",padding:"var(--spacing-sm)",fontFamily:"var(--font-family)",fontSize:N<=600?"10px":"12px",height:"100%",display:"flex",flexDirection:"column",boxShadow:"var(--shadow-soft)",border:"1px solid rgba(115, 103, 240, 0.1)"},children:[(0,g.jsx)("div",{style:{flex:"0 0 auto",borderBottom:"1px solid rgba(115, 103, 240, 0.2)",paddingBottom:"var(--spacing-sm)",marginBottom:"var(--spacing-sm)"},children:(0,g.jsx)("table",{style:{width:"100%",borderCollapse:"collapse"},children:(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{style:{textAlign:"left",padding:"var(--spacing-xs)",width:"15%",color:"var(--dark-text)",fontWeight:"600",fontSize:"0.875rem"},children:"Window ID"}),(0,g.jsx)("th",{style:{padding:"var(--spacing-xs)",width:"25%",color:"var(--dark-text)",fontWeight:"600",fontSize:"0.875rem"},children:"Window"}),(0,g.jsx)("th",{style:{textAlign:"left",padding:"var(--spacing-xs)",width:"20%",color:"var(--dark-text)",fontWeight:"600",fontSize:"0.875rem"},children:"Count (P1/P2/P3)"}),(0,g.jsx)("th",{style:{textAlign:"left",padding:"var(--spacing-xs)",width:"20%",color:"var(--dark-text)",fontWeight:"600",fontSize:"0.875rem"},children:"Late (P1/P2/P3)"}),(0,g.jsx)("th",{style:{textAlign:"left",padding:"var(--spacing-xs)",width:"5%",color:"var(--dark-text)",fontWeight:"600",fontSize:"0.875rem"},children:"Active"})]})})})}),(0,g.jsx)("div",{style:{flex:"1 1 auto",overflowY:"auto",height:"200px"},children:0===Ie.length?(0,g.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",color:"var(--subdued-gray)",textAlign:"center",padding:"var(--spacing-lg)"},children:[(0,g.jsx)("div",{style:{fontSize:"2rem",marginBottom:"var(--spacing-sm)",opacity:.5},children:"\ud83d\udccb"}),(0,g.jsx)("div",{style:{fontSize:"0.875rem",fontWeight:"500",marginBottom:"var(--spacing-xs)",color:"var(--text-gray)"},children:"No Windows Yet"}),(0,g.jsx)("div",{style:{fontSize:"0.75rem",opacity:.7,lineHeight:1.4},children:"Start producers to see window data"})]}):(0,g.jsx)("table",{style:{width:"100%",borderCollapse:"collapse"},children:(0,g.jsx)("tbody",{children:Ie.map((e,t)=>({windowNum:t,stats:e})).sort((e,t)=>t.stats.windowEnd-e.stats.windowEnd).map(e=>{let{windowNum:t,stats:n}=e;return(0,g.jsxs)("tr",{style:{borderBottom:"1px solid rgba(115, 103, 240, 0.1)",transition:"background-color 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(115, 103, 240, 0.05)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:[(0,g.jsx)("td",{style:{padding:"var(--spacing-xs)",width:"15%",color:"var(--text-gray)"},children:(0,g.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,g.jsx)("div",{style:{width:"12px",height:"12px",backgroundColor:v(t),marginRight:"var(--spacing-sm)",borderRadius:"var(--radius-sm)"}}),t]})}),(0,g.jsxs)("td",{style:{padding:"var(--spacing-xs)",width:"25%",color:"var(--text-gray)",fontFamily:"monospace"},children:[b(n.windowStart),"-",b(n.windowEnd)]}),(0,g.jsx)("td",{style:{padding:"var(--spacing-xs)",width:"20%",color:"var(--text-gray)",fontFamily:"monospace"},children:n.count.join("/")}),(0,g.jsx)("td",{style:{padding:"var(--spacing-xs)",width:"20%",color:"var(--text-gray)",fontFamily:"monospace"},children:n.missed.join("/")}),(0,g.jsx)("td",{style:{padding:"var(--spacing-xs)",width:"5%",textAlign:"center"},children:n.isActive?(0,g.jsx)("span",{style:{color:"var(--accent-blue)",fontWeight:"600",fontSize:"1.1em"},children:"\u2713"}):(0,g.jsx)("span",{style:{color:"var(--subdued-gray)",fontWeight:"600",fontSize:"1.1em"},children:"\u2717"})})]},t.toString())})})})})]})]}),(0,g.jsxs)("div",{style:{background:"rgba(0,0,0,0.8)",color:"white",padding:"10px",borderRadius:"5px",fontFamily:"monospace",fontSize:N<=600?"10px":"12px",height:"100%",display:"none",flexDirection:"column"},children:[(0,g.jsxs)("div",{style:{display:"flex",marginBottom:"10px"},children:[(0,g.jsx)("button",{onClick:()=>ae("operator"),style:{padding:N<=600?"6px 12px":"8px 16px",fontSize:N<=600?"10px":"12px",backgroundColor:"operator"===oe?"#27ae60":"#444",color:"white",border:"none",borderRadius:"3px 3px 0 0",cursor:"pointer",marginRight:"2px"},children:"Operator"}),(0,g.jsx)("button",{onClick:()=>ae("analyst"),style:{padding:N<=600?"6px 12px":"8px 16px",fontSize:N<=600?"10px":"12px",backgroundColor:"analyst"===oe?"#27ae60":"#444",color:"white",border:"none",borderRadius:"3px 3px 0 0",cursor:"pointer",marginRight:"2px"},children:"Analyst"}),(0,g.jsx)("button",{onClick:()=>ae("debug"),style:{padding:N<=600?"6px 12px":"8px 16px",fontSize:N<=600?"10px":"12px",backgroundColor:"debug"===oe?"#27ae60":"#444",color:"white",border:"none",borderRadius:"3px 3px 0 0",cursor:"pointer"},children:"Debug"})]}),(0,g.jsx)("div",{style:{flex:1,overflowY:"auto"},children:"operator"===oe?(0,g.jsx)(P,{windows:Ie,producerStates:te,elapsedTime:Z,windowWidth:N}):"analyst"===oe?(0,g.jsx)(T,{windows:Ie,windowWidth:N}):(0,g.jsx)(I,{elapsedTime:Z,destroyedBySource:$,destroyedByGround:W,particles:pt,windows:Ie,thresholdSetting:V,watermarkDelay:Y,windowWidth:N,resetCount:Ne,lastResetTime:Be})})]})]}),(0,g.jsx)(S,{show:Re.show&&se,x:Re.x,y:Re.y,particle:Re.particle,windowWidth:N,windowSize:V,hideWindows:he}),(0,g.jsx)(E,{show:Ge.show&&se,x:Ge.x,y:Ge.y,windowId:Ge.windowId,windowStart:Ge.windowStart,windowEnd:Ge.windowEnd,watermarkValue:Ge.watermarkValue,producerCounts:Ge.producerCounts,windowWidth:N,windowSize:V,hideWindows:he}),(0,g.jsx)(C,{show:Ke.show&&se,x:Ke.x,y:Ke.y,producerIndex:Ke.producerIndex,totalProduced:Ke.totalProduced,totalLost:Ke.totalLost,windowWidth:N})]})});A.displayName="MatterCanvas";const M=A;var R=n(947),F=n.n(R);let L=[];const D=e=>{L=e},O=()=>L.map(e=>e.id),j=e=>{const t=(0,r.useRef)(null),[n,i]=(0,r.useState)(new Set),[o,a]=(0,r.useState)(!1),[s,l]=(0,r.useState)(""),u=(0,r.useRef)({onProducerToggle:e.onProducerToggle,onThresholdChange:e.onThresholdChange,onwatermarkDelayChange:e.onwatermarkDelayChange,onRateChange:e.onRateChange,onTabChange:e.onTabChange,onShowLineChartToggle:e.onShowLineChartToggle,onPauseSet:e.onPauseSet,onHideProducerSet:e.onHideProducerSet,onHideWindowsSet:e.onHideWindowsSet,onSpotlightProducerSet:e.onSpotlightProducerSet,onHighlightClosestParticle:e.onHighlightClosestParticle,onSetWindowSizeTo100000:e.onSetWindowSizeTo100000,onShowOverlay:e.onShowOverlay,onHideOverlay:e.onHideOverlay,onResetSimulation:e.onResetSimulation,onClearHighlightedParticle:e.onClearHighlightedParticle,onSlideChange:e.onSlideChange}),c=(0,r.useRef)(e);c.current=e,(0,r.useEffect)(()=>{u.current={onProducerToggle:e.onProducerToggle,onThresholdChange:e.onThresholdChange,onwatermarkDelayChange:e.onwatermarkDelayChange,onRateChange:e.onRateChange,onTabChange:e.onTabChange,onShowLineChartToggle:e.onShowLineChartToggle,onPauseSet:e.onPauseSet,onHideProducerSet:e.onHideProducerSet,onHideWindowsSet:e.onHideWindowsSet,onSpotlightProducerSet:e.onSpotlightProducerSet,onHighlightClosestParticle:e.onHighlightClosestParticle,onSetWindowSizeTo100000:e.onSetWindowSizeTo100000,onShowOverlay:e.onShowOverlay,onHideOverlay:e.onHideOverlay,onResetSimulation:e.onResetSimulation,onClearHighlightedParticle:e.onClearHighlightedParticle,onSlideChange:e.onSlideChange}},[e]);const d=(0,r.useCallback)(e=>{const t=u.current,n=c.current;if(void 0!==e.pause&&t.onPauseSet(e.pause),void 0!==e.activeProducers)for(let i=0;i<3;i++){const r=e.activeProducers.includes(i),o=n.producerStates[i];r&&!o?t.onProducerToggle(i,!0):!r&&o&&t.onProducerToggle(i,!1)}if(void 0!==e.visibleProducers){for(let r=0;r<3;r++)n.hideProducers[r]||e.visibleProducers.includes(r)||(t.onHideProducerSet(r,!0),t.onProducerToggle(r,!1));e.visibleProducers.forEach(e=>{n.hideProducers[e]&&t.onHideProducerSet(e,!1)})}if(void 0!==e.threshold&&n.currentThreshold!==e.threshold&&(t.onThresholdChange(e.threshold),t.onResetSimulation()),void 0!==e.watermarkDelay&&n.currentwatermarkDelay!==e.watermarkDelay&&(t.onwatermarkDelayChange(e.watermarkDelay),t.onResetSimulation()),void 0!==e.rate){const r=Math.max(1,Math.min(10,e.rate));n.currentRate!==r&&t.onRateChange(r)}void 0!==e.activeTab&&n.currentTab!==e.activeTab&&t.onTabChange(e.activeTab),void 0!==e.showLineChart&&n.showLineChart!==e.showLineChart&&t.onShowLineChartToggle(e.showLineChart),void 0!==e.hideWindows&&n.hideWindows!==e.hideWindows&&t.onHideWindowsSet(e.hideWindows);const r=void 0!==e.spotlightProducer?e.spotlightProducer:null;n.spotlightProducer!==r&&t.onSpotlightProducerSet(r);!0===e.highlightEvent?(n.isPaused||t.onPauseSet(!0),t.onHighlightClosestParticle()):t.onClearHighlightedParticle(),!0===e.showOverlay&&e.overlayContent?t.onShowOverlay(e.overlayContent,e.overlayTitle,s):!1===e.showOverlay&&t.onHideOverlay(),!0===e.resetSimulation&&t.onResetSimulation(),!0===e.setWindowSizeTo100000&&t.onSetWindowSizeTo100000()},[s]),h=(0,r.useCallback)((e,t)=>{d(t)},[d]),p=(0,r.useMemo)(()=>{const t=[{id:"welcome",title:"Welcome!",content:"\nThis explains the _concepts_ behind watermarks in Apache Flink.\nIt focusses on their behaviour in Flink SQL.\n\n![](/images/welcome_sm.webp)\n\nJust a note - what's shown in this simulation is an abstracted view.\nIt explains _conceptually_ why watermarks are needed, what they are, and _simplistically_ how they work.\nIt does not\u2014nor should it be taken to\u2014aspire to be an accurate model of Flink's workings.\n\n\ud83d\udc47 Scroll on to start learning! \ud83d\udc47\n",state:{activeProducers:[],visibleProducers:[],pause:!0,activeTab:"operator",showLineChart:!0,hideWindows:!0,spotlightProducer:null,threshold:1e5,watermarkDelay:1e3,rate:5,highlightEvent:!1,showOverlay:!1}},{id:"producers-1",title:"Producers",content:"In this simulation, events are shown being produced on the left.\n\nIn stream processing you're dealing with an unbounded series of events. That means there is no 'end' to them, there's no 'batch' that's finished loading.\n      ",state:{activeProducers:[0],visibleProducers:[0],pause:!1,activeTab:"operator",showLineChart:!0,hideWindows:!0,spotlightProducer:0,threshold:1e5,watermarkDelay:1e3,rate:5,highlightEvent:!1}},{id:"producers-2",title:"",content:"The simulation has three producers that generate events at different rates and with different characteristics.\n\n- **Producer 1** (circles): Generates events at a steady rate\n- **Producer 2** (squares): Generates events with some variability\n- **Producer 3** (triangles): Generates events with high variability\n\nIn a real Flink application, these different sources might represent multiple Kafka topic partitions, topics, or other data sources feeding into your stream processing job.\n\n> TIP: You can turn producers on and off by clicking on them.\n",state:{activeProducers:[0,1,2],visibleProducers:[0,1,2],pause:!1,activeTab:"operator",showLineChart:!0,hideWindows:!0,spotlightProducer:null,threshold:1e5,watermarkDelay:1e3,rate:5,highlightEvent:!1}},{id:"events",title:"Events",content:"Each event has a time at which it was emitted, known as the _event time_. When the simulation is paused you can hover over the event to see it.\n\n![](/images/hover.webp)\n\n> TIP: You can pause and unpause the simulation by clicking on the background.\n      ",state:{activeProducers:[0],visibleProducers:[0,1,2],pause:!0,activeTab:"operator",showLineChart:!0,hideWindows:!0,spotlightProducer:null,threshold:1e5,watermarkDelay:1e3,rate:5,highlightEvent:!0}},{id:"windowing-0",title:"Windowing",content:"We can count how many events happen in a period of time.\n\n![](/images/windows-0.webp)\n\n\u2139\ufe0f This represents a _tumbling_ window. Other types you might hear of include session, hopping, and cumulating.",state:{activeProducers:[0],visibleProducers:[0,1,2],pause:!1,activeTab:"operator",showLineChart:!0,hideWindows:!0,spotlightProducer:null,threshold:2500,watermarkDelay:1e5,rate:8,highlightEvent:!1}},{id:"windowing-1",title:"",content:"As each event arrives at Flink\xb9 (_illustrated by the collector on the right-hand side of the simulation_) it's accumulated in the corresponding window based on their timestamp.\n\nEach window has a size (currently 2500 time units) and collects events that fall within that time range.\n\nThe table at the bottom of the screen shows details for each instance of a window.\n\n![](/images/window-table.webp)\n\n> \xb9Strictly speaking, all of the simulation represents \"Flink\", and it's the arrival of an event in Flink at the operator that is being represented by the right-hand side of the diagram.\n",state:{activeProducers:[0,1,2],visibleProducers:[0,1,2],pause:!1,activeTab:"operator",showLineChart:!1,hideWindows:!1,spotlightProducer:null,threshold:2500,watermarkDelay:1e5,rate:5,highlightEvent:!1}},{id:"windowing-2",title:"",content:"If you hover over a particle when the simulation is paused you can see the window to which the event represented by the particle will be added.\n\n![](/images/windows-2.webp)\n\n> Technically speaking, the window is not determined until it arrives at Flink. We only show it here attached to the event to aid understanding of the concept.\n",state:{activeProducers:[0],visibleProducers:[0,1,2],pause:!0,activeTab:"operator",showLineChart:!1,hideWindows:!1,spotlightProducer:null,threshold:2500,watermarkDelay:1e5,rate:5,highlightEvent:!0}},{id:"windowing-3",title:"Results and Completeness",content:"Flink will close a window and emit its result only once the window is considered complete.\n\nThis brings us on to the very heart of the issue that we're going to discuss:\n\n**How do you decide when the window is considered complete?**\n\nFirst, we need to have a little think about time.\n  ",overlayButtonText:"\u2139\ufe0f",overlayTitle:"Tip",overlayContent:"The simulation shows open windows, and when the window closes, removes them:\n\n![](images/window-complete.gif)\n\nYou can also examine the status of windows by looking at the bottom-left table:\n\n![](images/window-table.webp)\n",state:{activeProducers:[0],visibleProducers:[0,1,2],pause:!1,activeTab:"operator",showLineChart:!1,hideWindows:!1,spotlightProducer:null,threshold:2500,watermarkDelay:1e5,rate:5,highlightEvent:!1}},{id:"why-we-need-watermarks-1",title:"Thinking about time \ud83e\udd14",content:'Wouldn\'t it be nice if the real world were this neatly organised, with **every event arriving in order, with no delays or out-of-order\xb9 events**?\n\n\u2139\ufe0f TIP: Flink doesn\'t concern itself with clock skew; it assumes that all of the timestamps in the events can be meaningfully compared and ordered.\n\n---\n\n> \xb9We use "out of order" and not "late", because a "late event" has a specific meaning in Flink SQL (it\'s dropped during processing)',state:{activeProducers:[0],visibleProducers:[0,1,2],pause:!1,activeTab:"operator",showLineChart:!1,hideWindows:!1,spotlightProducer:null,threshold:2500,watermarkDelay:1e5,rate:5,highlightEvent:!1}},{id:"why-we-need-watermarks-2",title:"Events in the real world",content:"In the real world, events may get delayed.\nThat might mean a gap in what we process.\n\nThe delay could be caused by many factors; network glitches, devices offline, bottlenecks in upstream processing, and so on.\n\nThe second producer is an example of one in which some of the events are out of order.\n\n![](/images/out-of-order.webp)\n\n\n",state:{activeProducers:[1],visibleProducers:[0,1,2],pause:!1,activeTab:"operator",showLineChart:!0,hideWindows:!1,spotlightProducer:null,threshold:2500,watermarkDelay:1e5,rate:5,highlightEvent:!1}},{id:"why-we-need-watermarks-3",title:"Not all events are produced at a consistent rate",content:'The third producer is very "bursty", with events both delayed and out of order.\n\n![](/images/p3.webp)',state:{activeProducers:[2],visibleProducers:[0,1,2],pause:!1,activeTab:"operator",showLineChart:!0,hideWindows:!0,spotlightProducer:null,threshold:2500,watermarkDelay:1e5,rate:5,highlightEvent:!1}},{id:"watermarking-intro-1",title:"",content:"So, **how do we handle events that arrive _delayed_ or _out-of-order_**?\n\n---\n\n> We're talking about windowed aggregations, but the principles we're about to explain apply to any processing in Flink that relies on an element of time, including:\n>\n> * Pattern matching\n> * Temporal and interval joins\n> * Time window aggregations\n> * `OVER` aggregations (deduplication, etc.)\n> * `MATCH_RECOGNIZE` (pattern matching)\n> * `ORDER BY` time\n> * ML functions",state:{activeProducers:[2],visibleProducers:[0,1,2],pause:!1,activeTab:"operator",showLineChart:!0,hideWindows:!0,spotlightProducer:null,threshold:2500,watermarkDelay:1e5,rate:5,highlightEvent:!1}},{id:"watermarking-intro-2",title:"YOLO \xaf\\_(\u30c4)_/\xaf",content:"One option is that we ignore (discard) anything that arrives out of order.\n\n**It's easy, but potentially inaccurate.**\n\n![](/images/yolo.gif)\n\nYou can see the number of late events as bars on the lower chart, marked as 'Late':\n\n![](/images/dropped-0.webp)\n\nIf you switch to the table you can see how many events were late and thus dropped for each window by producer\n\n![](/images/dropped-1.webp)\n",state:{activeProducers:[1],visibleProducers:[0,1,2],pause:!1,activeTab:"operator",showLineChart:!1,hideWindows:!1,spotlightProducer:null,threshold:1e3,watermarkDelay:0,rate:7,highlightEvent:!1}},{id:"watermarking-intro-3",title:"",content:"More accurate would be to **add the event to the older window to which it belongs.**\n\n![](/images/windows-5.webp)\n\n---\n\n> Note how the number of dropped late events is now zero, because they are all being added to the correct window instead.\n>\n> Also observe that none of the windows are getting closed.\n\n",overlayTitle:"Out-of-order event handling",overlayContent:"Adding an out-of-order event to the window to which it belongs.\n\n![](/images/windows-5.webp)",overlayButtonText:"Zoom image",state:{activeProducers:[1],visibleProducers:[0,1,2],pause:!1,activeTab:"operator",showLineChart:!1,hideWindows:!1,spotlightProducer:null,threshold:2e3,watermarkDelay:1e6,rate:7,highlightEvent:!1,resetSimulation:!0}},{id:"watermarking-intro-4",title:"",content:"But here's the rub: If we are going to update previous windows, that means we're **not going to emit the result of the window yet**.\n\nFlink SQL will give the result for a window once, and only once, the window is closed.\n\n---\n\n> **Note**: Flink waits to produce a single, final result at the end of each window because this produces an append-only stream as a window's output. This is easy to work with, and it makes it clear when the state accumulating each window's results can be freed. The alternative would have been to produce a stream that updates the results after each input event.",state:{activeProducers:[1],visibleProducers:[0,1,2],pause:!1,activeTab:"operator",showLineChart:!1,hideWindows:!1,spotlightProducer:null,threshold:2e3,watermarkDelay:1e6,rate:7,highlightEvent:!1}},{id:"watermarking-intro-5",title:"The trade-off",content:"So,\t**how long do we hold a window open for to allow for delayed events to arrive**?\n\n1 second? 1 minute? 1 day?\n\n1. **The longer we wait, the *more accurate* our result will potentially be**\n2. **Whilst the window is open, *no result* for that window is returned (i.e. high latency)**\n\n![](/images/accuracy-latency.webp)\n\nIt's a sliding scale. On one end, we have the highest accuracy but longest latency for a result.\nOn the other, the quickest result but lowest potential accuracy.\n\n**Only you know what the business requirement is**. Do you need low-latency results, and are ok with potentially lower accuracy? Or is accuracy the higher priority and you'll accept some delay in getting the number?\n\n",overlayButtonText:"Zoom image",overlayContent:"So,\t**how long do we hold a window open for to allow for delayed events to arrive**?\n\n1 second? 1 minute? 1 day?\n\n1. **The longer we wait, the *more accurate* our result will potentially be**\n2. **Whilst the window is open, *no result* for that window is returned (i.e. high latency)**\n\n![](/images/accuracy-latency.webp)\n\nIt's a sliding scale. On one end, we have the highest accuracy but longest latency for a result.\nOn the other, the quickest result but lowest potential accuracy.\n\n**Only you know what the business requirement is**. Do you need low-latency results, and are ok with potentially lower accuracy? Or is accuracy the higher priority and you'll accept some delay in getting the number?\n",overlayTitle:"The trade-off",state:{activeProducers:[1],visibleProducers:[0,1,2],pause:!1,activeTab:"operator",showLineChart:!1,hideWindows:!1,spotlightProducer:null,threshold:2e3,watermarkDelay:1e6,rate:7,highlightEvent:!1}},{id:"what-is-a-watermark",title:"Watermarks",content:"**How long we tell Flink to wait for data** is implemented through what are called *Watermarks*.\n\nA *watermark* in Flink tells it the *time up to which all data can be considered complete*. Once the current watermark time is greater than, or equal to, the window end time, the window will be closed by Flink.\n\n![](/images/lightbulb.webp)\n",state:{activeProducers:[1],visibleProducers:[0,1,2],pause:!1,activeTab:"operator",showLineChart:!1,hideWindows:!1,spotlightProducer:null,threshold:2e3,watermarkDelay:1e3,rate:7,highlightEvent:!1}},{id:"accuracy-notice",title:"Disclaimer \u2757",content:"\n\n## What really happens with watermarks\n\nWhat's presented in this simulation is an abstracted view.\nIt explains _conceptually_ why watermarks are needed, what they are, and _simplistically_ how they work.\n\nIt does not\u2014nor should it be taken to\u2014aspire to be an accurate model of Flink's workings.",overlayContent:"This is a list of some of the things that we've simplified or omitted to show.\n\n* The sources (such as reading from Apache Kafka) create watermarks based on the events they see, and insert these watermarks into the stream. They then flow downstream along with the data records, as a separate type of stream record.\n* Flink doesn't just stream data around the cluster. There are other stream record types: watermarks, checkpoint barriers, latency tracking markers\u2026\n* Things are a lot more complicated when dealing with multiple parallel Flink tasks, for example reading from multiple partitions in Kafka. This simulation only demonstrates on Flink task/source reading all the events.\n* This simulation doesn't cover retractions or custom triggers to output results early\n",overlayButtonText:"Details",overlayTitle:"Limitations of the simulation",state:{activeProducers:[1],visibleProducers:[0,1,2],pause:!1,activeTab:"operator",showLineChart:!1,hideWindows:!1,spotlightProducer:null,threshold:2e3,watermarkDelay:1e3,rate:7,highlightEvent:!1}},{id:"watermarking-1",title:"How are watermarks defined?",content:'Watermarks are **based on the time of the  events themselves**\xb9.\n\nThis is generally a much better approach than using the wall clock for timing as it allows for a deterministic\xb2 approach to processing.\n\n---\n\n\xb9 Although can also be an absolute value instead ([such as here](https://rmoff.net/2025/05/20/exploring-joins-and-changelogs-in-flink-sql/#_avoiding_nulls_in_temporal_joins_to_reference_data)).\n\n\xb2 This is a "**qualified truth**"! It\'s only "kind of" deterministic \ud83d\ude09 In reality there are factors that can still result in a non-deterministic outcome.',state:{activeProducers:[1],visibleProducers:[0,1,2],pause:!1,activeTab:"operator",showLineChart:!1,hideWindows:!1,spotlightProducer:null,threshold:2e3,watermarkDelay:1e3,rate:7,highlightEvent:!1}},{id:"watermarking-2",title:"Watermark Generation Strategy",content:"In Flink SQL, the **Watermark Delay**\xb9 defines what value the watermark will be **relative to an event's time**.\n\nWatermarks in Flink SQL are configured using table DDL e.g.:\n\n```sql\nALTER TABLE my_table\nADD WATERMARK FOR created_at\nAS created_at - INTERVAL '5' SECOND;\n```\n\nYou set this based on the requirements trade-off discussed above: accuracy vs latency.\n\n**Remember: The longer the delay, the more accurate our result will potentially be\u2014but the longer we have to wait for any result to be emitted.**\n",overlayTitle:"Flink Watermark Generation Strategy",overlayButtonText:"\xb9 Full details of how a watermark is generated",overlayContent:'\n\nThe term you will usually see is "**Watermark Strategy**" or "**Watermark Generation Strategy**".\nA watermark strategy is a combination of three things (of which "watermark delay" is one):\n\n1. How to determine **the timestamp for each event**. That is, which field in the incoming message holds the timestamp?\n2. What **value to produce for the watermark** (_usually a time relative to the message\'s timestamp, but can also be an absolute timestamp_).\n3. **How often** to produce watermarks.\n\nIt\'s the second point here that we are referring to as "Watermark Delay" and simulating in this visualisation.\nThe _delay_ is a value subtracted from the event\'s timestamp (point 1 in the list above), to calculate the watermark value.\n\nWatermarks in Flink SQL are configured using table DDL e.g.:\n\n```sql\nALTER TABLE my_table\nADD WATERMARK FOR created_at AS created_at - INTERVAL \'5\' SECOND;\n```\n\nThis tells Flink how to determine the timestamp (`FOR created_at`) and what value to produce, i.e. the delay (`AS created_at - INTERVAL \'5\' SECOND`).\nTo change when watermarks are produced, set the `scan.watermark.emit.strategy` table property (or query hint).\n',state:{activeProducers:[1],visibleProducers:[0,1,2],pause:!1,activeTab:"operator",showLineChart:!1,hideWindows:!1,spotlightProducer:null,threshold:2e3,watermarkDelay:1e3,rate:7,highlightEvent:!1}},{id:"watermarking-3",title:"Watermarks in action",content:"\nAny event arriving with a timestamp _earlier than or equal to the watermark_ will be classed as _late_. Flink SQL will drop late events, and not process them.\n\n![](/images/watermark01.webp)\n\nIf you set the watermark delay to zero it means that the watermark will be equivalent to the event's time.\nThe effect of this is that Flink will not wait for any delayed events\u2014and it will also discard any subsequent events with the _same timestamp!_ \xb9\n\n---\n\n> \xb9 In practice if you want to set it to \"zero\" (in order to have minimal latency in results), you'd set the delay to a small value like 0.1 second, so that records of the same timestamp are not marked as late and thus discarded.\n\n",state:{activeProducers:[1],visibleProducers:[0,1,2],pause:!1,activeTab:"operator",showLineChart:!1,hideWindows:!1,spotlightProducer:null,threshold:2e3,watermarkDelay:1e3,rate:7,highlightEvent:!1}},{id:"watermarking-4",title:"Watermarks in action",content:'\nFlink will always _advance_ the watermark if a newer one arrives; it won\'t reverse it if an older one does.\n\n\n**All a watermark is doing is telling Flink "_Consider the stream complete up to this point, but not beyond._"**\n',state:{activeProducers:[1],visibleProducers:[0,1,2],pause:!1,activeTab:"operator",showLineChart:!1,hideWindows:!1,spotlightProducer:null,threshold:2e3,watermarkDelay:1e3,rate:7,highlightEvent:!1}},{id:"watermarking-5",title:"Watermarks and Window Results",content:"\nWatermarks are usually set relative to an event's time\u2014thus allowing for out of order events.\n\nLet's consider an example pipeline with the following characteristics:\n\n* Window size: 5 seconds\n* Watermark delay: 2 seconds\n\nIn this pipeline, an event timed at `12:00:01` will have a watermark of `11:59:59`.\nThat is, the event time (`12:00:01`) minus the watermark delay (2 seconds).\n\nWhen this event arrives at Flink\xb9 it will be added to the `12:00:00-12:00:04.999` window, and advance the watermark for Flink to `11:59:59`.\nThe `11:59:55-11:59:59.999` window will remain open and no result will be emitted yet.\nThis is because the time in Flink's view of the world (which is what the watermark is) is `11:59:59`. Therefore the window cannot be closed, and therefore the result is not emitted.\nThe event time itself is, in a sense, irrelevant (other than the fact that the watermark is tied to it).\n\nNow consider if the next event is timed at `12:00:02` (and thus with a watermark of `12:00:00`).\n\nWhen this event arrives at Flink it will be added to the same `12:00:00-12:00:04.999` window, and advance the watermark for Flink to `12:00:00`.\n**This will cause the 11:59:55-11:59:59.999 window to close and the result to be emitted**.\nThat's because the watermark (which moved forward to `12:00:00` when the event arrived) is greater than the end time of the window (`11:59:59.999`)\n\n---\n\n> \xb9Strictly speaking, all of the simulation represents \"Flink\", and it's the arrival of an event in Flink at the operator that is being represented by the right-hand side of the diagram.\n\n",state:{activeProducers:[0],visibleProducers:[0,1,2],pause:!1,activeTab:"operator",showLineChart:!1,hideWindows:!1,spotlightProducer:null,threshold:5e3,watermarkDelay:2e3,rate:5,highlightEvent:!1}},{id:"watermarking-6",title:"Watermarks and 'late' events",content:"\nWhat if we have two events timed `12:00:00` and `12:00:08` that, because of a network problem, arrive at Flink out of order?\n\n* Window size: 5 seconds\n* Watermark delay: 2 seconds\n\nWith a watermark delay of two seconds, the `12:00:08` event will have a watermark of `12:00:06`.\nWhen it arrives at Flink it is added to the `12:00:05-12:00:09.999` window and advances the watermark to `12:00:06`.\n\nNow that the watermark has advanced beyond the range of the earlier `12:00:00-12:00:04.999` window, Flink will now emit that window's results, and close it, freeing the state it has been using to accumulate results.\n\nThis means that when the next event\u2014timed at `12:00:00`\u2014arrives, the window it would have been assigned to has been closed. This event is **late**, and it is discarded because it can no longer be processed correctly.\n",state:{activeProducers:[1,2],visibleProducers:[0,1,2],pause:!1,activeTab:"operator",showLineChart:!1,hideWindows:!1,spotlightProducer:null,threshold:5e3,watermarkDelay:2e3,rate:5,highlightEvent:!1}},{id:"watermarking-7",title:"Watermarks and processing out-of-order events",content:"\nWe saw in the previous slide that with a watermark delay of 2 seconds the first event (`12:00:00`) will be classed as late and discarded if it arrives after the second one (`12:00:08`).\n\nBut what if we wanted to process the second event?\nThen we give the watermark a greater delay.\n\nFor example, if we set the watermark delay to ten seconds, then the `12:00:08` event will have a watermark of `11:59:58`.\nThat means that the second event (`12:00:00`) will be accepted by Flink when it arrives (because `12:00:00` is greater than the current watermark at that point of `11:59:58`).\n\nThe flip side of increasing the watermark delay is that it will be longer until the window can be closed.\nThis is because the watermark will advance more slowly; instead of being five seconds behind the most recent event, it's ten seconds behind.\n",state:{activeProducers:[1,2],visibleProducers:[0,1,2],pause:!1,activeTab:"operator",showLineChart:!1,hideWindows:!1,spotlightProducer:null,threshold:5e3,watermarkDelay:1e4,rate:5,highlightEvent:!1}},{id:"watermarking-8",title:"Watermarks and 'stuck' results",content:"\nWe've seen what happens when there is a steady stream of events, each one moving the watermark forward.\nBut what if there is a big delay in the arrival of events?\n\nConsider a pipeline with hourly windows and ten minute watermark delay.\n\nAn event with a timestamp of `17:59:00` arrives.\nIt's the last transaction from a retailer before the doors are shut for the weekend (old school, right?!).\n\nWhen it arrives at Flink it will be added to the `17:00:00-17:59:59.999` window.\nThe watermark advances to `17:49:00`.\nSo far, as expected.\n\nBut now the system has no more events (since the store is shut).\nThe manager wants to see their hourly sales figures, but the figure for the last hour of the day (`17:00:00-17:59:59.999`) isn't there.\n\nWhy not?\n\nBecause so far as Flink is concerned the time (the last seen watermark) is `17:49:00`, and therefore it cannot close the window (nor thus emit the result).\n\nWhat it needs is another event, and one which is going to advance the watermark past `17:59:59.999`.\nIn our example, this might not happen until Monday morning when the shop re-opens!\n\nIn practice, we'd be aware of this consideration and make sure to design the system to send a dummy event with a watermark sufficient to \"flush\" the pipeline.\n\nIf you're experimenting with Flink and getting no results from time-based operations, make sure to consider whether the watermark is being advanced far enough to trigger the emission of results.\n",state:{activeProducers:[1,2],visibleProducers:[0,1,2],pause:!1,activeTab:"operator",showLineChart:!1,hideWindows:!1,spotlightProducer:null,threshold:5e3,watermarkDelay:1e4,rate:5,highlightEvent:!1}},{id:"conclusion",title:"tl;dr",content:"\n* Flink has various capabilities that rely on _time_. For example, windowed aggregations, or temporal joins.\n* It doesn't use the wall clock (processing time), but instead models time based on timestamps in incoming events.\n* Results won't be emitted from a time-based operation until Flink determines those results are complete, meaning that all events for that time period have been seen.\n* Flink uses _watermarks_ to determine this.\n* Watermarks are generated by subtracting an offset (delay) from the events' timestamps.\n* There's a trade-off between accuracy (including all the events for a time period) and result latency.\n  ",state:{activeProducers:[1,2],visibleProducers:[0,1,2],pause:!1,activeTab:"operator",showLineChart:!1,hideWindows:!1,spotlightProducer:null,threshold:5e3,watermarkDelay:1e4,rate:5,highlightEvent:!1}},{id:"learn-more",title:"Learn more about Watermarks on Confluent Developer",content:"\n_[Confluent Developer](https://developer.confluent.io?utm_source=flink-watermarks-wtf&utm_medium=web) is your one-stop shop for free courses and materials to help you learn and get the most out of Apache Flink, Apache Kafka, and other components of a modern data streaming platform._\n\n* Apache Flink\xae SQL 101: [How streaming SQL uses watermarks](https://developer.confluent.io/courses/flink-sql/watermarks/?utm_source=flink-watermarks-wtf&utm_medium=web)\n* Apache Flink\xae 101: [Event Time and Watermarks](https://developer.confluent.io/courses/apache-flink/timely-stream-processing/?utm_source=flink-watermarks-wtf&utm_medium=web)\n\n![](/images/cd01.webp)\n  ",state:{activeProducers:[1,2],visibleProducers:[0,1,2],pause:!1,activeTab:"operator",showLineChart:!1,hideWindows:!1,spotlightProducer:null,threshold:5e3,watermarkDelay:1e4,rate:5,highlightEvent:!1}},{id:"resources",title:"",content:"\n\n# More Resources\n* [How does Apache Flink actually work](https://youtu.be/QLzHeqzDnbM?si=LRMQSqlC7sYdwbCg&t=1349) - Danny Cranmer (video)\n* [Timing is Everything: Understanding Event-Time Processing in Flink SQL](https://current.confluent.io/2024-sessions/timing-is-everything-understanding-event-time-processing-in-flink-sql) - Sharon Xie\n* [It's Time We Talked About Time: Exploring Watermarks (And More) In Flink SQL](https://rmoff.net/2025/04/25/its-time-we-talked-about-time-exploring-watermarks-and-more-in-flink-sql/) - Robin Moffatt\n* [Watermark, Window and Challenges](https://speakerdeck.com/jark/flink-sql-the-challenges-of-implementing-a-streaming-sql-engine?slide=6) - Jark Wu\n# Documentation\n\n\n* [Event Time](https://nightlies.apache.org/flink/flink-docs-master/docs/dev/table/concepts/time_attributes/#event-time)\n* [Timely Stream Processing](https://nightlies.apache.org/flink/flink-docs-master/docs/concepts/time/)\n* [Watermark Strategies and the Kafka Connector](https://nightlies.apache.org/flink/flink-docs-master/docs/dev/datastream/event-time/generating_watermarks/#watermark-strategies-and-the-kafka-connector)\n* [`WATERMARK` DDL reference](https://nightlies.apache.org/flink/flink-docs-master/docs/dev/table/sql/create/#watermark)\n* [Source Per-Partition Watermarks](https://nightlies.apache.org/flink/flink-docs-master/docs/connectors/table/kafka/#source-per-partition-watermarks)\n* [Configuration reference](https://nightlies.apache.org/flink/flink-docs-master/docs/dev/table/config/#table-exec-source-idle-timeout)\n\n_It's not ideal that the information about watermarks is spread across the docs as it is, but that is how it is, so deal with it or [file a PR](https://github.com/apache/flink/pulls) :)_\n\n# Further Reading\n\n* Tyler Akidau published two very good articles that are essential reading:\n  * [Streaming 101: The world beyond batch](https://www.oreilly.com/radar/the-world-beyond-batch-streaming-101/) \u2014 _A high-level tour of modern data-processing concepts._\n  * [Streaming 102: The world beyond batch](https://www.oreilly.com/radar/the-world-beyond-batch-streaming-102/) \u2014 _The what, where, when, and how of unbounded data processing._\n* [Watermarks in Stream Processing Systems: Semantics and Comparative Analysis of Apache Flink and Google Cloud Dataflow](https://www.vldb.org/pvldb/vol14/p3135-begoli.pdf) \u2014Tyler Akidau, Edmon Begoli, Slava Chernyak, Fabian Hueske, Kathryn Knight, Kenneth Knowles, Daniel Mills, and Dan Sotolongo - PVLDB, 14(12): 3135 - 3147, 2021.\n* [Fundamentals of Stream Processing with Apache Beam](https://docs.google.com/presentation/d/1bUUug0RrKx3GhsVyOdfRkYVtOaLFRmJm5WDkSbeP5Js/present?slide=id.gcfb4522f7_0_0) \u2014Tyler Akidau, Frances Perry\n",state:{activeProducers:[1,2],visibleProducers:[0,1,2],pause:!1,activeTab:"operator",showLineChart:!1,hideWindows:!1,spotlightProducer:null,threshold:5e3,watermarkDelay:1e4,rate:5,highlightEvent:!1}},{id:"eof",title:"#EOF",content:"![Looney Tunes Nothing To See Here](/images/theend-noloop.gif)\n\n&nbsp;\n\n&nbsp;\n\n&nbsp;\n\n&nbsp;\n\n&nbsp;\n\n&nbsp;\n\n&nbsp;\n\n&nbsp;\n\n&nbsp;\n\n&nbsp;\n\n&nbsp;\n\n&nbsp;\n\n&nbsp;\n\n&nbsp;\n\n&nbsp;\n\n---\n_Credits: [Elijah Meeks](https://www.linkedin.com/in/elijah-meeks/), [Robin Moffatt](https://www.linkedin.com/in/robinmoffatt), [David Anderson](https://www.linkedin.com/in/alpinegizmo/), [Gunnar Morling](https://www.linkedin.com/in/gunnar-morling/)_\n",state:{activeProducers:[1,2],visibleProducers:[0,1,2],pause:!1,activeTab:"operator",showLineChart:!1,hideWindows:!1,spotlightProducer:null,threshold:5e3,watermarkDelay:1e4,rate:5,highlightEvent:!1}}];if(e.isPortrait&&(e.isMobile||e.isTablet)){return[{id:"mobile-rotate-notice",title:"\u2139\ufe0f Best Viewed in Landscape \ud83d\uddbc\ufe0f ",content:"This interactive simulation works best in landscape mode or on a desktop.\n\n**Rotate your device** for the full experience, or visit on a **larger screen**.\n\n![Window Simulation Preview](/images/animation.gif)\n\n\ud83d\udc47\ud83d\udc47 Continue scrolling to learn more about watermarks in Flink \ud83d\udc47\ud83d\udc47\n&nbsp;\n\n&nbsp;\n\n&nbsp;\n\n&nbsp;\n\n&nbsp;\n\n&nbsp;",state:{pause:!0,activeProducers:[],visibleProducers:[0],hideWindows:!0,activeTab:"operator",showLineChart:!1,spotlightProducer:null,threshold:1e5,watermarkDelay:1e3,rate:3,highlightEvent:!1}},...t]}return t},[e.isPortrait,e.isMobile,e.isTablet]);(0,r.useEffect)(()=>{D(p)},[p]),(0,r.useEffect)(()=>{if(p.length>0&&!o)if(e.currentSlide>1){const t=p[e.currentSlide-1];t&&t.state&&(d(t.state),l(t.id))}else{const e=p.find(e=>"welcome"===e.id);e&&e.state&&(d(e.state),l(e.id))}},[p,o,d,e.currentSlide]),(0,r.useEffect)(()=>{if(!o&&e.currentSlide>1&&t.current){const n=p[e.currentSlide-1];if(n){const e=t.current.querySelector(`#${n.id}`);e&&e.scrollIntoView({behavior:"auto"})}}},[o,e.currentSlide,p]);const f=(0,r.useCallback)(()=>{if((window.pageYOffset||document.documentElement.scrollTop)<50){const e=p.find(e=>"welcome"===e.id);e&&e.state&&"welcome"!==s&&(l("welcome"),h("welcome",e.state),u.current.onSlideChange(0))}},[p,s,h]);return(0,r.useEffect)(()=>{if(!t.current||o)return;const e=setTimeout(()=>{var e;const r=null===(e=t.current)||void 0===e?void 0:e.querySelectorAll(".scroll-step");r&&0!==r.length?n(r):setTimeout(()=>{var e;const r=null===(e=t.current)||void 0===e?void 0:e.querySelectorAll(".scroll-step");r&&r.length>0&&n(r)},500)},100),n=e=>{F()().setup({step:".scroll-step",offset:.5,progress:!0,once:!1}).onStepEnter(e=>{const t=e.element.id,n=p.find(e=>e.id===t);if(n&&n.state){l(t),h(t,n.state),i(e=>new Set(Array.from(e).concat(t)));const e=p.findIndex(e=>e.id===t)+1;e>0&&(1===e?u.current.onSlideChange(0):u.current.onSlideChange(e))}}).onStepExit(e=>{var n;const r=Array.from((null===(n=t.current)||void 0===n?void 0:n.querySelectorAll(".scroll-step"))||[]).filter(e=>{const t=e.getBoundingClientRect(),n=window.innerHeight;let r;return r="welcome"===e.id?t.top<=0&&t.bottom>0:t.top<.5*n&&t.bottom>.5*n,r});if(r.length>0){const e=r[0].id,t=p.find(t=>t.id===e);if(t&&t.state){l(e),h(e,t.state),i(t=>new Set(Array.from(t).concat(e)));const n=p.findIndex(t=>t.id===e)+1;n>0&&(1===n?u.current.onSlideChange(0):u.current.onSlideChange(n))}}else{var o;const e=Array.from((null===(o=t.current)||void 0===o?void 0:o.querySelectorAll(".scroll-step"))||[]);if(e.length>0){const t=e.reduce((e,t)=>{const n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return"welcome"===t.id&&r.top<=0&&r.bottom>0||"welcome"===e.id&&"welcome"!==t.id&&r.top<window.innerHeight&&r.bottom>0||r.top<window.innerHeight&&r.bottom>0&&(n.top<0||r.top<n.top)?t:e}).id,n=p.find(e=>e.id===t);if(n&&n.state){l(t),h(t,n.state),i(e=>new Set(Array.from(e).concat(t)));const e=p.findIndex(e=>e.id===t)+1;e>0&&(1===e?u.current.onSlideChange(0):u.current.onSlideChange(e))}}}}),a(!0),window.addEventListener("scroll",f,{passive:!0}),setTimeout(()=>{const t=Array.from(e).filter(e=>{const t=e.getBoundingClientRect(),n=window.innerHeight;return t.top<.5*n&&t.bottom>.5*n});if(t.length>0&&!s){const e=t[0].id,n=p.find(t=>t.id===e);n&&n.state&&(l(e),h(e,n.state))}},200)};return()=>{clearTimeout(e),window.removeEventListener("scroll",f)}},[o,p,h,s,f]),{containerRef:t,steps:p,activeStepId:s,visitedSteps:n,isInitialized:o}};function N(){}function z(){}const B=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,$=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,H={};function W(e,t){return((t||H).jsx?$:B).test(e)}const U=/[ \t\n\f\r]/g;function V(e){return""===e.replace(U,"")}class q{constructor(e,t,n){this.normal=t,this.property=e,n&&(this.space=n)}}function Y(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new q(n,r,t)}function G(e){return e.toLowerCase()}q.prototype.normal={},q.prototype.property={},q.prototype.space=void 0;class Q{constructor(e,t){this.attribute=t,this.property=e}}Q.prototype.attribute="",Q.prototype.booleanish=!1,Q.prototype.boolean=!1,Q.prototype.commaOrSpaceSeparated=!1,Q.prototype.commaSeparated=!1,Q.prototype.defined=!1,Q.prototype.mustUseProperty=!1,Q.prototype.number=!1,Q.prototype.overloadedBoolean=!1,Q.prototype.property="",Q.prototype.spaceSeparated=!1,Q.prototype.space=void 0;let K=0;const X=ie(),J=ie(),Z=ie(),ee=ie(),te=ie(),ne=ie(),re=ie();function ie(){return 2**++K}const oe=Object.keys(e);class ae extends Q{constructor(t,n,r,i){let o=-1;if(super(t,n),se(this,"space",i),"number"===typeof r)for(;++o<oe.length;){const t=oe[o];se(this,oe[o],(r&e[t])===e[t])}}}function se(e,t,n){n&&(e[t]=n)}function le(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const o=new ae(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[G(r)]=r,n[G(o.attribute)]=r}return new q(t,n,e.space)}ae.prototype.defined=!0;const ue=le({properties:{ariaActiveDescendant:null,ariaAtomic:J,ariaAutoComplete:null,ariaBusy:J,ariaChecked:J,ariaColCount:ee,ariaColIndex:ee,ariaColSpan:ee,ariaControls:te,ariaCurrent:null,ariaDescribedBy:te,ariaDetails:null,ariaDisabled:J,ariaDropEffect:te,ariaErrorMessage:null,ariaExpanded:J,ariaFlowTo:te,ariaGrabbed:J,ariaHasPopup:null,ariaHidden:J,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:te,ariaLevel:ee,ariaLive:null,ariaModal:J,ariaMultiLine:J,ariaMultiSelectable:J,ariaOrientation:null,ariaOwns:te,ariaPlaceholder:null,ariaPosInSet:ee,ariaPressed:J,ariaReadOnly:J,ariaRelevant:null,ariaRequired:J,ariaRoleDescription:te,ariaRowCount:ee,ariaRowIndex:ee,ariaRowSpan:ee,ariaSelected:J,ariaSetSize:ee,ariaSort:null,ariaValueMax:ee,ariaValueMin:ee,ariaValueNow:ee,ariaValueText:null,role:null},transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase()});function ce(e,t){return t in e?e[t]:t}function de(e,t){return ce(e,t.toLowerCase())}const he=le({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ne,acceptCharset:te,accessKey:te,action:null,allow:null,allowFullScreen:X,allowPaymentRequest:X,allowUserMedia:X,alt:null,as:null,async:X,autoCapitalize:null,autoComplete:te,autoFocus:X,autoPlay:X,blocking:te,capture:null,charSet:null,checked:X,cite:null,className:te,cols:ee,colSpan:null,content:null,contentEditable:J,controls:X,controlsList:te,coords:ee|ne,crossOrigin:null,data:null,dateTime:null,decoding:null,default:X,defer:X,dir:null,dirName:null,disabled:X,download:Z,draggable:J,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:X,formTarget:null,headers:te,height:ee,hidden:Z,high:ee,href:null,hrefLang:null,htmlFor:te,httpEquiv:te,id:null,imageSizes:null,imageSrcSet:null,inert:X,inputMode:null,integrity:null,is:null,isMap:X,itemId:null,itemProp:te,itemRef:te,itemScope:X,itemType:te,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:X,low:ee,manifest:null,max:null,maxLength:ee,media:null,method:null,min:null,minLength:ee,multiple:X,muted:X,name:null,nonce:null,noModule:X,noValidate:X,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:X,optimum:ee,pattern:null,ping:te,placeholder:null,playsInline:X,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:X,referrerPolicy:null,rel:te,required:X,reversed:X,rows:ee,rowSpan:ee,sandbox:te,scope:null,scoped:X,seamless:X,selected:X,shadowRootClonable:X,shadowRootDelegatesFocus:X,shadowRootMode:null,shape:null,size:ee,sizes:null,slot:null,span:ee,spellCheck:J,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ee,step:null,style:null,tabIndex:ee,target:null,title:null,translate:null,type:null,typeMustMatch:X,useMap:null,value:J,width:ee,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:te,axis:null,background:null,bgColor:null,border:ee,borderColor:null,bottomMargin:ee,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:X,declare:X,event:null,face:null,frame:null,frameBorder:null,hSpace:ee,leftMargin:ee,link:null,longDesc:null,lowSrc:null,marginHeight:ee,marginWidth:ee,noResize:X,noHref:X,noShade:X,noWrap:X,object:null,profile:null,prompt:null,rev:null,rightMargin:ee,rules:null,scheme:null,scrolling:J,standby:null,summary:null,text:null,topMargin:ee,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ee,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:X,disableRemotePlayback:X,prefix:null,property:null,results:ee,security:null,unselectable:null},space:"html",transform:de}),pe=le({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:re,accentHeight:ee,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ee,amplitude:ee,arabicForm:null,ascent:ee,attributeName:null,attributeType:null,azimuth:ee,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ee,by:null,calcMode:null,capHeight:ee,className:te,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ee,diffuseConstant:ee,direction:null,display:null,dur:null,divisor:ee,dominantBaseline:null,download:X,dx:null,dy:null,edgeMode:null,editable:null,elevation:ee,enableBackground:null,end:null,event:null,exponent:ee,externalResourcesRequired:null,fill:null,fillOpacity:ee,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ne,g2:ne,glyphName:ne,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ee,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ee,horizOriginX:ee,horizOriginY:ee,id:null,ideographic:ee,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ee,k:ee,k1:ee,k2:ee,k3:ee,k4:ee,kernelMatrix:re,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ee,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ee,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ee,overlineThickness:ee,paintOrder:null,panose1:null,path:null,pathLength:ee,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:te,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ee,pointsAtY:ee,pointsAtZ:ee,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:re,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:re,rev:re,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:re,requiredFeatures:re,requiredFonts:re,requiredFormats:re,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ee,specularExponent:ee,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ee,strikethroughThickness:ee,string:null,stroke:null,strokeDashArray:re,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ee,strokeOpacity:ee,strokeWidth:null,style:null,surfaceScale:ee,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:re,tabIndex:ee,tableValues:null,target:null,targetX:ee,targetY:ee,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:re,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ee,underlineThickness:ee,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ee,values:null,vAlphabetic:ee,vMathematical:ee,vectorEffect:null,vHanging:ee,vIdeographic:ee,version:null,vertAdvY:ee,vertOriginX:ee,vertOriginY:ee,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ee,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:ce}),fe=le({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase()}),ge=le({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:de}),me=le({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase()}),ve=Y([ue,he,fe,ge,me],"html"),ye=Y([ue,pe,fe,ge,me],"svg"),be=/[A-Z]/g,we=/-[a-z]/g,xe=/^data[-\w.:]+$/i;function _e(e){return"-"+e.toLowerCase()}function ke(e){return e.charAt(1).toUpperCase()}const Se={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"};var Ee=n(294);const Ce=Te("end"),Pe=Te("start");function Te(e){return function(t){const n=t&&t.position&&t.position[e]||{};if("number"===typeof n.line&&n.line>0&&"number"===typeof n.column&&n.column>0)return{line:n.line,column:n.column,offset:"number"===typeof n.offset&&n.offset>-1?n.offset:void 0}}}function Ie(e){return e&&"object"===typeof e?"position"in e||"type"in e?Me(e.position):"start"in e||"end"in e?Me(e):"line"in e||"column"in e?Ae(e):"":""}function Ae(e){return Re(e&&e.line)+":"+Re(e&&e.column)}function Me(e){return Ae(e&&e.start)+"-"+Ae(e&&e.end)}function Re(e){return e&&"number"===typeof e?e:1}class Fe extends Error{constructor(e,t,n){super(),"string"===typeof t&&(n=t,t=void 0);let r="",i={},o=!1;if(t&&(i="line"in t&&"column"in t||"start"in t&&"end"in t?{place:t}:"type"in t?{ancestors:[t],place:t.position}:{...t}),"string"===typeof e?r=e:!i.cause&&e&&(o=!0,r=e.message,i.cause=e),!i.ruleId&&!i.source&&"string"===typeof n){const e=n.indexOf(":");-1===e?i.ruleId=n:(i.source=n.slice(0,e),i.ruleId=n.slice(e+1))}if(!i.place&&i.ancestors&&i.ancestors){const e=i.ancestors[i.ancestors.length-1];e&&(i.place=e.position)}const a=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=r,this.line=a?a.line:void 0,this.name=Ie(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=o&&i.cause&&"string"===typeof i.cause.stack?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Fe.prototype.file="",Fe.prototype.name="",Fe.prototype.reason="",Fe.prototype.message="",Fe.prototype.stack="",Fe.prototype.column=void 0,Fe.prototype.line=void 0,Fe.prototype.ancestors=void 0,Fe.prototype.cause=void 0,Fe.prototype.fatal=void 0,Fe.prototype.place=void 0,Fe.prototype.ruleId=void 0,Fe.prototype.source=void 0;const Le={}.hasOwnProperty,De=new Map,Oe=/[A-Z]/g,je=new Set(["table","tbody","thead","tfoot","tr"]),Ne=new Set(["td","th"]),ze="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Be(e,t){if(!t||void 0===t.Fragment)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if("function"!==typeof t.jsxDEV)throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=function(e,t){return n;function n(n,r,i,o){const a=Array.isArray(i.children),s=Pe(n);return t(r,i,o,a,{columnNumber:s?s.column-1:void 0,fileName:e,lineNumber:s?s.line:void 0},void 0)}}(n,t.jsxDEV)}else{if("function"!==typeof t.jsx)throw new TypeError("Expected `jsx` in production options");if("function"!==typeof t.jsxs)throw new TypeError("Expected `jsxs` in production options");r=function(e,t,n){return r;function r(e,r,i,o){const a=Array.isArray(i.children)?n:t;return o?a(r,i,o):a(r,i)}}(0,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:!1!==t.passKeys,passNode:t.passNode||!1,schema:"svg"===t.space?ye:ve,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:!1!==t.tableCellAlignToStyle},o=$e(i,e,void 0);return o&&"string"!==typeof o?o:i.create(e,i.Fragment,{children:o||void 0},void 0)}function $e(e,t,n){return"element"===t.type?function(e,t,n){const r=e.schema;let i=r;"svg"===t.tagName.toLowerCase()&&"html"===r.space&&(i=ye,e.schema=i);e.ancestors.push(t);const o=qe(e,t.tagName,!1),a=function(e,t){const n={};let r,i;for(i in t.properties)if("children"!==i&&Le.call(t.properties,i)){const o=Ve(e,i,t.properties[i]);if(o){const[i,a]=o;e.tableCellAlignToStyle&&"align"===i&&"string"===typeof a&&Ne.has(t.tagName)?r=a:n[i]=a}}if(r){(n.style||(n.style={}))["css"===e.stylePropertyNameCase?"text-align":"textAlign"]=r}return n}(e,t);let s=Ue(e,t);je.has(t.tagName)&&(s=s.filter(function(e){return"string"!==typeof e||!("object"===typeof(t=e)?"text"===t.type&&V(t.value):V(t));var t}));return He(e,a,o,t),We(a,s),e.ancestors.pop(),e.schema=r,e.create(t,o,a,n)}(e,t,n):"mdxFlowExpression"===t.type||"mdxTextExpression"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}Ye(e,t.position)}(e,t):"mdxJsxFlowElement"===t.type||"mdxJsxTextElement"===t.type?function(e,t,n){const r=e.schema;let i=r;"svg"===t.name&&"html"===r.space&&(i=ye,e.schema=i);e.ancestors.push(t);const o=null===t.name?e.Fragment:qe(e,t.name,!0),a=function(e,t){const n={};for(const r of t.attributes)if("mdxJsxExpressionAttribute"===r.type)if(r.data&&r.data.estree&&e.evaluater){const t=r.data.estree.body[0];N(t.type);const i=t.expression;N(i.type);const o=i.properties[0];N(o.type),Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else Ye(e,t.position);else{const i=r.name;let o;if(r.value&&"object"===typeof r.value)if(r.value.data&&r.value.data.estree&&e.evaluater){const t=r.value.data.estree.body[0];N(t.type),o=e.evaluater.evaluateExpression(t.expression)}else Ye(e,t.position);else o=null===r.value||r.value;n[i]=o}return n}(e,t),s=Ue(e,t);return He(e,a,o,t),We(a,s),e.ancestors.pop(),e.schema=r,e.create(t,o,a,n)}(e,t,n):"mdxjsEsm"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Ye(e,t.position)}(e,t):"root"===t.type?function(e,t,n){const r={};return We(r,Ue(e,t)),e.create(t,e.Fragment,r,n)}(e,t,n):"text"===t.type?function(e,t){return t.value}(0,t):void 0}function He(e,t,n,r){"string"!==typeof n&&n!==e.Fragment&&e.passNode&&(t.node=r)}function We(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Ue(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:De;for(;++r<t.children.length;){const o=t.children[r];let a;if(e.passKeys){const e="element"===o.type?o.tagName:"mdxJsxFlowElement"===o.type||"mdxJsxTextElement"===o.type?o.name:void 0;if(e){const t=i.get(e)||0;a=e+"-"+t,i.set(e,t+1)}}const s=$e(e,o,a);void 0!==s&&n.push(s)}return n}function Ve(e,t,n){const r=function(e,t){const n=G(t);let r=t,i=Q;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&xe.test(t)){if("-"===t.charAt(4)){const e=t.slice(5).replace(we,ke);r="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{const e=t.slice(4);if(!we.test(e)){let n=e.replace(be,_e);"-"!==n.charAt(0)&&(n="-"+n),t="data"+n}}i=ae}return new i(r,t)}(e.schema,t);if(!(null===n||void 0===n||"number"===typeof n&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?function(e,t){const n=t||{};return(""===e[e.length-1]?[...e,""]:e).join((n.padRight?" ":"")+","+(!1===n.padLeft?"":" ")).trim()}(n):n.join(" ").trim()),"style"===r.property){let t="object"===typeof n?n:function(e,t){try{return Ee(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const t=n,r=new Fe("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:t,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=ze+"#cannot-parse-style-attribute",r}}(e,String(n));return"css"===e.stylePropertyNameCase&&(t=function(e){const t={};let n;for(n in e)Le.call(e,n)&&(t[Ge(n)]=e[n]);return t}(t)),["style",t]}return["react"===e.elementAttributeNameCase&&r.space?Se[r.property]||r.property:r.attribute,n]}}function qe(e,t,n){let r;if(n)if(t.includes(".")){const e=t.split(".");let n,i=-1;for(;++i<e.length;){const t=W(e[i])?{type:"Identifier",name:e[i]}:{type:"Literal",value:e[i]};n=n?{type:"MemberExpression",object:n,property:t,computed:Boolean(i&&"Literal"===t.type),optional:!1}:t}r=n}else r=W(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};else r={type:"Literal",value:t};if("Literal"===r.type){const t=r.value;return Le.call(e.components,t)?e.components[t]:t}if(e.evaluater)return e.evaluater.evaluateExpression(r);Ye(e)}function Ye(e,t){const n=new Fe("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=ze+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Ge(e){let t=e.replace(Oe,Qe);return"ms-"===t.slice(0,3)&&(t="-"+t),t}function Qe(e){return"-"+e.toLowerCase()}const Ke={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Xe={};function Je(e,t,n){if(function(e){return Boolean(e&&"object"===typeof e)}(e)){if("value"in e)return"html"!==e.type||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Ze(e.children,t,n)}return Array.isArray(e)?Ze(e,t,n):""}function Ze(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=Je(e[i],t,n);return r.join("")}function et(e,t,n,r){const i=e.length;let o,a=0;if(t=t<0?-t>i?0:i+t:t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);a<r.length;)o=r.slice(a,a+1e4),o.unshift(t,0),e.splice(...o),a+=1e4,t+=1e4}function tt(e,t){return e.length>0?(et(e,e.length,0,t),e):t}class nt{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const n=null===t||void 0===t?Number.POSITIVE_INFINITY:t;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,t,n){const r=t||0;this.setCursor(Math.trunc(e));const i=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return n&&rt(this.left,n),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),rt(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),rt(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&0===this.right.length||e<0&&0===this.left.length))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);rt(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);rt(this.left,t.reverse())}}}function rt(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function it(e){const t={};let n,r,i,o,a,s,l,u=-1;const c=new nt(e);for(;++u<c.length;){for(;u in t;)u=t[u];if(n=c.get(u),u&&"chunkFlow"===n[1].type&&"listItemPrefix"===c.get(u-1)[1].type&&(s=n[1]._tokenizer.events,i=0,i<s.length&&"lineEndingBlank"===s[i][1].type&&(i+=2),i<s.length&&"content"===s[i][1].type))for(;++i<s.length&&"content"!==s[i][1].type;)"chunkText"===s[i][1].type&&(s[i][1]._isInFirstContentOfListItem=!0,i++);if("enter"===n[0])n[1].contentType&&(Object.assign(t,ot(c,u)),u=t[u],l=!0);else if(n[1]._container){for(i=u,r=void 0;i--;)if(o=c.get(i),"lineEnding"===o[1].type||"lineEndingBlank"===o[1].type)"enter"===o[0]&&(r&&(c.get(r)[1].type="lineEndingBlank"),o[1].type="lineEnding",r=i);else if("linePrefix"!==o[1].type&&"listItemIndent"!==o[1].type)break;r&&(n[1].end={...c.get(r)[1].start},a=c.slice(r,u),a.unshift(n),c.splice(r,u-r+1,a))}}return et(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!l}function ot(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const o=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const s=a.events,l=[],u={};let c,d,h=-1,p=n,f=0,g=0;const m=[g];for(;p;){for(;e.get(++i)[1]!==p;);o.push(i),p._tokenizer||(c=r.sliceStream(p),p.next||c.push(null),d&&a.defineSkip(p.start),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(c),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=n;++h<s.length;)"exit"===s[h][0]&&"enter"===s[h-1][0]&&s[h][1].type===s[h-1][1].type&&s[h][1].start.line!==s[h][1].end.line&&(g=h+1,m.push(g),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(a.events=[],p?(p._tokenizer=void 0,p.previous=void 0):m.pop(),h=m.length;h--;){const t=s.slice(m[h],m[h+1]),n=o.pop();l.push([n,n+t.length-1]),e.splice(n,2,t)}for(l.reverse(),h=-1;++h<l.length;)u[f+l[h][0]]=f+l[h][1],f+=l[h][1]-l[h][0]-1;return u}const at={}.hasOwnProperty;function st(e,t){let n;for(n in t){const r=(at.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n];let o;if(i)for(o in i){at.call(r,o)||(r[o]=[]);const e=i[o];lt(r[o],Array.isArray(e)?e:e?[e]:[])}}}function lt(e,t){let n=-1;const r=[];for(;++n<t.length;)("after"===t[n].add?e:r).push(t[n]);et(e,0,0,r)}const ut=xt(/[A-Za-z]/),ct=xt(/[\dA-Za-z]/),dt=xt(/[#-'*+\--9=?A-Z^-~]/);function ht(e){return null!==e&&(e<32||127===e)}const pt=xt(/\d/),ft=xt(/[\dA-Fa-f]/),gt=xt(/[!-/:-@[-`{-~]/);function mt(e){return null!==e&&e<-2}function vt(e){return null!==e&&(e<0||32===e)}function yt(e){return-2===e||-1===e||32===e}const bt=xt(/\p{P}|\p{S}/u),wt=xt(/\s/);function xt(e){return function(t){return null!==t&&t>-1&&e.test(String.fromCharCode(t))}}function _t(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return function(r){if(yt(r))return e.enter(n),a(r);return t(r)};function a(r){return yt(r)&&o++<i?(e.consume(r),a):(e.exit(n),t(r))}}const kt={tokenize:function(e){const t=e.attempt(this.parser.constructs.contentInitial,function(n){if(null===n)return void e.consume(n);return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),_t(e,t,"linePrefix")},function(t){return e.enter("paragraph"),r(t)});let n;return t;function r(t){const r=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=r),n=r,i(t)}function i(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):mt(t)?(e.consume(t),e.exit("chunkText"),r):(e.consume(t),i)}}};const St={tokenize:function(e){const t=this,n=[];let r,i,o,a=0;return s;function s(r){if(a<n.length){const i=n[a];return t.containerState=i[1],e.attempt(i[0].continuation,l,u)(r)}return u(r)}function l(e){if(a++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&y();const n=t.events.length;let i,o=n;for(;o--;)if("exit"===t.events[o][0]&&"chunkFlow"===t.events[o][1].type){i=t.events[o][1].end;break}v(a);let s=n;for(;s<t.events.length;)t.events[s][1].end={...i},s++;return et(t.events,o+1,0,t.events.slice(n)),t.events.length=s,u(e)}return s(e)}function u(i){if(a===n.length){if(!r)return h(i);if(r.currentConstruct&&r.currentConstruct.concrete)return f(i);t.interrupt=Boolean(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Et,c,d)(i)}function c(e){return r&&y(),v(a),h(e)}function d(e){return t.parser.lazy[t.now().line]=a!==n.length,o=t.now().offset,f(e)}function h(n){return t.containerState={},e.attempt(Et,p,f)(n)}function p(e){return a++,n.push([t.currentConstruct,t.containerState]),h(e)}function f(n){return null===n?(r&&y(),v(0),void e.consume(n)):(r=r||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:i}),g(n))}function g(n){return null===n?(m(e.exit("chunkFlow"),!0),v(0),void e.consume(n)):mt(n)?(e.consume(n),m(e.exit("chunkFlow")),a=0,t.interrupt=void 0,s):(e.consume(n),g)}function m(e,n){const s=t.sliceStream(e);if(n&&s.push(null),e.previous=i,i&&(i.next=e),i=e,r.defineSkip(e.start),r.write(s),t.parser.lazy[e.start.line]){let e=r.events.length;for(;e--;)if(r.events[e][1].start.offset<o&&(!r.events[e][1].end||r.events[e][1].end.offset>o))return;const n=t.events.length;let i,s,l=n;for(;l--;)if("exit"===t.events[l][0]&&"chunkFlow"===t.events[l][1].type){if(i){s=t.events[l][1].end;break}i=!0}for(v(a),e=n;e<t.events.length;)t.events[e][1].end={...s},e++;et(t.events,l+1,0,t.events.slice(n)),t.events.length=e}}function v(r){let i=n.length;for(;i-- >r;){const r=n[i];t.containerState=r[1],r[0].exit.call(t,e)}n.length=r}function y(){r.write([null]),i=void 0,r=void 0,t.containerState._closeFlow=void 0}}},Et={tokenize:function(e,t,n){return _t(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};const Ct={partial:!0,tokenize:function(e,t,n){return function(t){return yt(t)?_t(e,r,"linePrefix")(t):r(t)};function r(e){return null===e||mt(e)?t(e):n(e)}}};const Pt={resolve:function(e){return it(e),e},tokenize:function(e,t){let n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(t)};function r(t){return null===t?i(t):mt(t)?e.check(Tt,o,i)(t):(e.consume(t),r)}function i(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function o(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}}},Tt={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),_t(e,i,"linePrefix")};function i(i){if(null===i||mt(i))return n(i);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&"linePrefix"===o[1].type&&o[2].sliceSerialize(o[1],!0).length>=4?t(i):e.interrupt(r.parser.constructs.flow,n,t)(i)}}};const It={tokenize:function(e){const t=this,n=e.attempt(Ct,function(r){if(null===r)return void e.consume(r);return e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n},e.attempt(this.parser.constructs.flowInitial,r,_t(e,e.attempt(this.parser.constructs.flow,r,e.attempt(Pt,r)),"linePrefix")));return n;function r(r){if(null!==r)return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(r)}}};const At={resolveAll:Lt()},Mt=Ft("string"),Rt=Ft("text");function Ft(e){return{resolveAll:Lt("text"===e?Dt:void 0),tokenize:function(t){const n=this,r=this.parser.constructs[e],i=t.attempt(r,o,a);return o;function o(e){return l(e)?i(e):a(e)}function a(e){if(null!==e)return t.enter("data"),t.consume(e),s;t.consume(e)}function s(e){return l(e)?(t.exit("data"),i(e)):(t.consume(e),s)}function l(e){if(null===e)return!0;const t=r[e];let i=-1;if(t)for(;++i<t.length;){const e=t[i];if(!e.previous||e.previous.call(n,n.previous))return!0}return!1}}}}function Lt(e){return function(t,n){let r,i=-1;for(;++i<=t.length;)void 0===r?t[i]&&"data"===t[i][1].type&&(r=i,i++):t[i]&&"data"===t[i][1].type||(i!==r+2&&(t[r][1].end=t[i-1][1].end,t.splice(r+2,i-r-2),i=r+2),r=void 0);return e?e(t,n):t}}function Dt(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){const r=e[n-1][1],i=t.sliceStream(r);let o,a=i.length,s=-1,l=0;for(;a--;){const e=i[a];if("string"===typeof e){for(s=e.length;32===e.charCodeAt(s-1);)l++,s--;if(s)break;s=-1}else if(-2===e)o=!0,l++;else if(-1!==e){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const i={type:n===e.length||o||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:r.start._bufferIndex+s,_index:r.start._index+a,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...i.start},r.start.offset===r.end.offset?Object.assign(r,i):(e.splice(n,0,["enter",i,t],["exit",i,t]),n+=2)}n++}return e}const Ot={name:"thematicBreak",tokenize:function(e,t,n){let r,i=0;return function(t){return e.enter("thematicBreak"),function(e){return r=e,o(e)}(t)};function o(o){return o===r?(e.enter("thematicBreakSequence"),a(o)):i>=3&&(null===o||mt(o))?(e.exit("thematicBreak"),t(o)):n(o)}function a(t){return t===r?(e.consume(t),i++,a):(e.exit("thematicBreakSequence"),yt(t)?_t(e,o,"whitespace")(t):o(t))}}};const jt={continuation:{tokenize:function(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Ct,i,o);function i(n){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,_t(e,t,"listItemIndent",r.containerState.size+1)(n)}function o(n){return r.containerState.furtherBlankLines||!yt(n)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(n)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(zt,t,a)(n))}function a(i){return r.containerState._closeFlow=!0,r.interrupt=void 0,_t(e,e.attempt(jt,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i)}}},exit:function(e){e.exit(this.containerState.type)},name:"list",tokenize:function(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&"linePrefix"===i[1].type?i[2].sliceSerialize(i[1],!0).length:0,a=0;return function(t){const i=r.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===i?!r.containerState.marker||t===r.containerState.marker:pt(t)){if(r.containerState.type||(r.containerState.type=i,e.enter(i,{_container:!0})),"listUnordered"===i)return e.enter("listItemPrefix"),42===t||45===t?e.check(Ot,n,l)(t):l(t);if(!r.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),s(t)}return n(t)};function s(t){return pt(t)&&++a<10?(e.consume(t),s):(!r.interrupt||a<2)&&(r.containerState.marker?t===r.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),l(t)):n(t)}function l(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||t,e.check(Ct,r.interrupt?n:u,e.attempt(Nt,d,c))}function u(e){return r.containerState.initialBlankLine=!0,o++,d(e)}function c(t){return yt(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),d):n(t)}function d(n){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}}},Nt={partial:!0,tokenize:function(e,t,n){const r=this;return _t(e,function(e){const i=r.events[r.events.length-1];return!yt(e)&&i&&"listItemPrefixWhitespace"===i[1].type?t(e):n(e)},"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5)}},zt={partial:!0,tokenize:function(e,t,n){const r=this;return _t(e,function(e){const i=r.events[r.events.length-1];return i&&"listItemIndent"===i[1].type&&i[2].sliceSerialize(i[1],!0).length===r.containerState.size?t(e):n(e)},"listItemIndent",r.containerState.size+1)}};const Bt={continuation:{tokenize:function(e,t,n){const r=this;return function(t){if(yt(t))return _t(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t);return i(t)};function i(r){return e.attempt(Bt,t,n)(r)}}},exit:function(e){e.exit("blockQuote")},name:"blockQuote",tokenize:function(e,t,n){const r=this;return function(t){if(62===t){const n=r.containerState;return n.open||(e.enter("blockQuote",{_container:!0}),n.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),i}return n(t)};function i(n){return yt(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}}};function $t(e,t,n,r,i,o,a,s,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return function(t){if(60===t)return e.enter(r),e.enter(i),e.enter(o),e.consume(t),e.exit(o),d;if(null===t||32===t||41===t||ht(t))return n(t);return e.enter(r),e.enter(a),e.enter(s),e.enter("chunkString",{contentType:"string"}),f(t)};function d(n){return 62===n?(e.enter(o),e.consume(n),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),h(n))}function h(t){return 62===t?(e.exit("chunkString"),e.exit(s),d(t)):null===t||60===t||mt(t)?n(t):(e.consume(t),92===t?p:h)}function p(t){return 60===t||62===t||92===t?(e.consume(t),h):h(t)}function f(i){return c||null!==i&&41!==i&&!vt(i)?c<u&&40===i?(e.consume(i),c++,f):41===i?(e.consume(i),c--,f):null===i||32===i||40===i||ht(i)?n(i):(e.consume(i),92===i?g:f):(e.exit("chunkString"),e.exit(s),e.exit(a),e.exit(r),t(i))}function g(t){return 40===t||41===t||92===t?(e.consume(t),f):f(t)}}function Ht(e,t,n,r,i,o){const a=this;let s,l=0;return function(t){return e.enter(r),e.enter(i),e.consume(t),e.exit(i),e.enter(o),u};function u(d){return l>999||null===d||91===d||93===d&&!s||94===d&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?n(d):93===d?(e.exit(o),e.enter(i),e.consume(d),e.exit(i),e.exit(r),t):mt(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),u):(e.enter("chunkString",{contentType:"string"}),c(d))}function c(t){return null===t||91===t||93===t||mt(t)||l++>999?(e.exit("chunkString"),u(t)):(e.consume(t),s||(s=!yt(t)),92===t?d:c)}function d(t){return 91===t||92===t||93===t?(e.consume(t),l++,c):c(t)}}function Wt(e,t,n,r,i,o){let a;return function(t){if(34===t||39===t||40===t)return e.enter(r),e.enter(i),e.consume(t),e.exit(i),a=40===t?41:t,s;return n(t)};function s(n){return n===a?(e.enter(i),e.consume(n),e.exit(i),e.exit(r),t):(e.enter(o),l(n))}function l(t){return t===a?(e.exit(o),s(a)):null===t?n(t):mt(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),_t(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),u(t))}function u(t){return t===a||null===t||mt(t)?(e.exit("chunkString"),l(t)):(e.consume(t),92===t?c:u)}function c(t){return t===a||92===t?(e.consume(t),u):u(t)}}function Ut(e,t){let n;return function r(i){if(mt(i))return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r;if(yt(i))return _t(e,r,n?"linePrefix":"lineSuffix")(i);return t(i)}}function Vt(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const qt={name:"definition",tokenize:function(e,t,n){const r=this;let i;return function(t){return e.enter("definition"),function(t){return Ht.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)}(t)};function o(t){return i=Vt(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),a):n(t)}function a(t){return vt(t)?Ut(e,s)(t):s(t)}function s(t){return $t(e,l,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(t)}function l(t){return e.attempt(Yt,u,u)(t)}function u(t){return yt(t)?_t(e,c,"whitespace")(t):c(t)}function c(o){return null===o||mt(o)?(e.exit("definition"),r.parser.defined.push(i),t(o)):n(o)}}},Yt={partial:!0,tokenize:function(e,t,n){return function(t){return vt(t)?Ut(e,r)(t):n(t)};function r(t){return Wt(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t)}function i(t){return yt(t)?_t(e,o,"whitespace")(t):o(t)}function o(e){return null===e||mt(e)?t(e):n(e)}}};const Gt={name:"codeIndented",tokenize:function(e,t,n){const r=this;return function(t){return e.enter("codeIndented"),_t(e,i,"linePrefix",5)(t)};function i(e){const t=r.events[r.events.length-1];return t&&"linePrefix"===t[1].type&&t[2].sliceSerialize(t[1],!0).length>=4?o(e):n(e)}function o(t){return null===t?s(t):mt(t)?e.attempt(Qt,o,s)(t):(e.enter("codeFlowValue"),a(t))}function a(t){return null===t||mt(t)?(e.exit("codeFlowValue"),o(t)):(e.consume(t),a)}function s(n){return e.exit("codeIndented"),t(n)}}},Qt={partial:!0,tokenize:function(e,t,n){const r=this;return i;function i(t){return r.parser.lazy[r.now().line]?n(t):mt(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i):_t(e,o,"linePrefix",5)(t)}function o(e){const o=r.events[r.events.length-1];return o&&"linePrefix"===o[1].type&&o[2].sliceSerialize(o[1],!0).length>=4?t(e):mt(e)?i(e):n(e)}}};const Kt={name:"headingAtx",resolve:function(e,t){let n,r,i=e.length-2,o=3;"whitespace"===e[o][1].type&&(o+=2);i-2>o&&"whitespace"===e[i][1].type&&(i-=2);"atxHeadingSequence"===e[i][1].type&&(o===i-1||i-4>o&&"whitespace"===e[i-2][1].type)&&(i-=o+1===i?2:4);i>o&&(n={type:"atxHeadingText",start:e[o][1].start,end:e[i][1].end},r={type:"chunkText",start:e[o][1].start,end:e[i][1].end,contentType:"text"},et(e,o,i-o+1,[["enter",n,t],["enter",r,t],["exit",r,t],["exit",n,t]]));return e},tokenize:function(e,t,n){let r=0;return function(t){return e.enter("atxHeading"),function(t){return e.enter("atxHeadingSequence"),i(t)}(t)};function i(t){return 35===t&&r++<6?(e.consume(t),i):null===t||vt(t)?(e.exit("atxHeadingSequence"),o(t)):n(t)}function o(n){return 35===n?(e.enter("atxHeadingSequence"),a(n)):null===n||mt(n)?(e.exit("atxHeading"),t(n)):yt(n)?_t(e,o,"whitespace")(n):(e.enter("atxHeadingText"),s(n))}function a(t){return 35===t?(e.consume(t),a):(e.exit("atxHeadingSequence"),o(t))}function s(t){return null===t||35===t||vt(t)?(e.exit("atxHeadingText"),o(t)):(e.consume(t),s)}}};const Xt={name:"setextUnderline",resolveTo:function(e,t){let n,r,i,o=e.length;for(;o--;)if("enter"===e[o][0]){if("content"===e[o][1].type){n=o;break}"paragraph"===e[o][1].type&&(r=o)}else"content"===e[o][1].type&&e.splice(o,1),i||"definition"!==e[o][1].type||(i=o);const a={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};e[r][1].type="setextHeadingText",i?(e.splice(r,0,["enter",a,t]),e.splice(i+1,0,["exit",e[n][1],t]),e[n][1].end={...e[i][1].end}):e[n][1]=a;return e.push(["exit",a,t]),e},tokenize:function(e,t,n){const r=this;let i;return function(t){let a,s=r.events.length;for(;s--;)if("lineEnding"!==r.events[s][1].type&&"linePrefix"!==r.events[s][1].type&&"content"!==r.events[s][1].type){a="paragraph"===r.events[s][1].type;break}if(!r.parser.lazy[r.now().line]&&(r.interrupt||a))return e.enter("setextHeadingLine"),i=t,function(t){return e.enter("setextHeadingLineSequence"),o(t)}(t);return n(t)};function o(t){return t===i?(e.consume(t),o):(e.exit("setextHeadingLineSequence"),yt(t)?_t(e,a,"lineSuffix")(t):a(t))}function a(r){return null===r||mt(r)?(e.exit("setextHeadingLine"),t(r)):n(r)}}};const Jt=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Zt=["pre","script","style","textarea"],en={concrete:!0,name:"htmlFlow",resolveTo:function(e){let t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2));return e},tokenize:function(e,t,n){const r=this;let i,o,a,s,l;return function(t){return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),u}(t)};function u(s){return 33===s?(e.consume(s),c):47===s?(e.consume(s),o=!0,p):63===s?(e.consume(s),i=3,r.interrupt?t:L):ut(s)?(e.consume(s),a=String.fromCharCode(s),f):n(s)}function c(o){return 45===o?(e.consume(o),i=2,d):91===o?(e.consume(o),i=5,s=0,h):ut(o)?(e.consume(o),i=4,r.interrupt?t:L):n(o)}function d(i){return 45===i?(e.consume(i),r.interrupt?t:L):n(i)}function h(i){const o="CDATA[";return i===o.charCodeAt(s++)?(e.consume(i),6===s?r.interrupt?t:C:h):n(i)}function p(t){return ut(t)?(e.consume(t),a=String.fromCharCode(t),f):n(t)}function f(s){if(null===s||47===s||62===s||vt(s)){const l=47===s,u=a.toLowerCase();return l||o||!Zt.includes(u)?Jt.includes(a.toLowerCase())?(i=6,l?(e.consume(s),g):r.interrupt?t(s):C(s)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(s):o?m(s):v(s)):(i=1,r.interrupt?t(s):C(s))}return 45===s||ct(s)?(e.consume(s),a+=String.fromCharCode(s),f):n(s)}function g(i){return 62===i?(e.consume(i),r.interrupt?t:C):n(i)}function m(t){return yt(t)?(e.consume(t),m):S(t)}function v(t){return 47===t?(e.consume(t),S):58===t||95===t||ut(t)?(e.consume(t),y):yt(t)?(e.consume(t),v):S(t)}function y(t){return 45===t||46===t||58===t||95===t||ct(t)?(e.consume(t),y):b(t)}function b(t){return 61===t?(e.consume(t),w):yt(t)?(e.consume(t),b):v(t)}function w(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),l=t,x):yt(t)?(e.consume(t),w):_(t)}function x(t){return t===l?(e.consume(t),l=null,k):null===t||mt(t)?n(t):(e.consume(t),x)}function _(t){return null===t||34===t||39===t||47===t||60===t||61===t||62===t||96===t||vt(t)?b(t):(e.consume(t),_)}function k(e){return 47===e||62===e||yt(e)?v(e):n(e)}function S(t){return 62===t?(e.consume(t),E):n(t)}function E(t){return null===t||mt(t)?C(t):yt(t)?(e.consume(t),E):n(t)}function C(t){return 45===t&&2===i?(e.consume(t),A):60===t&&1===i?(e.consume(t),M):62===t&&4===i?(e.consume(t),D):63===t&&3===i?(e.consume(t),L):93===t&&5===i?(e.consume(t),F):!mt(t)||6!==i&&7!==i?null===t||mt(t)?(e.exit("htmlFlowData"),P(t)):(e.consume(t),C):(e.exit("htmlFlowData"),e.check(tn,O,P)(t))}function P(t){return e.check(nn,T,O)(t)}function T(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),I}function I(t){return null===t||mt(t)?P(t):(e.enter("htmlFlowData"),C(t))}function A(t){return 45===t?(e.consume(t),L):C(t)}function M(t){return 47===t?(e.consume(t),a="",R):C(t)}function R(t){if(62===t){const n=a.toLowerCase();return Zt.includes(n)?(e.consume(t),D):C(t)}return ut(t)&&a.length<8?(e.consume(t),a+=String.fromCharCode(t),R):C(t)}function F(t){return 93===t?(e.consume(t),L):C(t)}function L(t){return 62===t?(e.consume(t),D):45===t&&2===i?(e.consume(t),L):C(t)}function D(t){return null===t||mt(t)?(e.exit("htmlFlowData"),O(t)):(e.consume(t),D)}function O(n){return e.exit("htmlFlow"),t(n)}}},tn={partial:!0,tokenize:function(e,t,n){return function(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(Ct,t,n)}}},nn={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){if(mt(t))return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i;return n(t)};function i(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}};const rn={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){if(null===t)return n(t);return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i};function i(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}},on={concrete:!0,name:"codeFenced",tokenize:function(e,t,n){const r=this,i={partial:!0,tokenize:function(e,t,n){let i=0;return a;function a(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),l}function l(t){return e.enter("codeFencedFence"),yt(t)?_t(e,u,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):u(t)}function u(t){return t===o?(e.enter("codeFencedFenceSequence"),c(t)):n(t)}function c(t){return t===o?(i++,e.consume(t),c):i>=s?(e.exit("codeFencedFenceSequence"),yt(t)?_t(e,d,"whitespace")(t):d(t)):n(t)}function d(r){return null===r||mt(r)?(e.exit("codeFencedFence"),t(r)):n(r)}}};let o,a=0,s=0;return function(t){return function(t){const n=r.events[r.events.length-1];return a=n&&"linePrefix"===n[1].type?n[2].sliceSerialize(n[1],!0).length:0,o=t,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),l(t)}(t)};function l(t){return t===o?(s++,e.consume(t),l):s<3?n(t):(e.exit("codeFencedFenceSequence"),yt(t)?_t(e,u,"whitespace")(t):u(t))}function u(n){return null===n||mt(n)?(e.exit("codeFencedFence"),r.interrupt?t(n):e.check(rn,p,y)(n)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),c(n))}function c(t){return null===t||mt(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),u(t)):yt(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),_t(e,d,"whitespace")(t)):96===t&&t===o?n(t):(e.consume(t),c)}function d(t){return null===t||mt(t)?u(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),h(t))}function h(t){return null===t||mt(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),u(t)):96===t&&t===o?n(t):(e.consume(t),h)}function p(t){return e.attempt(i,y,f)(t)}function f(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),g}function g(t){return a>0&&yt(t)?_t(e,m,"linePrefix",a+1)(t):m(t)}function m(t){return null===t||mt(t)?e.check(rn,p,y)(t):(e.enter("codeFlowValue"),v(t))}function v(t){return null===t||mt(t)?(e.exit("codeFlowValue"),m(t)):(e.consume(t),v)}function y(n){return e.exit("codeFenced"),t(n)}}};const an=document.createElement("i");function sn(e){const t="&"+e+";";an.innerHTML=t;const n=an.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&(n!==t&&n)}const ln={name:"characterReference",tokenize:function(e,t,n){const r=this;let i,o,a=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),s};function s(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),i=31,o=ct,u(t))}function l(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,o=ft,u):(e.enter("characterReferenceValue"),i=7,o=pt,u(t))}function u(s){if(59===s&&a){const i=e.exit("characterReferenceValue");return o!==ct||sn(r.sliceSerialize(i))?(e.enter("characterReferenceMarker"),e.consume(s),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(s)}return o(s)&&a++<i?(e.consume(s),u):n(s)}}};const un={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),r};function r(r){return gt(r)?(e.enter("characterEscapeValue"),e.consume(r),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(r)}}};const cn={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),_t(e,t,"linePrefix")}}};function dn(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const hn={name:"labelEnd",resolveAll:function(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),"labelImage"===r.type||"labelLink"===r.type||"labelEnd"===r.type){const e="labelImage"===r.type?4:2;r.type="data",t+=e}}e.length!==n.length&&et(e,0,e.length,n);return e},resolveTo:function(e,t){let n,r,i,o,a=e.length,s=0;for(;a--;)if(n=e[a][1],r){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===e[a][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(i){if("enter"===e[a][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(r=a,"labelLink"!==n.type)){s=2;break}}else"labelEnd"===n.type&&(i=a);const l={type:"labelLink"===e[r][1].type?"link":"image",start:{...e[r][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[r][1].start},end:{...e[i][1].end}},c={type:"labelText",start:{...e[r+s+2][1].end},end:{...e[i-2][1].start}};return o=[["enter",l,t],["enter",u,t]],o=tt(o,e.slice(r+1,r+s+3)),o=tt(o,[["enter",c,t]]),o=tt(o,dn(t.parser.constructs.insideSpan.null,e.slice(r+s+4,i-3),t)),o=tt(o,[["exit",c,t],e[i-2],e[i-1],["exit",u,t]]),o=tt(o,e.slice(i+1)),o=tt(o,[["exit",l,t]]),et(e,r,e.length,o),e},tokenize:function(e,t,n){const r=this;let i,o,a=r.events.length;for(;a--;)if(("labelImage"===r.events[a][1].type||"labelLink"===r.events[a][1].type)&&!r.events[a][1]._balanced){i=r.events[a][1];break}return function(t){if(!i)return n(t);if(i._inactive)return c(t);return o=r.parser.defined.includes(Vt(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),s};function s(t){return 40===t?e.attempt(pn,u,o?u:c)(t):91===t?e.attempt(fn,u,o?l:c)(t):o?u(t):c(t)}function l(t){return e.attempt(gn,u,c)(t)}function u(e){return t(e)}function c(e){return i._balanced=!0,n(e)}}},pn={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),r};function r(t){return vt(t)?Ut(e,i)(t):i(t)}function i(t){return 41===t?u(t):$t(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function o(t){return vt(t)?Ut(e,s)(t):u(t)}function a(e){return n(e)}function s(t){return 34===t||39===t||40===t?Wt(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):u(t)}function l(t){return vt(t)?Ut(e,u)(t):u(t)}function u(r){return 41===r?(e.enter("resourceMarker"),e.consume(r),e.exit("resourceMarker"),e.exit("resource"),t):n(r)}}},fn={tokenize:function(e,t,n){const r=this;return function(t){return Ht.call(r,e,i,o,"reference","referenceMarker","referenceString")(t)};function i(e){return r.parser.defined.includes(Vt(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(e):n(e)}function o(e){return n(e)}}},gn={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),r};function r(r){return 93===r?(e.enter("referenceMarker"),e.consume(r),e.exit("referenceMarker"),e.exit("reference"),t):n(r)}}};const mn={name:"labelStartImage",resolveAll:hn.resolveAll,tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),i};function i(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),o):n(t)}function o(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}}};function vn(e){return null===e||vt(e)||wt(e)?1:bt(e)?2:void 0}const yn={name:"attention",resolveAll:function(e,t){let n,r,i,o,a,s,l,u,c=-1;for(;++c<e.length;)if("enter"===e[c][0]&&"attentionSequence"===e[c][1].type&&e[c][1]._close)for(n=c;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[c][1]).charCodeAt(0)){if((e[n][1]._close||e[c][1]._open)&&(e[c][1].end.offset-e[c][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[c][1].end.offset-e[c][1].start.offset)%3))continue;s=e[n][1].end.offset-e[n][1].start.offset>1&&e[c][1].end.offset-e[c][1].start.offset>1?2:1;const d={...e[n][1].end},h={...e[c][1].start};bn(d,-s),bn(h,s),o={type:s>1?"strongSequence":"emphasisSequence",start:d,end:{...e[n][1].end}},a={type:s>1?"strongSequence":"emphasisSequence",start:{...e[c][1].start},end:h},i={type:s>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[c][1].start}},r={type:s>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},e[n][1].end={...o.start},e[c][1].start={...a.end},l=[],e[n][1].end.offset-e[n][1].start.offset&&(l=tt(l,[["enter",e[n][1],t],["exit",e[n][1],t]])),l=tt(l,[["enter",r,t],["enter",o,t],["exit",o,t],["enter",i,t]]),l=tt(l,dn(t.parser.constructs.insideSpan.null,e.slice(n+1,c),t)),l=tt(l,[["exit",i,t],["enter",a,t],["exit",a,t],["exit",r,t]]),e[c][1].end.offset-e[c][1].start.offset?(u=2,l=tt(l,[["enter",e[c][1],t],["exit",e[c][1],t]])):u=0,et(e,n-1,c-n+3,l),c=n+l.length-u-2;break}c=-1;for(;++c<e.length;)"attentionSequence"===e[c][1].type&&(e[c][1].type="data");return e},tokenize:function(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=vn(r);let o;return function(t){return o=t,e.enter("attentionSequence"),a(t)};function a(s){if(s===o)return e.consume(s),a;const l=e.exit("attentionSequence"),u=vn(s),c=!u||2===u&&i||n.includes(s),d=!i||2===i&&u||n.includes(r);return l._open=Boolean(42===o?c:c&&(i||!d)),l._close=Boolean(42===o?d:d&&(u||!c)),t(s)}}};function bn(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const wn={name:"autolink",tokenize:function(e,t,n){let r=0;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i};function i(t){return ut(t)?(e.consume(t),o):64===t?n(t):l(t)}function o(e){return 43===e||45===e||46===e||ct(e)?(r=1,a(e)):l(e)}function a(t){return 58===t?(e.consume(t),r=0,s):(43===t||45===t||46===t||ct(t))&&r++<32?(e.consume(t),a):(r=0,l(t))}function s(r){return 62===r?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(r),e.exit("autolinkMarker"),e.exit("autolink"),t):null===r||32===r||60===r||ht(r)?n(r):(e.consume(r),s)}function l(t){return 64===t?(e.consume(t),u):dt(t)?(e.consume(t),l):n(t)}function u(e){return ct(e)?c(e):n(e)}function c(n){return 46===n?(e.consume(n),r=0,u):62===n?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t):d(n)}function d(t){if((45===t||ct(t))&&r++<63){const n=45===t?d:c;return e.consume(t),n}return n(t)}}};const xn={name:"htmlText",tokenize:function(e,t,n){const r=this;let i,o,a;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),s};function s(t){return 33===t?(e.consume(t),l):47===t?(e.consume(t),w):63===t?(e.consume(t),y):ut(t)?(e.consume(t),k):n(t)}function l(t){return 45===t?(e.consume(t),u):91===t?(e.consume(t),o=0,p):ut(t)?(e.consume(t),v):n(t)}function u(t){return 45===t?(e.consume(t),h):n(t)}function c(t){return null===t?n(t):45===t?(e.consume(t),d):mt(t)?(a=c,R(t)):(e.consume(t),c)}function d(t){return 45===t?(e.consume(t),h):c(t)}function h(e){return 62===e?M(e):45===e?d(e):c(e)}function p(t){const r="CDATA[";return t===r.charCodeAt(o++)?(e.consume(t),6===o?f:p):n(t)}function f(t){return null===t?n(t):93===t?(e.consume(t),g):mt(t)?(a=f,R(t)):(e.consume(t),f)}function g(t){return 93===t?(e.consume(t),m):f(t)}function m(t){return 62===t?M(t):93===t?(e.consume(t),m):f(t)}function v(t){return null===t||62===t?M(t):mt(t)?(a=v,R(t)):(e.consume(t),v)}function y(t){return null===t?n(t):63===t?(e.consume(t),b):mt(t)?(a=y,R(t)):(e.consume(t),y)}function b(e){return 62===e?M(e):y(e)}function w(t){return ut(t)?(e.consume(t),x):n(t)}function x(t){return 45===t||ct(t)?(e.consume(t),x):_(t)}function _(t){return mt(t)?(a=_,R(t)):yt(t)?(e.consume(t),_):M(t)}function k(t){return 45===t||ct(t)?(e.consume(t),k):47===t||62===t||vt(t)?S(t):n(t)}function S(t){return 47===t?(e.consume(t),M):58===t||95===t||ut(t)?(e.consume(t),E):mt(t)?(a=S,R(t)):yt(t)?(e.consume(t),S):M(t)}function E(t){return 45===t||46===t||58===t||95===t||ct(t)?(e.consume(t),E):C(t)}function C(t){return 61===t?(e.consume(t),P):mt(t)?(a=C,R(t)):yt(t)?(e.consume(t),C):S(t)}function P(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),i=t,T):mt(t)?(a=P,R(t)):yt(t)?(e.consume(t),P):(e.consume(t),I)}function T(t){return t===i?(e.consume(t),i=void 0,A):null===t?n(t):mt(t)?(a=T,R(t)):(e.consume(t),T)}function I(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):47===t||62===t||vt(t)?S(t):(e.consume(t),I)}function A(e){return 47===e||62===e||vt(e)?S(e):n(e)}function M(r){return 62===r?(e.consume(r),e.exit("htmlTextData"),e.exit("htmlText"),t):n(r)}function R(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),F}function F(t){return yt(t)?_t(e,L,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):L(t)}function L(t){return e.enter("htmlTextData"),a(t)}}};const _n={name:"labelStartLink",resolveAll:hn.resolveAll,tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),i};function i(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}}};const kn={name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.consume(t),r};function r(r){return mt(r)?(e.exit("hardBreakEscape"),t(r)):n(r)}}};const Sn={name:"codeText",previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type},resolve:function(e){let t,n,r=e.length-4,i=3;if(("lineEnding"===e[i][1].type||"space"===e[i][1].type)&&("lineEnding"===e[r][1].type||"space"===e[r][1].type))for(t=i;++t<r;)if("codeTextData"===e[t][1].type){e[i][1].type="codeTextPadding",e[r][1].type="codeTextPadding",i+=2,r-=2;break}t=i-1,r++;for(;++t<=r;)void 0===n?t!==r&&"lineEnding"!==e[t][1].type&&(n=t):t!==r&&"lineEnding"!==e[t][1].type||(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e},tokenize:function(e,t,n){let r,i,o=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),a(t)};function a(t){return 96===t?(e.consume(t),o++,a):(e.exit("codeTextSequence"),s(t))}function s(t){return null===t?n(t):32===t?(e.enter("space"),e.consume(t),e.exit("space"),s):96===t?(i=e.enter("codeTextSequence"),r=0,u(t)):mt(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s):(e.enter("codeTextData"),l(t))}function l(t){return null===t||32===t||96===t||mt(t)?(e.exit("codeTextData"),s(t)):(e.consume(t),l)}function u(n){return 96===n?(e.consume(n),r++,u):r===o?(e.exit("codeTextSequence"),e.exit("codeText"),t(n)):(i.type="codeTextData",l(n))}}};const En={42:jt,43:jt,45:jt,48:jt,49:jt,50:jt,51:jt,52:jt,53:jt,54:jt,55:jt,56:jt,57:jt,62:Bt},Cn={91:qt},Pn={[-2]:Gt,[-1]:Gt,32:Gt},Tn={35:Kt,42:Ot,45:[Xt,Ot],60:en,61:Xt,95:Ot,96:on,126:on},In={38:ln,92:un},An={[-5]:cn,[-4]:cn,[-3]:cn,33:mn,38:ln,42:yn,60:[wn,xn],91:_n,92:[kn,un],93:hn,95:yn,96:Sn},Mn={null:[yn,At]},Rn={null:[42,95]},Fn={null:[]};function Ln(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let a=[],s=[],l=!0;const u={attempt:y(function(e,t){b(e,t.from)}),check:y(v),consume:function(e){mt(e)?(r.line++,r.column=1,r.offset+=-3===e?2:1,w()):-1!==e&&(r.column++,r.offset++);r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++));c.previous=e,l=!0},enter:function(e,t){const n=t||{};return n.type=e,n.start=f(),c.events.push(["enter",n,c]),s.push(n),n},exit:function(e){const t=s.pop();return t.end=f(),c.events.push(["exit",t,c]),t},interrupt:y(v,{interrupt:!0})},c={code:null,containerState:{},defineSkip:function(e){i[e.line]=e.column,w()},events:[],now:f,parser:e,previous:null,sliceSerialize:function(e,t){return function(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let a;if("string"===typeof o)a=o;else switch(o){case-5:a="\r";break;case-4:a="\n";break;case-3:a="\r\n";break;case-2:a=t?" ":"\t";break;case-1:if(!t&&i)continue;a=" ";break;default:a=String.fromCharCode(o)}i=-2===o,r.push(a)}return r.join("")}(p(e),t)},sliceStream:p,write:function(e){if(a=tt(a,e),g(),null!==a[a.length-1])return[];return b(t,0),c.events=dn(o,c.events,c),c.events}};let d,h=t.tokenize.call(c,u);return t.resolveAll&&o.push(t),c;function p(e){return function(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let a;if(n===i)a=[e[n].slice(r,o)];else{if(a=e.slice(n,i),r>-1){const e=a[0];"string"===typeof e?a[0]=e.slice(r):a.shift()}o>0&&a.push(e[i].slice(0,o))}return a}(a,e)}function f(){const{_bufferIndex:e,_index:t,line:n,column:i,offset:o}=r;return{_bufferIndex:e,_index:t,line:n,column:i,offset:o}}function g(){let e;for(;r._index<a.length;){const t=a[r._index];if("string"===typeof t)for(e=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===e&&r._bufferIndex<t.length;)m(t.charCodeAt(r._bufferIndex));else m(t)}}function m(e){l=void 0,d=e,h=h(e)}function v(e,t){t.restore()}function y(e,t){return function(n,i,o){let a,d,h,p;return Array.isArray(n)?g(n):"tokenize"in n?g([n]):function(e){return t;function t(t){const n=null!==t&&e[t],r=null!==t&&e.null;return g([...Array.isArray(n)?n:n?[n]:[],...Array.isArray(r)?r:r?[r]:[]])(t)}}(n);function g(e){return a=e,d=0,0===e.length?o:m(e[d])}function m(e){return function(n){p=function(){const e=f(),t=c.previous,n=c.currentConstruct,i=c.events.length,o=Array.from(s);return{from:i,restore:a};function a(){r=e,c.previous=t,c.currentConstruct=n,c.events.length=i,s=o,w()}}(),h=e,e.partial||(c.currentConstruct=e);if(e.name&&c.parser.constructs.disable.null.includes(e.name))return y(n);return e.tokenize.call(t?Object.assign(Object.create(c),t):c,u,v,y)(n)}}function v(t){return l=!0,e(h,p),i}function y(e){return l=!0,p.restore(),++d<a.length?m(a[d]):o}}}function b(e,t){e.resolveAll&&!o.includes(e)&&o.push(e),e.resolve&&et(c.events,t,c.events.length-t,e.resolve(c.events.slice(t),c)),e.resolveTo&&(c.events=e.resolveTo(c.events,c))}function w(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Dn(e){const n=function(e){const t={};let n=-1;for(;++n<e.length;)st(t,e[n]);return t}([t,...(e||{}).extensions||[]]),r={constructs:n,content:i(kt),defined:[],document:i(St),flow:i(It),lazy:{},string:i(Mt),text:i(Rt)};return r;function i(e){return function(t){return Ln(r,e,t)}}}const On=/[\0\t\n\r]/g;function jn(e,t){const n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||65535===(65535&n)||65534===(65535&n)||n>1114111?"\ufffd":String.fromCodePoint(n)}const Nn=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function zn(e,t,n){if(t)return t;if(35===n.charCodeAt(0)){const e=n.charCodeAt(1),t=120===e||88===e;return jn(n.slice(t?2:1),t?16:10)}return sn(n)||e}const Bn={}.hasOwnProperty;function $n(e,t,n){return"string"!==typeof t&&(n=t,t=void 0),function(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(te),autolinkProtocol:E,autolinkEmail:E,atxHeading:o(X),blockQuote:o(q),characterEscape:E,characterReference:E,codeFenced:o(Y),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:o(Y,a),codeText:o(G,a),codeTextData:E,data:E,codeFlowValue:E,definition:o(Q),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:o(K),hardBreakEscape:o(J),hardBreakTrailing:o(J),htmlFlow:o(Z,a),htmlFlowData:E,htmlText:o(Z,a),htmlTextData:E,image:o(ee),label:a,link:o(te),listItem:o(re),listItemValue:h,listOrdered:o(ne,d),listUnordered:o(ne),paragraph:o(ie),reference:z,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:o(X),strong:o(oe),thematicBreak:o(se)},exit:{atxHeading:l(),atxHeadingSequence:x,autolink:l(),autolinkEmail:V,autolinkProtocol:U,blockQuote:l(),characterEscapeValue:C,characterReferenceMarkerHexadecimal:$,characterReferenceMarkerNumeric:$,characterReferenceValue:H,characterReference:W,codeFenced:l(m),codeFencedFence:g,codeFencedFenceInfo:p,codeFencedFenceMeta:f,codeFlowValue:C,codeIndented:l(v),codeText:l(M),codeTextData:C,data:C,definition:l(),definitionDestinationString:w,definitionLabelString:y,definitionTitleString:b,emphasis:l(),hardBreakEscape:l(T),hardBreakTrailing:l(T),htmlFlow:l(I),htmlFlowData:C,htmlText:l(A),htmlTextData:C,image:l(F),label:D,labelText:L,lineEnding:P,link:l(R),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:B,resourceDestinationString:O,resourceTitleString:j,resource:N,setextHeading:l(S),setextHeadingLineSequence:k,setextHeadingText:_,strong:l(),thematicBreak:l()}};Wn(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(e){let r={type:"root",children:[]};const o={stack:[r],tokenStack:[],config:t,enter:s,exit:u,buffer:a,resume:c,data:n},l=[];let d=-1;for(;++d<e.length;)if("listOrdered"===e[d][1].type||"listUnordered"===e[d][1].type)if("enter"===e[d][0])l.push(d);else{d=i(e,l.pop(),d)}for(d=-1;++d<e.length;){const n=t[e[d][0]];Bn.call(n,e[d][1].type)&&n[e[d][1].type].call(Object.assign({sliceSerialize:e[d][2].sliceSerialize},o),e[d][1])}if(o.tokenStack.length>0){const e=o.tokenStack[o.tokenStack.length-1];(e[1]||Vn).call(o,void 0,e[0])}for(r.position={start:Hn(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:Hn(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},d=-1;++d<t.transforms.length;)r=t.transforms[d](r)||r;return r}function i(e,t,n){let r,i,o,a,s=t-1,l=-1,u=!1;for(;++s<=n;){const t=e[s];switch(t[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===t[0]?l++:l--,a=void 0;break;case"lineEndingBlank":"enter"===t[0]&&(!r||a||l||o||(o=s),a=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:a=void 0}if(!l&&"enter"===t[0]&&"listItemPrefix"===t[1].type||-1===l&&"exit"===t[0]&&("listUnordered"===t[1].type||"listOrdered"===t[1].type)){if(r){let a=s;for(i=void 0;a--;){const t=e[a];if("lineEnding"===t[1].type||"lineEndingBlank"===t[1].type){if("exit"===t[0])continue;i&&(e[i][1].type="lineEndingBlank",u=!0),t[1].type="lineEnding",i=a}else if("linePrefix"!==t[1].type&&"blockQuotePrefix"!==t[1].type&&"blockQuotePrefixWhitespace"!==t[1].type&&"blockQuoteMarker"!==t[1].type&&"listItemIndent"!==t[1].type)break}o&&(!i||o<i)&&(r._spread=!0),r.end=Object.assign({},i?e[i][1].start:t[1].end),e.splice(i||s,0,["exit",r,t[2]]),s++,n++}if("listItemPrefix"===t[1].type){const i={type:"listItem",_spread:!1,start:Object.assign({},t[1].start),end:void 0};r=i,e.splice(s,0,["enter",i,t[2]]),s++,n++,o=void 0,a=!0}}}return e[t][1]._spread=u,n}function o(e,t){return n;function n(n){s.call(this,e(n),n),t&&t.call(this,n)}}function a(){this.stack.push({type:"fragment",children:[]})}function s(e,t,n){this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n||void 0]),e.position={start:Hn(t.start),end:void 0}}function l(e){return t;function t(t){e&&e.call(this,t),u.call(this,t)}}function u(e,t){const n=this.stack.pop(),r=this.tokenStack.pop();if(!r)throw new Error("Cannot close `"+e.type+"` ("+Ie({start:e.start,end:e.end})+"): it\u2019s not open");if(r[0].type!==e.type)if(t)t.call(this,e,r[0]);else{(r[1]||Vn).call(this,e,r[0])}n.position.end=Hn(e.end)}function c(){return function(e,t){const n=t||Xe;return Je(e,"boolean"!==typeof n.includeImageAlt||n.includeImageAlt,"boolean"!==typeof n.includeHtml||n.includeHtml)}(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function h(e){if(this.data.expectingFirstListItemValue){this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),this.data.expectingFirstListItemValue=void 0}}function p(){const e=this.resume();this.stack[this.stack.length-1].lang=e}function f(){const e=this.resume();this.stack[this.stack.length-1].meta=e}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function m(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}function y(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=Vt(this.sliceSerialize(e)).toLowerCase()}function b(){const e=this.resume();this.stack[this.stack.length-1].title=e}function w(){const e=this.resume();this.stack[this.stack.length-1].url=e}function x(e){const t=this.stack[this.stack.length-1];if(!t.depth){const n=this.sliceSerialize(e).length;t.depth=n}}function _(){this.data.setextHeadingSlurpLineEnding=!0}function k(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).codePointAt(0)?1:2}function S(){this.data.setextHeadingSlurpLineEnding=void 0}function E(e){const t=this.stack[this.stack.length-1].children;let n=t[t.length-1];n&&"text"===n.type||(n=ae(),n.position={start:Hn(e.start),end:void 0},t.push(n)),this.stack.push(n)}function C(e){const t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=Hn(e.end)}function P(e){const n=this.stack[this.stack.length-1];if(this.data.atHardBreak){return n.children[n.children.length-1].position.end=Hn(e.end),void(this.data.atHardBreak=void 0)}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(n.type)&&(E.call(this,e),C.call(this,e))}function T(){this.data.atHardBreak=!0}function I(){const e=this.resume();this.stack[this.stack.length-1].value=e}function A(){const e=this.resume();this.stack[this.stack.length-1].value=e}function M(){const e=this.resume();this.stack[this.stack.length-1].value=e}function R(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function F(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function L(e){const t=this.sliceSerialize(e),n=this.stack[this.stack.length-2];n.label=function(e){return e.replace(Nn,zn)}(t),n.identifier=Vt(t).toLowerCase()}function D(){const e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];if(this.data.inReference=!0,"link"===n.type){const t=e.children;n.children=t}else n.alt=t}function O(){const e=this.resume();this.stack[this.stack.length-1].url=e}function j(){const e=this.resume();this.stack[this.stack.length-1].title=e}function N(){this.data.inReference=void 0}function z(){this.data.referenceType="collapsed"}function B(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=Vt(this.sliceSerialize(e)).toLowerCase(),this.data.referenceType="full"}function $(e){this.data.characterReferenceType=e.type}function H(e){const t=this.sliceSerialize(e),n=this.data.characterReferenceType;let r;if(n)r=jn(t,"characterReferenceMarkerNumeric"===n?10:16),this.data.characterReferenceType=void 0;else{r=sn(t)}this.stack[this.stack.length-1].value+=r}function W(e){this.stack.pop().position.end=Hn(e.end)}function U(e){C.call(this,e);this.stack[this.stack.length-1].url=this.sliceSerialize(e)}function V(e){C.call(this,e);this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)}function q(){return{type:"blockquote",children:[]}}function Y(){return{type:"code",lang:null,meta:null,value:""}}function G(){return{type:"inlineCode",value:""}}function Q(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function K(){return{type:"emphasis",children:[]}}function X(){return{type:"heading",depth:0,children:[]}}function J(){return{type:"break"}}function Z(){return{type:"html",value:""}}function ee(){return{type:"image",title:null,url:"",alt:null}}function te(){return{type:"link",title:null,url:"",children:[]}}function ne(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}function re(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}function ie(){return{type:"paragraph",children:[]}}function oe(){return{type:"strong",children:[]}}function ae(){return{type:"text",value:""}}function se(){return{type:"thematicBreak"}}}(n)(function(e){for(;!it(e););return e}(Dn(n).document().write(function(){let e,t=1,n="",r=!0;return function(i,o,a){const s=[];let l,u,c,d,h;for(i=n+("string"===typeof i?i.toString():new TextDecoder(o||void 0).decode(i)),c=0,n="",r&&(65279===i.charCodeAt(0)&&c++,r=void 0);c<i.length;){if(On.lastIndex=c,l=On.exec(i),d=l&&void 0!==l.index?l.index:i.length,h=i.charCodeAt(d),!l){n=i.slice(c);break}if(10===h&&c===d&&e)s.push(-3),e=void 0;else switch(e&&(s.push(-5),e=void 0),c<d&&(s.push(i.slice(c,d)),t+=d-c),h){case 0:s.push(65533),t++;break;case 9:for(u=4*Math.ceil(t/4),s.push(-2);t++<u;)s.push(-1);break;case 10:s.push(-4),t=1;break;default:e=!0,t=1}c=d+1}return a&&(e&&s.push(-5),n&&s.push(n),s.push(null)),s}}()(e,t,!0))))}function Hn(e){return{line:e.line,column:e.column,offset:e.offset}}function Wn(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Wn(e,r):Un(e,r)}}function Un(e,t){let n;for(n in t)if(Bn.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Vn(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Ie({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Ie({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Ie({start:t.start,end:t.end})+") is still open")}function qn(e){const t=this;t.parser=function(n){return $n(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}const Yn="object"===typeof self?self:globalThis,Gn=e=>((e,t)=>{const n=(t,n)=>(e.set(n,t),t),r=i=>{if(e.has(i))return e.get(i);const[o,a]=t[i];switch(o){case 0:case-1:return n(a,i);case 1:{const e=n([],i);for(const t of a)e.push(r(t));return e}case 2:{const e=n({},i);for(const[t,n]of a)e[r(t)]=r(n);return e}case 3:return n(new Date(a),i);case 4:{const{source:e,flags:t}=a;return n(new RegExp(e,t),i)}case 5:{const e=n(new Map,i);for(const[t,n]of a)e.set(r(t),r(n));return e}case 6:{const e=n(new Set,i);for(const t of a)e.add(r(t));return e}case 7:{const{name:e,message:t}=a;return n(new Yn[e](t),i)}case 8:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:e}=new Uint8Array(a);return n(new DataView(e),a)}}return n(new Yn[o](a),i)};return r})(new Map,e)(0),Qn="",{toString:Kn}={},{keys:Xn}=Object,Jn=e=>{const t=typeof e;if("object"!==t||!e)return[0,t];const n=Kn.call(e).slice(8,-1);switch(n){case"Array":return[1,Qn];case"Object":return[2,Qn];case"Date":return[3,Qn];case"RegExp":return[4,Qn];case"Map":return[5,Qn];case"Set":return[6,Qn];case"DataView":return[1,n]}return n.includes("Array")?[1,n]:n.includes("Error")?[7,n]:[2,n]},Zn=e=>{let[t,n]=e;return 0===t&&("function"===n||"symbol"===n)},er=function(e){let{json:t,lossy:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[];return((e,t,n,r)=>{const i=(e,t)=>{const i=r.push(e)-1;return n.set(t,i),i},o=r=>{if(n.has(r))return n.get(r);let[a,s]=Jn(r);switch(a){case 0:{let t=r;switch(s){case"bigint":a=8,t=r.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+s);t=null;break;case"undefined":return i([-1],r)}return i([a,t],r)}case 1:{if(s){let e=r;return"DataView"===s?e=new Uint8Array(r.buffer):"ArrayBuffer"===s&&(e=new Uint8Array(r)),i([s,[...e]],r)}const e=[],t=i([a,e],r);for(const n of r)e.push(o(n));return t}case 2:{if(s)switch(s){case"BigInt":return i([s,r.toString()],r);case"Boolean":case"Number":case"String":return i([s,r.valueOf()],r)}if(t&&"toJSON"in r)return o(r.toJSON());const n=[],l=i([a,n],r);for(const t of Xn(r))!e&&Zn(Jn(r[t]))||n.push([o(t),o(r[t])]);return l}case 3:return i([a,r.toISOString()],r);case 4:{const{source:e,flags:t}=r;return i([a,{source:e,flags:t}],r)}case 5:{const t=[],n=i([a,t],r);for(const[i,a]of r)(e||!Zn(Jn(i))&&!Zn(Jn(a)))&&t.push([o(i),o(a)]);return n}case 6:{const t=[],n=i([a,t],r);for(const i of r)!e&&Zn(Jn(i))||t.push(o(i));return n}}const{message:l}=r;return i([a,{name:s,message:l}],r)};return o})(!(t||n),!!t,new Map,r)(e),r},tr="function"===typeof structuredClone?(e,t)=>t&&("json"in t||"lossy"in t)?Gn(er(e,t)):structuredClone(e):(e,t)=>Gn(er(e,t));function nr(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let a="";if(37===o&&ct(e.charCodeAt(n+1))&&ct(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(a=String.fromCharCode(o));else if(o>55295&&o<57344){const t=e.charCodeAt(n+1);o<56320&&t>56319&&t<57344?(a=String.fromCharCode(o,t),i=1):a="\ufffd"}else a=String.fromCharCode(o);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function rr(e,t){const n=[{type:"text",value:"\u21a9"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function ir(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}const or=function(e){if(null===e||void 0===e)return sr;if("function"===typeof e)return ar(e);if("object"===typeof e)return Array.isArray(e)?function(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=or(e[n]);return ar(r);function r(){let e=-1;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(;++e<t.length;)if(t[e].apply(this,r))return!0;return!1}}(e):function(e){const t=e;return ar(n);function n(n){const r=n;let i;for(i in e)if(r[i]!==t[i])return!1;return!0}}(e);if("string"===typeof e)return function(e){return ar(t);function t(t){return t&&t.type===e}}(e);throw new Error("Expected function, string, or object as test")};function ar(e){return function(t,n,r){return Boolean(lr(t)&&e.call(this,t,"number"===typeof n?n:void 0,r||void 0))}}function sr(){return!0}function lr(e){return null!==e&&"object"===typeof e&&"type"in e}const ur=[],cr=!0,dr=!1;function hr(e,t,n,r){let i;"function"===typeof t&&"function"!==typeof n?(r=n,n=t):i=t;const o=or(i),a=r?-1:1;!function e(i,s,l){const u=i&&"object"===typeof i?i:{};if("string"===typeof u.type){const e="string"===typeof u.tagName?u.tagName:"string"===typeof u.name?u.name:void 0;Object.defineProperty(c,"name",{value:"node ("+i.type+(e?"<"+e+">":"")+")"})}return c;function c(){let u,c,d,h=ur;if((!t||o(i,s,l[l.length-1]||void 0))&&(h=function(e){if(Array.isArray(e))return e;if("number"===typeof e)return[cr,e];return null===e||void 0===e?ur:[e]}(n(i,l)),h[0]===dr))return h;if("children"in i&&i.children){const t=i;if(t.children&&"skip"!==h[0])for(c=(r?t.children.length:-1)+a,d=l.concat(t);c>-1&&c<t.children.length;){const n=t.children[c];if(u=e(n,c,d)(),u[0]===dr)return u;c="number"===typeof u[1]?u[1]:c+a}}return h}}(e,void 0,[])()}function pr(e,t,n,r){let i,o,a;"function"===typeof t&&"function"!==typeof n?(o=void 0,a=t,i=n):(o=t,a=n,i=r),hr(e,o,function(e,t){const n=t[t.length-1],r=n?n.children.indexOf(e):void 0;return a(e,r,n)},i)}function fr(e,t){const n=t.referenceType;let r="]";if("collapsed"===n?r+="[]":"full"===n&&(r+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type)return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),o=i[0];o&&"text"===o.type?o.value="["+o.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&"text"===a.type?a.value+=r:i.push({type:"text",value:r}),i}function gr(e){const t=e.spread;return null===t||void 0===t?e.children.length>1:t}function mr(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const o=[];for(;r;)o.push(vr(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return o.push(vr(t.slice(i),i>0,!1)),o.join("")}function vr(e,t,n){let r=0,i=e.length;if(t){let t=e.codePointAt(r);for(;9===t||32===t;)r++,t=e.codePointAt(r)}if(n){let t=e.codePointAt(i-1);for(;9===t||32===t;)i--,t=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}const yr={blockquote:function(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)},break:function(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:"\n"}]},code:function(e,t){const n=t.value?t.value+"\n":"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i},delete:function(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},emphasis:function(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},footnoteReference:function(e,t){const n="string"===typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=nr(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let a,s=e.footnoteCounts.get(r);void 0===s?(s=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=o+1,s+=1,e.footnoteCounts.set(r,s);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)},heading:function(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},html:function(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}},imageReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return fr(e,t);const i={src:nr(r.url||""),alt:t.alt};null!==r.title&&void 0!==r.title&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)},image:function(e,t){const n={src:nr(t.url)};null!==t.alt&&void 0!==t.alt&&(n.alt=t.alt),null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)},inlineCode:function(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)},linkReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return fr(e,t);const i={href:nr(r.url||"")};null!==r.title&&void 0!==r.title&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)},link:function(e,t){const n={href:nr(t.url)};null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},listItem:function(e,t,n){const r=e.all(t),i=n?function(e){let t=!1;if("list"===e.type){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=gr(n[r])}return t}(n):gr(t),o={},a=[];if("boolean"===typeof t.checked){const e=r[0];let n;e&&"element"===e.type&&"p"===e.tagName?n=e:(n={type:"element",tagName:"p",properties:{},children:[]},r.unshift(n)),n.children.length>0&&n.children.unshift({type:"text",value:" "}),n.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const e=r[s];(i||0!==s||"element"!==e.type||"p"!==e.tagName)&&a.push({type:"text",value:"\n"}),"element"!==e.type||"p"!==e.tagName||i?a.push(e):a.push(...e.children)}const l=r[r.length-1];l&&(i||"element"!==l.type||"p"!==l.tagName)&&a.push({type:"text",value:"\n"});const u={type:"element",tagName:"li",properties:o,children:a};return e.patch(t,u),e.applyData(t,u)},list:function(e,t){const n={},r=e.all(t);let i=-1;for("number"===typeof t.start&&1!==t.start&&(n.start=t.start);++i<r.length;){const e=r[i];if("element"===e.type&&"li"===e.tagName&&e.properties&&Array.isArray(e.properties.className)&&e.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)},paragraph:function(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},root:function(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)},strong:function(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},table:function(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const n={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],n),i.push(n)}if(n.length>0){const r={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=Pe(t.children[1]),a=Ce(t.children[t.children.length-1]);o&&a&&(r.position={start:o,end:a}),i.push(r)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)},tableCell:function(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},tableRow:function(e,t,n){const r=n?n.children:void 0,i=0===(r?r.indexOf(t):1)?"th":"td",o=n&&"table"===n.type?n.align:void 0,a=o?o.length:t.children.length;let s=-1;const l=[];for(;++s<a;){const n=t.children[s],r={},a=o?o[s]:void 0;a&&(r.align=a);let u={type:"element",tagName:i,properties:r,children:[]};n&&(u.children=e.all(n),e.patch(n,u),u=e.applyData(n,u)),l.push(u)}const u={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,u),e.applyData(t,u)},text:function(e,t){const n={type:"text",value:mr(String(t.value))};return e.patch(t,n),e.applyData(t,n)},thematicBreak:function(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)},toml:br,yaml:br,definition:br,footnoteDefinition:br};function br(){}const wr={}.hasOwnProperty,xr={};function _r(e,t){e.position&&(t.position=function(e){const t=Pe(e),n=Ce(e);if(t&&n)return{start:t,end:n}}(e))}function kr(e,t){let n=t;if(e&&e.data){const t=e.data.hName,r=e.data.hChildren,i=e.data.hProperties;if("string"===typeof t)if("element"===n.type)n.tagName=t;else{n={type:"element",tagName:t,properties:{},children:"children"in n?n.children:[n]}}"element"===n.type&&i&&Object.assign(n.properties,tr(i)),"children"in n&&n.children&&null!==r&&void 0!==r&&(n.children=r)}return n}function Sr(e,t){const n=t.data||{},r=!("value"in t)||wr.call(n,"hProperties")||wr.call(n,"hChildren")?{type:"element",tagName:"div",properties:{},children:e.all(t)}:{type:"text",value:t.value};return e.patch(t,r),e.applyData(t,r)}function Er(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:"\n"});++r<e.length;)r&&n.push({type:"text",value:"\n"}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:"\n"}),n}function Cr(e){let t=0,n=e.charCodeAt(t);for(;9===n||32===n;)t++,n=e.charCodeAt(t);return e.slice(t)}function Pr(e,t){const n=function(e,t){const n=t||xr,r=new Map,i=new Map,o=new Map,a={...yr,...n.handlers},s={all:function(e){const t=[];if("children"in e){const n=e.children;let r=-1;for(;++r<n.length;){const i=s.one(n[r],e);if(i){if(r&&"break"===n[r-1].type&&(Array.isArray(i)||"text"!==i.type||(i.value=Cr(i.value)),!Array.isArray(i)&&"element"===i.type)){const e=i.children[0];e&&"text"===e.type&&(e.value=Cr(e.value))}Array.isArray(i)?t.push(...i):t.push(i)}}}return t},applyData:kr,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:a,one:function(e,t){const n=e.type,r=s.handlers[n];if(wr.call(s.handlers,n)&&r)return r(s,e,t);if(s.options.passThrough&&s.options.passThrough.includes(n)){if("children"in e){const{children:t,...n}=e,r=tr(n);return r.children=s.all(e),r}return tr(e)}return(s.options.unknownHandler||Sr)(s,e,t)},options:n,patch:_r,wrap:Er};return pr(e,function(e){if("definition"===e.type||"footnoteDefinition"===e.type){const t="definition"===e.type?r:i,n=String(e.identifier).toUpperCase();t.has(n)||t.set(n,e)}}),s}(e,t),r=n.one(e,void 0),i=function(e){const t="string"===typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||rr,r=e.options.footnoteBackLabel||ir,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const i=e.footnoteById.get(e.footnoteOrder[l]);if(!i)continue;const o=e.all(i),a=String(i.identifier).toUpperCase(),u=nr(a.toLowerCase());let c=0;const d=[],h=e.footnoteCounts.get(a);for(;void 0!==h&&++c<=h;){d.length>0&&d.push({type:"text",value:" "});let e="string"===typeof n?n:n(l,c);"string"===typeof e&&(e={type:"text",value:e}),d.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+u+(c>1?"-"+c:""),dataFootnoteBackref:"",ariaLabel:"string"===typeof r?r:r(l,c),className:["data-footnote-backref"]},children:Array.isArray(e)?e:[e]})}const p=o[o.length-1];if(p&&"element"===p.type&&"p"===p.tagName){const e=p.children[p.children.length-1];e&&"text"===e.type?e.value+=" ":p.children.push({type:"text",value:" "}),p.children.push(...d)}else o.push(...d);const f={type:"element",tagName:"li",properties:{id:t+"fn-"+u},children:e.wrap(o,!0)};e.patch(i,f),s.push(f)}if(0!==s.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...tr(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:"\n"}]}}(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:"\n"},i),o}function Tr(e,t){return e&&"run"in e?async function(n,r){const i=Pr(n,{file:r,...t});await e.run(i,r)}:function(n,r){return Pr(n,{file:r,...e||t})}}function Ir(e){if(e)throw e}var Ar=n(240);function Mr(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Rr(){const e=[],t={run:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];let i=-1;const o=n.pop();if("function"!==typeof o)throw new TypeError("Expected function as last argument, not "+o);!function t(r){const a=e[++i];let s=-1;if(r)o(r);else{for(var l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];for(;++s<n.length;)null!==u[s]&&void 0!==u[s]||(u[s]=n[s]);n=u,a?function(e,t){let n;return i;function i(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];const l=e.length>i.length;let u;l&&i.push(o);try{u=e.apply(this,i)}catch(r){if(l&&n)throw r;return o(r)}l||(u&&u.then&&"function"===typeof u.then?u.then(a,o):u instanceof Error?o(u):a(u))}function o(e){if(!n){n=!0;for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];t(e,...i)}}function a(e){o(null,e)}}(a,t)(...u):o(null,...u)}}(null,...n)},use:function(n){if("function"!==typeof n)throw new TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}};return t}const Fr={basename:function(e,t){if(void 0!==t&&"string"!==typeof t)throw new TypeError('"ext" argument must be a string');Lr(e);let n,r=0,i=-1,o=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;o--;)if(47===e.codePointAt(o)){if(n){r=o+1;break}}else i<0&&(n=!0,i=o+1);return i<0?"":e.slice(r,i)}if(t===e)return"";let a=-1,s=t.length-1;for(;o--;)if(47===e.codePointAt(o)){if(n){r=o+1;break}}else a<0&&(n=!0,a=o+1),s>-1&&(e.codePointAt(o)===t.codePointAt(s--)?s<0&&(i=o):(s=-1,i=a));r===i?i=a:i<0&&(i=e.length);return e.slice(r,i)},dirname:function(e){if(Lr(e),0===e.length)return".";let t,n=-1,r=e.length;for(;--r;)if(47===e.codePointAt(r)){if(t){n=r;break}}else t||(t=!0);return n<0?47===e.codePointAt(0)?"/":".":1===n&&47===e.codePointAt(0)?"//":e.slice(0,n)},extname:function(e){Lr(e);let t,n=e.length,r=-1,i=0,o=-1,a=0;for(;n--;){const s=e.codePointAt(n);if(47!==s)r<0&&(t=!0,r=n+1),46===s?o<0?o=n:1!==a&&(a=1):o>-1&&(a=-1);else if(t){i=n+1;break}}if(o<0||r<0||0===a||1===a&&o===r-1&&o===i+1)return"";return e.slice(o,r)},join:function(){let e,t=-1;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(;++t<r.length;)Lr(r[t]),r[t]&&(e=void 0===e?r[t]:e+"/"+r[t]);return void 0===e?".":function(e){Lr(e);const t=47===e.codePointAt(0);let n=function(e,t){let n,r,i="",o=0,a=-1,s=0,l=-1;for(;++l<=e.length;){if(l<e.length)n=e.codePointAt(l);else{if(47===n)break;n=47}if(47===n){if(a===l-1||1===s);else if(a!==l-1&&2===s){if(i.length<2||2!==o||46!==i.codePointAt(i.length-1)||46!==i.codePointAt(i.length-2))if(i.length>2){if(r=i.lastIndexOf("/"),r!==i.length-1){r<0?(i="",o=0):(i=i.slice(0,r),o=i.length-1-i.lastIndexOf("/")),a=l,s=0;continue}}else if(i.length>0){i="",o=0,a=l,s=0;continue}t&&(i=i.length>0?i+"/..":"..",o=2)}else i.length>0?i+="/"+e.slice(a+1,l):i=e.slice(a+1,l),o=l-a-1;a=l,s=0}else 46===n&&s>-1?s++:s=-1}return i}(e,!t);0!==n.length||t||(n=".");n.length>0&&47===e.codePointAt(e.length-1)&&(n+="/");return t?"/"+n:n}(e)},sep:"/"};function Lr(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Dr={cwd:function(){return"/"}};function Or(e){return Boolean(null!==e&&"object"===typeof e&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&void 0===e.auth)}function jr(e){if("string"===typeof e)e=new URL(e);else if(!Or(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return function(e){if(""!==e.hostname){const e=new TypeError('File URL host must be "localhost" or empty on darwin');throw e.code="ERR_INVALID_FILE_URL_HOST",e}const t=e.pathname;let n=-1;for(;++n<t.length;)if(37===t.codePointAt(n)&&50===t.codePointAt(n+1)){const e=t.codePointAt(n+2);if(70===e||102===e){const e=new TypeError("File URL path must not include encoded / characters");throw e.code="ERR_INVALID_FILE_URL_PATH",e}}return decodeURIComponent(t)}(e)}const Nr=["history","path","basename","stem","extname","dirname"];class zr{constructor(e){let t;t=e?Or(e)?{path:e}:"string"===typeof e||function(e){return Boolean(e&&"object"===typeof e&&"byteLength"in e&&"byteOffset"in e)}(e)?{value:e}:e:{},this.cwd="cwd"in t?"":Dr.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n,r=-1;for(;++r<Nr.length;){const e=Nr[r];e in t&&void 0!==t[e]&&null!==t[e]&&(this[e]="history"===e?[...t[e]]:t[e])}for(n in t)Nr.includes(n)||(this[n]=t[n])}get basename(){return"string"===typeof this.path?Fr.basename(this.path):void 0}set basename(e){$r(e,"basename"),Br(e,"basename"),this.path=Fr.join(this.dirname||"",e)}get dirname(){return"string"===typeof this.path?Fr.dirname(this.path):void 0}set dirname(e){Hr(this.basename,"dirname"),this.path=Fr.join(e||"",this.basename)}get extname(){return"string"===typeof this.path?Fr.extname(this.path):void 0}set extname(e){if(Br(e,"extname"),Hr(this.dirname,"extname"),e){if(46!==e.codePointAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Fr.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Or(e)&&(e=jr(e)),$r(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return"string"===typeof this.path?Fr.basename(this.path,this.extname):void 0}set stem(e){$r(e,"stem"),Br(e,"stem"),this.path=Fr.join(this.dirname||"",e+(this.extname||""))}fail(e,t,n){const r=this.message(e,t,n);throw r.fatal=!0,r}info(e,t,n){const r=this.message(e,t,n);return r.fatal=void 0,r}message(e,t,n){const r=new Fe(e,t,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){if(void 0===this.value)return"";if("string"===typeof this.value)return this.value;return new TextDecoder(e||void 0).decode(this.value)}}function Br(e,t){if(e&&e.includes(Fr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Fr.sep+"`")}function $r(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Hr(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const Wr=function(e){const t=this.constructor.prototype,n=t[e],r=function(){return n.apply(r,arguments)};return Object.setPrototypeOf(r,t),r},Ur={}.hasOwnProperty;class Vr extends Wr{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Rr()}copy(){const e=new Vr;let t=-1;for(;++t<this.attachers.length;){const n=this.attachers[t];e.use(...n)}return e.data(Ar(!0,{},this.namespace)),e}data(e,t){return"string"===typeof e?2===arguments.length?(Qr("data",this.frozen),this.namespace[e]=t,this):Ur.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Qr("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...n]=this.attachers[this.freezeIndex];if(!1===n[0])continue;!0===n[0]&&(n[0]=void 0);const r=t.call(e,...n);"function"===typeof r&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=Jr(e),n=this.parser||this.Parser;return Yr("parse",n),n(String(t),t)}process(e,t){const n=this;return this.freeze(),Yr("process",this.parser||this.Parser),Gr("process",this.compiler||this.Compiler),t?r(void 0,t):new Promise(r);function r(r,i){const o=Jr(e),a=n.parse(o);function s(e,n){e||!n?i(e):r?r(n):t(void 0,n)}n.run(a,o,function(e,t,r){if(e||!t||!r)return s(e);const i=t,o=n.stringify(i,r);var a;"string"===typeof(a=o)||function(e){return Boolean(e&&"object"===typeof e&&"byteLength"in e&&"byteOffset"in e)}(a)?r.value=o:r.result=o,s(e,r)})}}processSync(e){let t,n=!1;return this.freeze(),Yr("processSync",this.parser||this.Parser),Gr("processSync",this.compiler||this.Compiler),this.process(e,function(e,r){n=!0,Ir(e),t=r}),Xr("processSync","process",n),t}run(e,t,n){Kr(e),this.freeze();const r=this.transformers;return n||"function"!==typeof t||(n=t,t=void 0),n?i(void 0,n):new Promise(i);function i(i,o){const a=Jr(t);r.run(e,a,function(t,r,a){const s=r||e;t?o(t):i?i(s):n(void 0,s,a)})}}runSync(e,t){let n,r=!1;return this.run(e,t,function(e,t){Ir(e),n=t,r=!0}),Xr("runSync","run",r),n}stringify(e,t){this.freeze();const n=Jr(t),r=this.compiler||this.Compiler;return Gr("stringify",r),Kr(e),r(e,n)}use(e){const t=this.attachers,n=this.namespace;if(Qr("use",this.frozen),null===e||void 0===e);else if("function"===typeof e){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];u(e,i)}else{if("object"!==typeof e)throw new TypeError("Expected usable value, not `"+e+"`");Array.isArray(e)?l(e):s(e)}return this;function a(e){if("function"===typeof e)u(e,[]);else{if("object"!==typeof e)throw new TypeError("Expected usable value, not `"+e+"`");if(Array.isArray(e)){const[t,...n]=e;u(t,n)}else s(e)}}function s(e){if(!("plugins"in e)&&!("settings"in e))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(e.plugins),e.settings&&(n.settings=Ar(!0,n.settings,e.settings))}function l(e){let t=-1;if(null===e||void 0===e);else{if(!Array.isArray(e))throw new TypeError("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;){a(e[t])}}}function u(e,n){let r=-1,i=-1;for(;++r<t.length;)if(t[r][0]===e){i=r;break}if(-1===i)t.push([e,...n]);else if(n.length>0){let[r,...o]=n;const a=t[i][1];Mr(a)&&Mr(r)&&(r=Ar(!0,a,r)),t[i]=[e,r,...o]}}}}const qr=(new Vr).freeze();function Yr(e,t){if("function"!==typeof t)throw new TypeError("Cannot `"+e+"` without `parser`")}function Gr(e,t){if("function"!==typeof t)throw new TypeError("Cannot `"+e+"` without `compiler`")}function Qr(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Kr(e){if(!Mr(e)||"string"!==typeof e.type)throw new TypeError("Expected node, got `"+e+"`")}function Xr(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Jr(e){return function(e){return Boolean(e&&"object"===typeof e&&"message"in e&&"messages"in e)}(e)?e:new zr(e)}const Zr=[],ei={allowDangerousHtml:!0},ti=/^(https?|ircs?|mailto|xmpp)$/i,ni=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function ri(e){const t=ii(e),n=oi(e);return ai(t.runSync(t.parse(n),n),e)}function ii(e){const t=e.rehypePlugins||Zr,n=e.remarkPlugins||Zr,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...ei}:ei;return qr().use(qn).use(n).use(Tr,r).use(t)}function oi(e){const t=e.children||"",n=new zr;return"string"===typeof t&&(n.value=t),n}function ai(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,o=t.disallowedElements,a=t.skipHtml,s=t.unwrapDisallowed,l=t.urlTransform||si;for(const u of ni)Object.hasOwn(t,u.from)&&z((u.from,u.to&&u.to,u.id));return pr(e,function(e,t,i){if("raw"===e.type&&i&&"number"===typeof t)return a?i.children.splice(t,1):i.children[t]={type:"text",value:e.value},t;if("element"===e.type){let t;for(t in Ke)if(Object.hasOwn(Ke,t)&&Object.hasOwn(e.properties,t)){const n=e.properties[t],r=Ke[t];(null===r||r.includes(e.tagName))&&(e.properties[t]=l(String(n||""),t,e))}}if("element"===e.type){let a=n?!n.includes(e.tagName):!!o&&o.includes(e.tagName);if(!a&&r&&"number"===typeof t&&(a=!r(e,t,i)),a&&i&&"number"===typeof t)return s&&e.children?i.children.splice(t,1,...e.children):i.children.splice(t,1),t}}),Be(e,{Fragment:g.Fragment,components:i,ignoreInvalidStyle:!0,jsx:g.jsx,jsxs:g.jsxs,passKeys:!0,passNode:!0})}function si(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return-1===t||-1!==i&&t>i||-1!==n&&t>n||-1!==r&&t>r||ti.test(e.slice(0,t))?e:""}const li=e=>{let{content:t,className:n,style:r}=e;return(0,g.jsx)("div",{className:n,style:r,children:(0,g.jsx)(ri,{components:{h1:e=>{let{children:t}=e;return(0,g.jsx)("h1",{style:{color:"#2d3436",fontSize:"1.5rem",marginBottom:"0.5rem",marginTop:"0"},children:t})},h2:e=>{let{children:t}=e;return(0,g.jsx)("h2",{style:{color:"#00b894",fontSize:"1.25rem",marginBottom:"0.5rem",marginTop:"0"},children:t})},h3:e=>{let{children:t}=e;return(0,g.jsx)("h3",{style:{color:"#636e72",fontSize:"1.1rem",marginBottom:"0.5rem",marginTop:"0"},children:t})},p:e=>{let{children:t}=e;return(0,g.jsx)("p",{style:{color:"#636e72",lineHeight:"1.6",marginBottom:"1rem",marginTop:"0"},children:t})},ul:e=>{let{children:t}=e;return(0,g.jsx)("ul",{style:{color:"#636e72",lineHeight:"1.6",marginBottom:"1rem",paddingLeft:"1.5rem"},children:t})},ol:e=>{let{children:t}=e;return(0,g.jsx)("ol",{style:{color:"#636e72",lineHeight:"1.6",marginBottom:"1rem",paddingLeft:"1.5rem"},children:t})},code:e=>{let{children:t,className:n}=e;return!n?(0,g.jsx)("code",{style:{backgroundColor:"#f8f9fa",padding:"0.2rem 0.4rem",borderRadius:"3px",fontFamily:"monospace",fontSize:"0.9em",color:"#e74c3c"},children:t}):(0,g.jsx)("code",{className:n,style:{backgroundColor:"#f8f9fa",padding:"0.2rem 0.4rem",borderRadius:"3px",fontFamily:"monospace",fontSize:"0.9em",color:"#e74c3c",display:"block",marginBottom:"1rem"},children:t})},pre:e=>{let{children:t}=e;return(0,g.jsx)("pre",{style:{backgroundColor:"#f8f9fa",padding:"1rem",borderRadius:"5px",overflow:"auto",marginBottom:"1rem",border:"1px solid #e9ecef"},children:t})},blockquote:e=>{let{children:t}=e;return(0,g.jsx)("blockquote",{style:{borderLeft:"4px solid #00b894",paddingLeft:"1rem",margin:"1rem 0",fontStyle:"italic",color:"#636e72",backgroundColor:"#f8f9fa",padding:"1rem",borderRadius:"0 5px 5px 0"},children:t})},a:e=>{let{children:t,href:n}=e;return(0,g.jsx)("a",{href:n,style:{color:"#00b894",textDecoration:"none"},onMouseEnter:e=>{e.currentTarget.style.textDecoration="underline"},onMouseLeave:e=>{e.currentTarget.style.textDecoration="none"},children:t})},strong:e=>{let{children:t}=e;return(0,g.jsx)("strong",{style:{color:"#2d3436",fontWeight:"bold"},children:t})},em:e=>{let{children:t}=e;return(0,g.jsx)("em",{style:{color:"#636e72",fontStyle:"italic"},children:t})},img:e=>{let{src:t,alt:n,...r}=e;const i=null!==t&&void 0!==t&&t.startsWith("/")?t:`/${t}`;return(0,g.jsx)("img",{...r,src:i,alt:n,style:{maxWidth:"100%",height:"auto",borderRadius:"6px",margin:"1rem 0",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",display:"block"},onError:e=>{e.target.style.display="none",console.warn(`Image not found: ${i}`)}})}},children:t})})},ui=e=>{let{stepId:t,className:n,style:i}=e;const[o,a]=(0,r.useState)(!1),s=()=>{const e=window.location.origin+window.location.pathname;return"welcome"===t?e:`${e}?slide=${t}`};return(0,g.jsx)("button",{onClick:async e=>{e.preventDefault(),e.stopPropagation();try{const e=s();await navigator.clipboard.writeText(e),a(!0),setTimeout(()=>a(!1),1e3)}catch(err){console.error("Failed to copy URL:",err);const t=document.createElement("textarea");t.value=s(),document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),a(!0),setTimeout(()=>a(!1),2e3)}},className:n,style:{background:"none",border:"none",outline:"none",cursor:"pointer",padding:"8px",borderRadius:"var(--radius-sm)",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease-in-out",color:o?"var(--accent-blue)":"var(--subdued-gray)",backgroundColor:o?"rgba(0, 207, 232, 0.1)":"transparent",...i},title:o?"Link copied!":"Copy link to this section",onMouseEnter:e=>{o||(e.currentTarget.style.color="var(--accent-blue)",e.currentTarget.style.backgroundColor="rgba(0, 207, 232, 0.05)")},onMouseLeave:e=>{o||(e.currentTarget.style.color="var(--subdued-gray)",e.currentTarget.style.backgroundColor="transparent")},children:o?(0,g.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,g.jsx)("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"}),(0,g.jsx)("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"})]}):(0,g.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,g.jsx)("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),(0,g.jsx)("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})]})})},ci=e=>{const{containerRef:t,steps:n,activeStepId:r}=j(e),{isLandscapeMobile:i}=_();return(0,g.jsxs)("div",{ref:t,style:{height:"100%",overflowY:"auto",padding:i?"var(--spacing-sm) var(--spacing-md)":"var(--spacing-xl)",backgroundColor:"var(--light-gray-bg)",fontFamily:"var(--font-family)",position:"relative"},children:[(0,g.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,height:"200px",background:"linear-gradient(135deg, rgba(115, 103, 240, 0.02) 0%, rgba(0, 207, 232, 0.02) 100%)",zIndex:0}}),(0,g.jsxs)("div",{style:{position:"relative",zIndex:1},children:[(0,g.jsxs)("h1",{className:"headline",style:{marginBottom:"var(--spacing-2xl)",color:"var(--dark-text)",fontSize:"2.75rem",fontWeight:"700",letterSpacing:"-0.02em",lineHeight:"1.1"},children:["flink-watermarks.",(0,g.jsx)("em",{style:{color:"var(--accent-purple)",fontStyle:"italic"},children:"wtf"})]}),n.map((t,i)=>(0,g.jsxs)("div",{id:t.id,className:"scroll-step "+(r===t.id?"card-active":"card"),style:{marginBottom:"var(--spacing-xl)",minHeight:"200px",textAlign:"left",transition:"all 0.3s ease-in-out",position:"relative"},children:[(0,g.jsxs)("div",{style:{position:"absolute",top:"var(--spacing-sm)",right:"var(--spacing-sm)",zIndex:10,display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[(0,g.jsxs)("div",{style:{fontSize:"0.75rem",color:"var(--subdued-gray)",fontWeight:"500",fontFamily:"monospace",backgroundColor:"rgba(255, 255, 255, 0.4)",padding:"2px 4px",borderRadius:"1px",border:"1px solid rgba(0, 0, 0, 0.05)",opacity:.7},children:[i+1," / ",n.length]}),(0,g.jsx)("div",{style:{opacity:.7},children:(0,g.jsx)(ui,{stepId:t.id})})]}),(0,g.jsx)("h2",{style:{color:r===t.id?"var(--accent-purple)":"var(--accent-blue)",marginBottom:"var(--spacing-md)",marginTop:"var(--spacing-xl)",fontSize:"1.5rem",fontWeight:"600",letterSpacing:"-0.01em",lineHeight:"1.3",paddingRight:"80px"},children:t.title}),(0,g.jsx)("div",{style:{color:"var(--text-gray)",lineHeight:"1.6"},children:(0,g.jsx)(li,{content:t.content})}),(t.overlayContent||t.overlayButtonText)&&(0,g.jsx)("div",{style:{marginTop:"var(--spacing-lg)",textAlign:"left"},children:(0,g.jsx)("button",{className:"btn-secondary",onClick:()=>{t.overlayContent?e.onShowOverlay(t.overlayContent,t.overlayTitle,t.id):e.onReopenOverlay()},style:{fontSize:"0.875rem",padding:"10px 20px"},children:t.overlayButtonText||"Open Further Explanation"})})]},t.id)),(0,g.jsx)("div",{style:{height:"50vh",display:"flex",alignItems:"center",justifyContent:"center",opacity:.3}})]})]})},di=e=>{const{containerRef:t,steps:n,activeStepId:r}=j(e);return(0,g.jsxs)("div",{ref:t,style:{height:"100%",overflowY:"auto",padding:"var(--spacing-lg)",backgroundColor:"var(--light-gray-bg)",fontFamily:"var(--font-family)",position:"relative"},children:[(0,g.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,height:"200px",background:"linear-gradient(135deg, rgba(115, 103, 240, 0.02) 0%, rgba(0, 207, 232, 0.02) 100%)",zIndex:0}}),(0,g.jsxs)("div",{style:{position:"relative",zIndex:1},children:[(0,g.jsxs)("h1",{className:"headline",style:{marginBottom:"var(--spacing-xl)",color:"var(--dark-text)",fontSize:"2.25rem",fontWeight:"700",letterSpacing:"-0.02em",lineHeight:"1.1"},children:["flink-watermarks.",(0,g.jsx)("em",{style:{color:"var(--accent-purple)",fontStyle:"normal"},children:"wtf"})]}),n.map((t,n)=>(0,g.jsxs)("div",{id:t.id,className:"scroll-step",style:{marginBottom:"var(--spacing-2xl)",padding:"var(--spacing-lg)",backgroundColor:"var(--background-white)",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(115, 103, 240, 0.1)",minHeight:"200px"},children:[(0,g.jsx)("h2",{style:{fontSize:"1.5rem",fontWeight:"600",color:"var(--dark-text)",marginBottom:"var(--spacing-md)",lineHeight:"1.3"},children:t.title}),(0,g.jsx)("div",{style:{fontSize:"1rem",lineHeight:"1.6",color:"var(--text-gray)",marginBottom:"var(--spacing-md)"},children:(0,g.jsx)(li,{content:t.content})}),t.overlayContent&&(0,g.jsxs)("button",{onClick:()=>e.onShowOverlay(t.overlayContent,t.overlayTitle,t.id),style:{backgroundColor:"var(--accent-purple)",color:"white",border:"none",padding:"var(--spacing-sm) var(--spacing-md)",borderRadius:"6px",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",marginTop:"var(--spacing-sm)",display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[(0,g.jsx)(ui,{stepId:t.id}),t.overlayButtonText||"Learn More"]})]},t.id)),(0,g.jsxs)("div",{style:{marginTop:"var(--spacing-2xl)",padding:"var(--spacing-lg)",textAlign:"center",color:"var(--subdued-gray)",fontSize:"0.875rem",lineHeight:"1.5"},children:[(0,g.jsxs)("p",{children:["\ud83d\udc3f\ufe0f Built with hugs and squirrels by the team at"," ",(0,g.jsx)("a",{href:"https://developer.confluent.io?utm_source=flink-watermarks-wtf&utm_medium=web",target:"_blank",rel:"noreferrer noopener",style:{color:"var(--accent-purple)",textDecoration:"none",fontWeight:"500"},children:"Confluent Developer"})]}),(0,g.jsx)("p",{style:{marginTop:"var(--spacing-sm)",fontSize:"0.75rem"},children:"Apache and Apache Flink are trademarks of the Apache Software Foundation in the United States and/or other countries."})]})]})]})},hi=e=>{let{isVisible:t,content:n,onClose:r,title:i="Information"}=e;return t?(0,g.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",padding:"var(--spacing-sm)",backdropFilter:"blur(4px)"},onClick:r,children:(0,g.jsxs)("div",{className:"card",style:{maxWidth:"800px",maxHeight:"80vh",width:"100%",overflow:"hidden",display:"flex",flexDirection:"column",boxShadow:"var(--shadow-strong)",border:"1px solid rgba(115, 103, 240, 0.1)"},onClick:e=>e.stopPropagation(),children:[(0,g.jsxs)("div",{style:{padding:"var(--spacing-lg)",borderBottom:"1px solid rgba(115, 103, 240, 0.1)",display:"flex",justifyContent:"space-between",alignItems:"center",background:"linear-gradient(135deg, rgba(115, 103, 240, 0.3) 0%, rgba(0, 207, 232, 0.3) 100%)",color:"var(--accent-purple)"},children:[(0,g.jsx)("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:"600",letterSpacing:"-0.01em"},children:i}),(0,g.jsx)("button",{onClick:r,style:{background:"rgba(255, 255, 255, 0.2)",border:"none",fontSize:"20px",color:"var(--accent-purple)",cursor:"pointer",padding:"var(--spacing-xs)",borderRadius:"var(--radius-sm)",display:"flex",alignItems:"center",justifyContent:"center",width:"32px",height:"32px",transition:"all 0.3s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.3)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.2)"},"aria-label":"Close overlay",children:"\xd7"})]}),(0,g.jsx)("div",{style:{padding:"var(--spacing-xl)",overflowY:"auto",flex:1,textAlign:"left",color:"var(--text-gray)",lineHeight:"1.6"},children:(0,g.jsx)(li,{content:n})}),(0,g.jsx)("div",{style:{padding:"var(--spacing-md) var(--spacing-xl)",borderTop:"1px solid rgba(115, 103, 240, 0.1)",background:"var(--light-gray-bg)",display:"flex",justifyContent:"flex-end"},children:(0,g.jsx)("button",{className:"btn-primary",onClick:r,style:{fontSize:"0.875rem",padding:"10px 20px"},children:"Close"})})]})}):null};class pi extends r.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return e.message&&e.message.includes("ResizeObserver")?{hasError:!1}:{hasError:!0}}componentDidCatch(e,t){e.message&&e.message.includes("ResizeObserver")?console.warn("ResizeObserver error suppressed:",e.message):console.error("ErrorBoundary caught an error:",e,t)}render(){return this.state.hasError?(0,g.jsxs)("div",{style:{padding:"20px",color:"white",backgroundColor:"#333",textAlign:"center"},children:[(0,g.jsx)("h2",{children:"Something went wrong."}),(0,g.jsx)("p",{children:"Please refresh the page to try again."})]}):this.props.children}}const fi=pi;const gi=function(){const[e,t]=(0,r.useState)([!0,!1,!1]),[n,i]=(0,r.useState)(1e5),[o,a]=(0,r.useState)(1e3),[s,l]=(0,r.useState)(5),[u,c]=(0,r.useState)("operator"),[d,h]=(0,r.useState)(!1),[p,f]=(0,r.useState)(!1),[m,v]=(0,r.useState)([!1,!0,!0]),[y,b]=(0,r.useState)(!0),[w,x]=(0,r.useState)(null),[k,S]=(0,r.useState)(!1),[E,C]=(0,r.useState)(""),[P,T]=(0,r.useState)("Information"),[I,A]=(0,r.useState)(null),[R,F]=(0,r.useState)(1),[L,D]=(0,r.useState)(0),j=(0,r.useRef)(null),[N,z]=(0,r.useState)(window.innerWidth),B=(0,r.useRef)(null);(0,r.useEffect)(()=>{const e=()=>{B.current&&clearTimeout(B.current),B.current=setTimeout(()=>{const e=window.innerWidth;z(e)},100)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e),B.current&&clearTimeout(B.current)}},[]);const{isPortrait:$,isMobile:H,isLandscapeMobile:W,isTablet:U}=_(),V=(0,r.useCallback)(e=>(e=>O()[e-1]||"welcome")(e),[]),q=(0,r.useCallback)(e=>(e=>{const t=O().indexOf(e);return-1===t?-1:t+1})(e)-1,[]),Y=(0,r.useCallback)(e=>{const t=new URL(window.location.href);if(0===e)t.searchParams.delete("slide");else{const n=V(e);t.searchParams.set("slide",n)}window.history.replaceState({},"",t.toString())},[V]),G=(0,r.useCallback)(()=>{const e=new URLSearchParams(window.location.search).get("slide");if(!e)return 1;const t=q(e);return-1===t?1:t+1},[q]);(0,r.useEffect)(()=>{const e=G();F(e)},[G]),(0,r.useEffect)(()=>{const e=console.error;console.error=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.join(" ").includes("ResizeObserver loop completed with undelivered notifications")||e.apply(console,n)};const t=e=>{if(e.message&&e.message.includes("ResizeObserver loop completed with undelivered notifications"))return e.preventDefault(),e.stopImmediatePropagation(),!1},n=e=>{if(e.reason&&e.reason.message&&e.reason.message.includes("ResizeObserver"))return e.preventDefault(),!1},r=e=>{if(e.message&&e.message.includes("ResizeObserver"))return e.preventDefault(),e.stopImmediatePropagation(),!1};return window.addEventListener("error",t),window.addEventListener("error",r),window.addEventListener("unhandledrejection",n),()=>{console.error=e,window.removeEventListener("error",t),window.removeEventListener("error",r),window.removeEventListener("unhandledrejection",n)}},[]);const Q=(0,r.useCallback)((e,n)=>{t(t=>{const r=[...t];return r[e]=n,r})},[]),K=(0,r.useCallback)(e=>{i(e)},[]),X=(0,r.useCallback)(e=>{a(e)},[]),J=(0,r.useCallback)(e=>{l(e)},[]),Z=(0,r.useCallback)(e=>{c(e)},[]),ee=(0,r.useCallback)(e=>{h(e)},[]),te=(0,r.useCallback)(e=>{f(e),D(e=>e+1)},[]),ne=(0,r.useCallback)((e,n)=>{v(t=>{const r=[...t];return r[e]=n,r}),n&&t(t=>{const n=[...t];return n[e]=!1,n})},[]),re=(0,r.useCallback)(e=>{b(e)},[]),ie=(0,r.useCallback)(()=>{i(1e5)},[]),oe=(0,r.useCallback)(e=>{x(w===e?null:e)},[w]),ae=(0,r.useCallback)(()=>{j.current&&j.current.highlightClosestParticle()},[]),se=(0,r.useCallback)(()=>{j.current&&j.current.resetSimulation()},[]),le=(0,r.useCallback)(()=>{j.current&&j.current.clearHighlightedParticle()},[]),ue=(0,r.useCallback)((e,t,n)=>{C(e),T(t||"Information"),S(!0),n&&A(n)},[]),ce=(0,r.useCallback)(()=>{S(!1)},[]),de=(0,r.useCallback)(()=>{I&&S(!0)},[I]);return $&&(H||U)?(0,g.jsx)(fi,{children:(0,g.jsxs)("div",{className:"App mobile-portrait",style:{display:"flex",flexDirection:"column",height:"100vh",overflow:"hidden",position:"relative"},children:[(0,g.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(135deg, rgba(115, 103, 240, 0.01) 0%, rgba(0, 207, 232, 0.01) 100%)",zIndex:0}}),(0,g.jsx)("div",{style:{width:"100%",height:"100%",position:"relative",zIndex:1},children:(0,g.jsx)(di,{onProducerToggle:Q,onThresholdChange:K,onwatermarkDelayChange:X,onRateChange:J,onTabChange:Z,onShowLineChartToggle:ee,onPauseSet:te,onHideProducerSet:ne,onHideWindowsSet:re,onSpotlightProducerSet:oe,onHighlightClosestParticle:ae,onSetWindowSizeTo100000:ie,onShowOverlay:ue,onHideOverlay:ce,onReopenOverlay:de,onResetSimulation:se,onClearHighlightedParticle:le,currentThreshold:n,currentwatermarkDelay:o,currentRate:s,currentTab:u,showLineChart:d,producerStates:e,hideProducers:m,isPaused:p,hideWindows:y,spotlightProducer:w,lastOverlayStepId:I,currentSlide:R,onSlideChange:Y,isPortrait:$,isMobile:H,isTablet:U,windowWidth:N})}),(0,g.jsx)(hi,{isVisible:k,content:E,title:P,onClose:ce}),(0,g.jsxs)("footer",{className:"app-footer",role:"contentinfo","aria-label":"Site footer",children:[(0,g.jsx)("div",{className:"footer-accent"}),(0,g.jsxs)("div",{className:"footer-content",children:[(0,g.jsxs)("div",{className:"footer-left",children:[(0,g.jsx)("span",{children:"\ud83d\udc3f\ufe0f Built with hugs and squirrels by the team at"}),(0,g.jsx)("a",{href:"https://developer.confluent.io?utm_source=flink-watermarks-wtf&utm_medium=web",target:"_blank",rel:"noreferrer noopener",children:"Confluent Developer"})]}),(0,g.jsx)("div",{className:"footer-right",children:(0,g.jsx)("span",{children:"Apache and Apache Flink are trademarks of the Apache Software Foundation in the United States and/or other countries."})})]})]})]})}):W?(0,g.jsx)(fi,{children:(0,g.jsxs)("div",{className:"App mobile-landscape",style:{display:"flex",height:"100vh",overflow:"hidden",position:"relative"},children:[(0,g.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(135deg, rgba(115, 103, 240, 0.01) 0%, rgba(0, 207, 232, 0.01) 100%)",zIndex:0}}),(0,g.jsx)("div",{style:{width:"70%",height:"100%",position:"relative",zIndex:1},children:(0,g.jsx)(M,{ref:j,producerStates:e,thresholdSetting:n,watermarkDelay:o,rate:s,activeTab:u,showLineChart:!1,isPaused:p,pauseUpdateCounter:L,hideProducers:m,hideWindows:y,spotlightProducer:w,overlayVisible:k,overlayContent:E,overlayTitle:P,onHighlightClosestParticle:ae,onResetSimulation:se,onShowOverlay:ue,onHideOverlay:ce,windowWidth:N})}),(0,g.jsx)("div",{style:{width:"30%",height:"100%",position:"relative",zIndex:1},children:(0,g.jsx)(ci,{onProducerToggle:Q,onThresholdChange:K,onwatermarkDelayChange:X,onRateChange:J,onTabChange:Z,onShowLineChartToggle:ee,onPauseSet:te,onHideProducerSet:ne,onHideWindowsSet:re,onSpotlightProducerSet:oe,onHighlightClosestParticle:ae,onSetWindowSizeTo100000:ie,onShowOverlay:ue,onHideOverlay:ce,onReopenOverlay:de,onResetSimulation:se,onClearHighlightedParticle:le,currentThreshold:n,currentwatermarkDelay:o,currentRate:s,currentTab:u,showLineChart:!1,producerStates:e,hideProducers:m,isPaused:p,hideWindows:y,spotlightProducer:w,lastOverlayStepId:I,currentSlide:R,onSlideChange:Y,isPortrait:$,isMobile:H,isTablet:U,windowWidth:N})}),(0,g.jsx)(hi,{isVisible:k,content:E,title:P,onClose:ce}),(0,g.jsxs)("footer",{className:"app-footer",role:"contentinfo","aria-label":"Site footer",children:[(0,g.jsx)("div",{className:"footer-accent"}),(0,g.jsxs)("div",{className:"footer-content",children:[(0,g.jsxs)("div",{className:"footer-left",children:[(0,g.jsx)("span",{children:"\ud83d\udc3f\ufe0f Built with hugs and squirrels by the team at"}),(0,g.jsx)("a",{href:"https://developer.confluent.io?utm_source=flink-watermarks-wtf&utm_medium=web",target:"_blank",rel:"noreferrer noopener",children:"Confluent Developer"})]}),(0,g.jsx)("div",{className:"footer-right",children:(0,g.jsx)("span",{children:"Apache and Apache Flink are trademarks of the Apache Software Foundation in the United States and/or other countries."})})]})]})]})}):(0,g.jsx)(fi,{children:(0,g.jsxs)("div",{className:"App desktop",style:{display:"flex",height:"100vh",overflow:"hidden",position:"relative"},children:[(0,g.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(135deg, rgba(115, 103, 240, 0.02) 0%, rgba(0, 207, 232, 0.02) 100%)",zIndex:0}}),(0,g.jsx)("div",{style:{width:"66.67%",height:"100%",position:"relative",zIndex:1},children:(0,g.jsx)(M,{ref:j,producerStates:e,thresholdSetting:n,watermarkDelay:o,rate:s,activeTab:u,showLineChart:d,isPaused:p,pauseUpdateCounter:L,hideProducers:m,hideWindows:y,spotlightProducer:w,overlayVisible:k,overlayContent:E,overlayTitle:P,onHighlightClosestParticle:ae,onResetSimulation:se,onShowOverlay:ue,onHideOverlay:ce,windowWidth:N})}),(0,g.jsx)("div",{style:{width:"33.33%",height:"100%",position:"relative",zIndex:1},children:(0,g.jsx)(ci,{onProducerToggle:Q,onThresholdChange:K,onwatermarkDelayChange:X,onRateChange:J,onTabChange:Z,onShowLineChartToggle:ee,onPauseSet:te,onHideProducerSet:ne,onHideWindowsSet:re,onSpotlightProducerSet:oe,onHighlightClosestParticle:ae,onSetWindowSizeTo100000:ie,onShowOverlay:ue,onHideOverlay:ce,onReopenOverlay:de,onResetSimulation:se,onClearHighlightedParticle:le,currentThreshold:n,currentwatermarkDelay:o,currentRate:s,currentTab:u,showLineChart:d,producerStates:e,hideProducers:m,isPaused:p,hideWindows:y,spotlightProducer:w,lastOverlayStepId:I,currentSlide:R,onSlideChange:Y})}),(0,g.jsx)(hi,{isVisible:k,content:E,title:P,onClose:ce}),(0,g.jsxs)("footer",{className:"app-footer",role:"contentinfo","aria-label":"Site footer",children:[(0,g.jsx)("div",{className:"footer-accent"}),(0,g.jsxs)("div",{className:"footer-content",children:[(0,g.jsxs)("div",{className:"footer-left",children:[(0,g.jsx)("span",{children:"\ud83d\udc3f\ufe0f Built with hugs and squirrels by the team at"}),(0,g.jsx)("a",{href:"https://developer.confluent.io?utm_source=flink-watermarks-wtf&utm_medium=web",target:"_blank",rel:"noreferrer noopener",children:"Confluent Developer"})]}),(0,g.jsx)("div",{className:"footer-right",children:(0,g.jsx)("span",{children:"Apache and Apache Flink are trademarks of the Apache Software Foundation in the United States and/or other countries."})})]})]})]})})};var mi="undefined"!=typeof window?window:void 0,vi="undefined"!=typeof globalThis?globalThis:mi,yi=Array.prototype,bi=yi.forEach,wi=yi.indexOf,xi=null==vi?void 0:vi.navigator,_i=null==vi?void 0:vi.document,ki=null==vi?void 0:vi.location,Si=null==vi?void 0:vi.fetch,Ei=null!=vi&&vi.XMLHttpRequest&&"withCredentials"in new vi.XMLHttpRequest?vi.XMLHttpRequest:void 0,Ci=null==vi?void 0:vi.AbortController,Pi=null==xi?void 0:xi.userAgent,Ti=null!=mi?mi:{},Ii={DEBUG:!1,LIB_VERSION:"1.268.6"};function Ai(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function Mi(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){Ai(o,r,i,a,s,"next",e)}function s(e){Ai(o,r,i,a,s,"throw",e)}a(void 0)})}}function Ri(){return Ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ri.apply(null,arguments)}function Fi(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}var Li=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"];function Di(e,t){return-1!==e.indexOf(t)}var Oi=function(e){return e.trim()},ji=function(e){return e.replace(/^\$/,"")},Ni=Array.isArray,zi=Object.prototype,Bi=zi.hasOwnProperty,$i=zi.toString,Hi=Ni||function(e){return"[object Array]"===$i.call(e)},Wi=e=>"function"==typeof e,Ui=e=>e===Object(e)&&!Hi(e),Vi=e=>{if(Ui(e)){for(var t in e)if(Bi.call(e,t))return!1;return!0}return!1},qi=e=>void 0===e,Yi=e=>"[object String]"==$i.call(e),Gi=e=>Yi(e)&&0===e.trim().length,Qi=e=>null===e,Ki=e=>qi(e)||Qi(e),Xi=e=>"[object Number]"==$i.call(e),Ji=e=>"[object Boolean]"===$i.call(e),Zi=e=>Di(Li,e);function eo(e){return null===e||"object"!=typeof e}function to(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"}function no(e){return!qi(Event)&&function(e,t){try{return e instanceof t}catch(e){return!1}}(e,Event)}var ro=[!0,"true",1,"1","yes"],io=e=>Di(ro,e),oo=[!1,"false",0,"0","no"];function ao(e,t,n,r,i){return t>n&&(r.warn("min cannot be greater than max."),t=n),Xi(e)?e>n?(r.warn(" cannot be  greater than max: "+n+". Using max value instead."),n):e<t?(r.warn(" cannot be less than min: "+t+". Using min value instead."),t):e:(r.warn(" must be a number. using max or fallback. max: "+n+", fallback: "+i),ao(i||n,t,n,r))}class so{constructor(e){this.t=e,this.i={},this.o=()=>{Object.keys(this.i).forEach(e=>{var t=this.h(e)+this.m;t>=this.S?delete this.i[e]:this.k(e,t)})},this.h=e=>this.i[String(e)],this.k=(e,t)=>{this.i[String(e)]=t},this.consumeRateLimit=e=>{var t,n,r=null!==(t=this.h(e))&&void 0!==t?t:this.S;if(0===(r=Math.max(r-1,0)))return!0;this.k(e,r);var i=0===r;return i&&(null==(n=this.$)||n.call(this,e)),i},this.$=this.t.$,this.S=ao(this.t.bucketSize,0,100,this.t.P),this.m=ao(this.t.refillRate,0,this.S,this.t.P),this.R=ao(this.t.refillInterval,0,864e5,this.t.P),this.I=setInterval(()=>{this.o()},this.R)}stop(){this.I&&(clearInterval(this.I),this.I=void 0)}}var lo,uo,co,ho=e=>e instanceof Error;function po(e){var t=globalThis._posthogChunkIds;if(t){var n=Object.keys(t);return co&&n.length===uo||(uo=n.length,co=n.reduce((n,r)=>{lo||(lo={});var i=lo[r];if(i)n[i[0]]=i[1];else for(var o=e(r),a=o.length-1;a>=0;a--){var s=o[a],l=null==s?void 0:s.filename,u=t[r];if(l&&u){n[l]=u,lo[r]=[l,u];break}}return n},{})),co}}var fo="?";function go(e,t,n,r){var i={platform:"web:javascript",filename:e,function:"<anonymous>"===t?fo:t,in_app:!0};return qi(n)||(i.lineno=n),qi(r)||(i.colno=r),i}var mo=(e,t)=>{var n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:fo,n?"safari-extension:"+t:"safari-web-extension:"+t]:[e,t]},vo=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,yo=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,bo=/\((\S*)(?::(\d+))(?::(\d+))\)/,wo=e=>{var t=vo.exec(e);if(t){var[,n,r,i]=t;return go(n,fo,+r,+i)}var o=yo.exec(e);if(o){if(o[2]&&0===o[2].indexOf("eval")){var a=bo.exec(o[2]);a&&(o[2]=a[1],o[3]=a[2],o[4]=a[3])}var[s,l]=mo(o[1]||fo,o[2]);return go(l,s,o[3]?+o[3]:void 0,o[4]?+o[4]:void 0)}},xo=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,_o=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,ko=e=>{var t=xo.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){var n=_o.exec(t[3]);n&&(t[1]=t[1]||"eval",t[3]=n[1],t[4]=n[2],t[5]="")}var r=t[3],i=t[1]||fo;return[i,r]=mo(i,r),go(r,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},So=/\(error: (.*)\)/;class Eo{constructor(e,t,n){void 0===e&&(e=[]),void 0===t&&(t=[]),void 0===n&&(n=[]),this.coercers=e,this.modifiers=n,this.stackParser=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){void 0===n&&(n=0);for(var r=[],i=e.split("\n"),o=n;o<i.length;o++){var a=i[o];if(!(a.length>1024)){var s=So.test(a)?a.replace(So,"$1"):a;if(!s.match(/\S*Error: /)){for(var l of t){var u=l(s);if(u){r.push(u);break}}if(r.length>=50)break}}}return function(e){if(!e.length)return[];var t=Array.from(e);return t.reverse(),t.slice(0,50).map(e=>{return Ri({},e,{filename:e.filename||(n=t,n[n.length-1]||{}).filename,function:e.function||fo});var n})}(r)}}(...t)}buildFromUnknown(e,t){void 0===t&&(t={});var n=t&&t.mechanism||{handled:!0,type:"generic"},r=this.buildCoercingContext(n,t,0).apply(e),i=this.buildParsingContext(),o=this.parseStacktrace(r,i);return{$exception_list:this.convertToExceptionList(o,n),$exception_level:"error"}}modifyFrames(e){var t=this;return Mi(function*(){for(var n of e)n.stacktrace&&n.stacktrace.frames&&Hi(n.stacktrace.frames)&&(n.stacktrace.frames=yield t.applyModifiers(n.stacktrace.frames));return e})()}coerceFallback(e){var t;return{type:"Error",value:"Unknown error",stack:null==(t=e.syntheticException)?void 0:t.stack,synthetic:!0}}parseStacktrace(e,t){var n,r;return null!=e.cause&&(n=this.parseStacktrace(e.cause,t)),""!=e.stack&&null!=e.stack&&(r=this.applyChunkIds(this.stackParser(e.stack,e.synthetic?1:0),t.chunkIdMap)),Ri({},e,{cause:n,stack:r})}applyChunkIds(e,t){return e.map(e=>(e.filename&&t&&(e.chunk_id=t[e.filename]),e))}applyCoercers(e,t){for(var n of this.coercers)if(n.match(e))return n.coerce(e,t);return this.coerceFallback(t)}applyModifiers(e){var t=this;return Mi(function*(){var n=e;for(var r of t.modifiers)n=yield r(n);return n})()}convertToExceptionList(e,t){var n,r,i,o={type:e.type,value:e.value,mechanism:{type:null!==(n=t.type)&&void 0!==n?n:"generic",handled:null===(r=t.handled)||void 0===r||r,synthetic:null!==(i=e.synthetic)&&void 0!==i&&i}};e.stack&&(o.stacktrace={type:"raw",frames:e.stack});var a=[o];return null!=e.cause&&a.push(...this.convertToExceptionList(e.cause,Ri({},t,{handled:!0}))),a}buildParsingContext(){return{chunkIdMap:po(this.stackParser)}}buildCoercingContext(e,t,n){void 0===n&&(n=0);var r=(n,r)=>{if(r<=4){var i=this.buildCoercingContext(e,t,r);return this.applyCoercers(n,i)}};return Ri({},t,{syntheticException:0==n?t.syntheticException:void 0,mechanism:e,apply:e=>r(e,n),next:e=>r(e,n+1)})}}class Co{match(e){return this.isDOMException(e)||this.isDOMError(e)}coerce(e,t){var n=Yi(e.stack);return{type:this.getType(e),value:this.getValue(e),stack:n?e.stack:void 0,cause:e.cause?t.next(e.cause):void 0,synthetic:!1}}getType(e){return this.isDOMError(e)?"DOMError":"DOMException"}getValue(e){var t=e.name||(this.isDOMError(e)?"DOMError":"DOMException");return e.message?t+": "+e.message:t}isDOMException(e){return to(e,"DOMException")}isDOMError(e){return to(e,"DOMError")}}class Po{match(e){return(e=>e instanceof Error)(e)}coerce(e,t){return{type:this.getType(e),value:this.getMessage(e,t),stack:this.getStack(e),cause:e.cause?t.next(e.cause):void 0,synthetic:!1}}getType(e){return e.name||e.constructor.name}getMessage(e,t){var n=e.message;return n.error&&"string"==typeof n.error.message?String(n.error.message):String(n)}getStack(e){return e.stacktrace||e.stack||void 0}}class To{constructor(){}match(e){return to(e,"ErrorEvent")&&null!=e.error}coerce(e,t){var n;return t.apply(e.error)||{type:"ErrorEvent",value:e.message,stack:null==(n=t.syntheticException)?void 0:n.stack,synthetic:!0}}}var Io=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;class Ao{match(e){return"string"==typeof e}coerce(e,t){var n,[r,i]=this.getInfos(e);return{type:null!=r?r:"Error",value:null!=i?i:e,stack:null==(n=t.syntheticException)?void 0:n.stack,synthetic:!0}}getInfos(e){var t="Error",n=e,r=e.match(Io);return r&&(t=r[1],n=r[2]),[t,n]}}var Mo=["fatal","error","warning","log","info","debug"];function Ro(e,t){void 0===t&&(t=40);var n=Object.keys(e);if(n.sort(),!n.length)return"[object has no keys]";for(var r=n.length;r>0;r--){var i=n.slice(0,r).join(", ");if(!(i.length>t))return r===n.length||i.length<=t?i:i.slice(0,t)+"..."}return""}class Fo{match(e){return"object"==typeof e&&null!==e}coerce(e,t){var n,r=this.getErrorPropertyFromObject(e);return r?t.apply(r):{type:this.getType(e),value:this.getValue(e),stack:null==(n=t.syntheticException)?void 0:n.stack,level:this.isSeverityLevel(e.level)?e.level:"error",synthetic:!0}}getType(e){return no(e)?e.constructor.name:"Error"}getValue(e){if("name"in e&&"string"==typeof e.name){var t="'"+e.name+"' captured as exception";return"message"in e&&"string"==typeof e.message&&(t+=" with message: '"+e.message+"'"),t}if("message"in e&&"string"==typeof e.message)return e.message;var n=this.getObjectClassName(e);return(n&&"Object"!==n?"'"+n+"'":"Object")+" captured as exception with keys: "+Ro(e)}isSeverityLevel(e){return Yi(e)&&!Gi(e)&&Mo.indexOf(e)>=0}getErrorPropertyFromObject(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=e[t];if(ho(n))return n}}getObjectClassName(e){try{var t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){return}}}class Lo{match(e){return no(e)}coerce(e,t){var n,r=e.constructor.name;return{type:r,value:r+" captured as exception with keys: "+Ro(e),stack:null==(n=t.syntheticException)?void 0:n.stack,synthetic:!0}}}class Do{match(e){return eo(e)}coerce(e,t){var n;return{type:"Error",value:"Primitive value captured as exception: "+String(e),stack:null==(n=t.syntheticException)?void 0:n.stack,synthetic:!0}}}class Oo{match(e){return to(e,"PromiseRejectionEvent")}coerce(e,t){var n,r=this.getUnhandledRejectionReason(e);return eo(r)?{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(r),stack:null==(n=t.syntheticException)?void 0:n.stack,synthetic:!0}:t.apply(r)}getUnhandledRejectionReason(e){if(eo(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch(e){}return e}}var jo=e=>{var t={T:function(t){if(mi&&(Ii.DEBUG||Ti.POSTHOG_DEBUG)&&!qi(mi.console)&&mi.console){for(var n=("__rrweb_original__"in mi.console[t]?mi.console[t].__rrweb_original__:mi.console[t]),r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];n(e,...i)}},info:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.T("log",...n)},warn:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.T("warn",...n)},error:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.T("error",...n)},critical:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];console.error(e,...n)},uninitializedWarning:e=>{t.error("You must initialize PostHog before calling "+e)},createLogger:t=>jo(e+" "+t)};return t},No=jo("[PostHog.js]"),zo=No.createLogger,Bo=zo("[ExternalScriptsLoader]"),$o=(e,t,n)=>{if(e.config.disable_external_dependency_loading)return Bo.warn(t+" was requested but loading of external scripts is disabled."),n("Loading of external scripts is disabled");var r=null==_i?void 0:_i.querySelectorAll("script");if(r)for(var i,o=function(){if(r[a].src===t){var e=r[a];return e.__posthog_loading_callback_fired?{v:n()}:(e.addEventListener("load",t=>{e.__posthog_loading_callback_fired=!0,n(void 0,t)}),e.onerror=e=>n(e),{v:void 0})}},a=0;a<r.length;a++)if(i=o())return i.v;var s=()=>{if(!_i)return n("document not found");var r=_i.createElement("script");if(r.type="text/javascript",r.crossOrigin="anonymous",r.src=t,r.onload=e=>{r.__posthog_loading_callback_fired=!0,n(void 0,e)},r.onerror=e=>n(e),e.config.prepare_external_dependency_script&&(r=e.config.prepare_external_dependency_script(r)),!r)return n("prepare_external_dependency_script returned null");var i,o=_i.querySelectorAll("body > script");o.length>0?null==(i=o[0].parentNode)||i.insertBefore(r,o[0]):_i.body.appendChild(r)};null!=_i&&_i.body?s():null==_i||_i.addEventListener("DOMContentLoaded",s)};Ti.__PosthogExtensions__=Ti.__PosthogExtensions__||{},Ti.__PosthogExtensions__.loadExternalDependency=(e,t,n)=>{var r="/static/"+t+".js?v="+e.version;if("remote-config"===t&&(r="/array/"+e.config.token+"/config.js"),"toolbar"===t){var i=3e5;r=r+"&t="+Math.floor(Date.now()/i)*i}var o=e.requestRouter.endpointFor("assets",r);$o(e,o,n)},Ti.__PosthogExtensions__.loadSiteApp=(e,t,n)=>{var r=e.requestRouter.endpointFor("api",t);$o(e,r,n)};var Ho={};function Wo(e,t,n){if(Hi(e))if(bi&&e.forEach===bi)e.forEach(t,n);else if("length"in e&&e.length===+e.length)for(var r=0,i=e.length;r<i;r++)if(r in e&&t.call(n,e[r],r)===Ho)return}function Uo(e,t,n){if(!Ki(e)){if(Hi(e))return Wo(e,t,n);if((e=>e instanceof FormData)(e)){for(var r of e.entries())if(t.call(n,r[1],r[0])===Ho)return}else for(var i in e)if(Bi.call(e,i)&&t.call(n,e[i],i)===Ho)return}}var Vo=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Wo(n,function(t){for(var n in t)void 0!==t[n]&&(e[n]=t[n])}),e},qo=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Wo(n,function(t){Wo(t,function(t){e.push(t)})}),e};function Yo(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r}var Go=function(e){try{return e()}catch(e){return}},Qo=function(e){return function(){try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(this,n)}catch(e){No.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),No.critical(e)}}},Ko=function(e){var t={};return Uo(e,function(e,n){(Yi(e)&&e.length>0||Xi(e))&&(t[n]=e)}),t};var Xo=["herokuapp.com","vercel.app","netlify.app"];function Jo(e){var t=null==e?void 0:e.hostname;if(!Yi(t))return!1;var n=t.split(".").slice(-2).join(".");for(var r of Xo)if(n===r)return!1;return!0}function Zo(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}function ea(e,t,n,r){var{capture:i=!1,passive:o=!0}=null!=r?r:{};null==e||e.addEventListener(t,n,{capture:i,passive:o})}var ta="$people_distinct_id",na="__alias",ra="__timers",ia="$autocapture_disabled_server_side",oa="$heatmaps_enabled_server_side",aa="$exception_capture_enabled_server_side",sa="$error_tracking_suppression_rules",la="$error_tracking_capture_extension_exceptions",ua="$web_vitals_enabled_server_side",ca="$dead_clicks_enabled_server_side",da="$web_vitals_allowed_metrics",ha="$session_recording_remote_config",pa="$session_recording_enabled_server_side",fa="$console_log_recording_enabled_server_side",ga="$session_recording_network_payload_capture",ma="$session_recording_masking",va="$session_recording_canvas_recording",ya="$replay_sample_rate",ba="$replay_minimum_duration",wa="$replay_script_config",xa="$sesid",_a="$session_is_sampled",ka="$session_recording_url_trigger_activated_session",Sa="$session_recording_event_trigger_activated_session",Ea="$enabled_feature_flags",Ca="$early_access_features",Pa="$feature_flag_details",Ta="$stored_person_properties",Ia="$stored_group_properties",Aa="$surveys",Ma="$surveys_activated",Ra="$flag_call_reported",Fa="$user_state",La="$client_session_props",Da="$capture_rate_limit",Oa="$initial_campaign_params",ja="$initial_referrer_info",Na="$initial_person_info",za="$epp",Ba="__POSTHOG_TOOLBAR__",$a="$posthog_cookieless",Ha=[ta,na,"__cmpns",ra,pa,oa,xa,Ea,sa,Fa,Ca,Pa,Ia,Ta,Aa,Ra,La,Da,Oa,ja,za,Na];function Wa(e){return e instanceof Element&&(e.id===Ba||!(null==e.closest||!e.closest(".toolbar-global-fade-container")))}function Ua(e){return!!e&&1===e.nodeType}function Va(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function qa(e){return!!e&&3===e.nodeType}function Ya(e){return!!e&&11===e.nodeType}function Ga(e){return e?Oi(e).split(/\s+/):[]}function Qa(e){var t=null==mi?void 0:mi.location.href;return!!(t&&e&&e.some(e=>t.match(e)))}function Ka(e){var t="";switch(typeof e.className){case"string":t=e.className;break;case"object":t=(e.className&&"baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return Ga(t)}function Xa(e){return Ki(e)?null:Oi(e).split(/(\s+)/).filter(e=>fs(e)).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function Ja(e){var t="";return as(e)&&!ss(e)&&e.childNodes&&e.childNodes.length&&Uo(e.childNodes,function(e){var n;qa(e)&&e.textContent&&(t+=null!==(n=Xa(e.textContent))&&void 0!==n?n:"")}),Oi(t)}function Za(e){return qi(e.target)?e.srcElement||null:null!=(t=e.target)&&t.shadowRoot?e.composedPath()[0]||null:e.target||null;var t}var es=["a","button","form","input","select","textarea","label"];function ts(e,t){if(qi(t))return!0;var n,r=function(e){if(t.some(t=>e.matches(t)))return{v:!0}};for(var i of e)if(n=r(i))return n.v;return!1}function ns(e){var t=e.parentNode;return!(!t||!Ua(t))&&t}var rs=[".ph-no-rageclick",".ph-no-capture"],is=e=>!e||Va(e,"html")||!Ua(e),os=(e,t)=>{if(!mi||is(e))return{parentIsUsefulElement:!1,targetElementList:[]};for(var n=!1,r=[e],i=e;i.parentNode&&!Va(i,"body");)if(Ya(i.parentNode))r.push(i.parentNode.host),i=i.parentNode.host;else{var o=ns(i);if(!o)break;if(t||es.indexOf(o.tagName.toLowerCase())>-1)n=!0;else{var a=mi.getComputedStyle(o);a&&"pointer"===a.getPropertyValue("cursor")&&(n=!0)}r.push(o),i=o}return{parentIsUsefulElement:n,targetElementList:r}};function as(e){for(var t=e;t.parentNode&&!Va(t,"body");t=t.parentNode){var n=Ka(t);if(Di(n,"ph-sensitive")||Di(n,"ph-no-capture"))return!1}if(Di(Ka(e),"ph-include"))return!0;var r=e.type||"";if(Yi(r))switch(r.toLowerCase()){case"hidden":case"password":return!1}var i=e.name||e.id||"";return!Yi(i)||!/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(i.replace(/[^a-zA-Z0-9]/g,""))}function ss(e){return!!(Va(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||Va(e,"select")||Va(e,"textarea")||"true"===e.getAttribute("contenteditable"))}var ls="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",us=new RegExp("^(?:"+ls+")$"),cs=new RegExp(ls),ds="\\d{3}-?\\d{2}-?\\d{4}",hs=new RegExp("^("+ds+")$"),ps=new RegExp("("+ds+")");function fs(e,t){if(void 0===t&&(t=!0),Ki(e))return!1;if(Yi(e)){if(e=Oi(e),(t?us:cs).test((e||"").replace(/[- ]/g,"")))return!1;if((t?hs:ps).test(e))return!1}return!0}function gs(e){var t=Ja(e);return fs(t=(t+" "+ms(e)).trim())?t:""}function ms(e){var t="";return e&&e.childNodes&&e.childNodes.length&&Uo(e.childNodes,function(e){var n;if(e&&"span"===(null==(n=e.tagName)?void 0:n.toLowerCase()))try{var r=Ja(e);t=(t+" "+r).trim(),e.childNodes&&e.childNodes.length&&(t=(t+" "+ms(e)).trim())}catch(e){No.error("[AutoCapture]",e)}}),t}function vs(e){return function(e){var t=e.map(e=>{var t,n,r="";if(e.tag_name&&(r+=e.tag_name),e.attr_class)for(var i of(e.attr_class.sort(),e.attr_class))r+="."+i.replace(/"/g,"");var o=Ri({},e.text?{text:e.text}:{},{"nth-child":null!==(t=e.nth_child)&&void 0!==t?t:0,"nth-of-type":null!==(n=e.nth_of_type)&&void 0!==n?n:0},e.href?{href:e.href}:{},e.attr_id?{attr_id:e.attr_id}:{},e.attributes),a={};return Yo(o).sort((e,t)=>{var[n]=e,[r]=t;return n.localeCompare(r)}).forEach(e=>{var[t,n]=e;return a[ys(t.toString())]=ys(n.toString())}),(r+=":")+Yo(a).map(e=>{var[t,n]=e;return t+'="'+n+'"'}).join("")});return t.join(";")}(function(e){return e.map(e=>{var t,n,r={text:null==(t=e.$el_text)?void 0:t.slice(0,400),tag_name:e.tag_name,href:null==(n=e.attr__href)?void 0:n.slice(0,2048),attr_class:bs(e),attr_id:e.attr__id,nth_child:e.nth_child,nth_of_type:e.nth_of_type,attributes:{}};return Yo(e).filter(e=>{var[t]=e;return 0===t.indexOf("attr__")}).forEach(e=>{var[t,n]=e;return r.attributes[t]=n}),r})}(e))}function ys(e){return e.replace(/"|\\"/g,'\\"')}function bs(e){var t=e.attr__class;return t?Hi(t)?t:Ga(t):void 0}class ws{constructor(){this.clicks=[]}isRageClick(e,t,n){var r=this.clicks[this.clicks.length-1];if(r&&Math.abs(e-r.x)+Math.abs(t-r.y)<30&&n-r.timestamp<1e3){if(this.clicks.push({x:e,y:t,timestamp:n}),3===this.clicks.length)return!0}else this.clicks=[{x:e,y:t,timestamp:n}];return!1}}var xs="$copy_autocapture",_s=function(e){return e.GZipJS="gzip-js",e.Base64="base64",e}({}),ks=["localhost","127.0.0.1"],Ss=e=>{var t=null==_i?void 0:_i.createElement("a");return qi(t)?null:(t.href=e,t)},Es=function(e,t){for(var n,r=((e.split("#")[0]||"").split(/\?(.*)/)[1]||"").replace(/^\?+/g,"").split("&"),i=0;i<r.length;i++){var o=r[i].split("=");if(o[0]===t){n=o;break}}if(!Hi(n)||n.length<2)return"";var a=n[1];try{a=decodeURIComponent(a)}catch(e){No.error("Skipping decoding for malformed query param: "+a)}return a.replace(/\+/g," ")},Cs=function(e,t,n){if(!e||!t||!t.length)return e;for(var r=e.split("#"),i=r[0]||"",o=r[1],a=i.split("?"),s=a[1],l=a[0],u=(s||"").split("&"),c=[],d=0;d<u.length;d++){var h=u[d].split("=");Hi(h)&&(t.includes(h[0])?c.push(h[0]+"="+n):c.push(u[d]))}var p=l;return null!=s&&(p+="?"+c.join("&")),null!=o&&(p+="#"+o),p},Ps=function(e,t){var n=e.match(new RegExp(t+"=([^&]*)"));return n?n[1]:null},Ts=zo("[AutoCapture]");function Is(e,t){return t.length>e?t.slice(0,e)+"...":t}function As(e){if(e.previousElementSibling)return e.previousElementSibling;var t=e;do{t=t.previousSibling}while(t&&!Ua(t));return t}function Ms(e,t){for(var n,r,{e:i,maskAllElementAttributes:o,maskAllText:a,elementAttributeIgnoreList:s,elementsChainAsString:l}=t,u=[e],c=e;c.parentNode&&!Va(c,"body");)Ya(c.parentNode)?(u.push(c.parentNode.host),c=c.parentNode.host):(u.push(c.parentNode),c=c.parentNode);var d,h=[],p={},f=!1,g=!1;if(Uo(u,e=>{var t=as(e);"a"===e.tagName.toLowerCase()&&(f=e.getAttribute("href"),f=t&&f&&fs(f)&&f),Di(Ka(e),"ph-no-capture")&&(g=!0),h.push(function(e,t,n,r){var i=e.tagName.toLowerCase(),o={tag_name:i};es.indexOf(i)>-1&&!n&&("a"===i.toLowerCase()||"button"===i.toLowerCase()?o.$el_text=Is(1024,gs(e)):o.$el_text=Is(1024,Ja(e)));var a=Ka(e);a.length>0&&(o.classes=a.filter(function(e){return""!==e})),Uo(e.attributes,function(n){var i;if((!ss(e)||-1!==["name","id","class","aria-label"].indexOf(n.name))&&(null==r||!r.includes(n.name))&&!t&&fs(n.value)&&(i=n.name,!Yi(i)||"_ngcontent"!==i.substring(0,10)&&"_nghost"!==i.substring(0,7))){var a=n.value;"class"===n.name&&(a=Ga(a).join(" ")),o["attr__"+n.name]=Is(1024,a)}});for(var s=1,l=1,u=e;u=As(u);)s++,u.tagName===e.tagName&&l++;return o.nth_child=s,o.nth_of_type=l,o}(e,o,a,s));var n=function(e){if(!as(e))return{};var t={};return Uo(e.attributes,function(e){if(e.name&&0===e.name.indexOf("data-ph-capture-attribute")){var n=e.name.replace("data-ph-capture-attribute-",""),r=e.value;n&&r&&fs(r)&&(t[n]=r)}}),t}(e);Vo(p,n)}),g)return{props:{},explicitNoCapture:g};if(a||("a"===e.tagName.toLowerCase()||"button"===e.tagName.toLowerCase()?h[0].$el_text=gs(e):h[0].$el_text=Ja(e)),f){var m,v;h[0].attr__href=f;var y=null==(m=Ss(f))?void 0:m.host,b=null==mi||null==(v=mi.location)?void 0:v.host;y&&b&&y!==b&&(d=f)}return{props:Vo({$event_type:i.type,$ce_version:1},l?{}:{$elements:h},{$elements_chain:vs(h)},null!=(n=h[0])&&n.$el_text?{$el_text:null==(r=h[0])?void 0:r.$el_text}:{},d&&"click"===i.type?{$external_click_url:d}:{},p)}}class Rs{constructor(e){this.C=!1,this.M=null,this.rageclicks=new ws,this.O=!1,this.instance=e,this.F=null}get A(){var e,t,n=Ui(this.instance.config.autocapture)?this.instance.config.autocapture:{};return n.url_allowlist=null==(e=n.url_allowlist)?void 0:e.map(e=>new RegExp(e)),n.url_ignorelist=null==(t=n.url_ignorelist)?void 0:t.map(e=>new RegExp(e)),n}D(){if(this.isBrowserSupported()){if(mi&&_i){var e=e=>{e=e||(null==mi?void 0:mi.event);try{this.j(e)}catch(mi){Ts.error("Failed to capture event",mi)}};if(ea(_i,"submit",e,{capture:!0}),ea(_i,"change",e,{capture:!0}),ea(_i,"click",e,{capture:!0}),this.A.capture_copied_text){var t=e=>{e=e||(null==mi?void 0:mi.event),this.j(e,xs)};ea(_i,"copy",t,{capture:!0}),ea(_i,"cut",t,{capture:!0})}}}else Ts.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this.C&&(this.D(),this.C=!0)}onRemoteConfig(e){e.elementsChainAsString&&(this.O=e.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[ia]:!!e.autocapture_opt_out}),this.M=!!e.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(e){this.F=e}getElementSelectors(e){var t,n=[];return null==(t=this.F)||t.forEach(t=>{var r=null==_i?void 0:_i.querySelectorAll(t);null==r||r.forEach(r=>{e===r&&n.push(t)})}),n}get isEnabled(){var e,t,n=null==(e=this.instance.persistence)?void 0:e.props[ia],r=this.M;if(Qi(r)&&!Ji(n)&&!this.instance.L())return!1;var i=null!==(t=this.M)&&void 0!==t?t:!!n;return!!this.instance.config.autocapture&&!i}j(e,t){if(void 0===t&&(t="$autocapture"),this.isEnabled){var n,r=Za(e);qa(r)&&(r=r.parentNode||null),"$autocapture"===t&&"click"===e.type&&e instanceof MouseEvent&&this.instance.config.rageclick&&null!=(n=this.rageclicks)&&n.isRageClick(e.clientX,e.clientY,(new Date).getTime())&&function(e,t){if(!mi||is(e))return!1;var n,r;if(!1===(n=Ji(t)?!!t&&rs:null!==(r=null==t?void 0:t.css_selector_ignorelist)&&void 0!==r?r:rs))return!1;var{targetElementList:i}=os(e,!1);return!ts(i,n)}(r,this.instance.config.rageclick)&&this.j(e,"$rageclick");var i=t===xs;if(r&&function(e,t,n,r,i){var o,a,s,l;if(void 0===n&&(n=void 0),!mi||is(e))return!1;if(null!=(o=n)&&o.url_allowlist&&!Qa(n.url_allowlist))return!1;if(null!=(a=n)&&a.url_ignorelist&&Qa(n.url_ignorelist))return!1;if(null!=(s=n)&&s.dom_event_allowlist){var u=n.dom_event_allowlist;if(u&&!u.some(e=>t.type===e))return!1}var{parentIsUsefulElement:c,targetElementList:d}=os(e,r);if(!function(e,t){var n=null==t?void 0:t.element_allowlist;if(qi(n))return!0;var r,i=function(e){if(n.some(t=>e.tagName.toLowerCase()===t))return{v:!0}};for(var o of e)if(r=i(o))return r.v;return!1}(d,n))return!1;if(!ts(d,null==(l=n)?void 0:l.css_selector_allowlist))return!1;var h=mi.getComputedStyle(e);if(h&&"pointer"===h.getPropertyValue("cursor")&&"click"===t.type)return!0;var p=e.tagName.toLowerCase();switch(p){case"html":return!1;case"form":return(i||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(i||["change","click"]).indexOf(t.type)>=0;default:return c?(i||["click"]).indexOf(t.type)>=0:(i||["click"]).indexOf(t.type)>=0&&(es.indexOf(p)>-1||"true"===e.getAttribute("contenteditable"))}}(r,e,this.A,i,i?["copy","cut"]:void 0)){var{props:o,explicitNoCapture:a}=Ms(r,{e:e,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.A.element_attribute_ignorelist,elementsChainAsString:this.O});if(a)return!1;var s=this.getElementSelectors(r);if(s&&s.length>0&&(o.$element_selectors=s),t===xs){var l,u=Xa(null==mi||null==(l=mi.getSelection())?void 0:l.toString()),c=e.type||"clipboard";if(!u)return!1;o.$selected_content=u,o.$copy_type=c}return this.instance.capture(t,o),!0}}}isBrowserSupported(){return Wi(null==_i?void 0:_i.querySelectorAll)}}Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return Xi(e)&&isFinite(e)&&Math.floor(e)===e});var Fs="0123456789abcdef";class Ls{constructor(e){if(this.bytes=e,16!==e.length)throw new TypeError("not 128-bit length")}static fromFieldsV7(e,t,n,r){if(!Number.isInteger(e)||!Number.isInteger(t)||!Number.isInteger(n)||!Number.isInteger(r)||e<0||t<0||n<0||r<0||e>0xffffffffffff||t>4095||n>1073741823||r>4294967295)throw new RangeError("invalid field value");var i=new Uint8Array(16);return i[0]=e/Math.pow(2,40),i[1]=e/Math.pow(2,32),i[2]=e/Math.pow(2,24),i[3]=e/Math.pow(2,16),i[4]=e/Math.pow(2,8),i[5]=e,i[6]=112|t>>>8,i[7]=t,i[8]=128|n>>>24,i[9]=n>>>16,i[10]=n>>>8,i[11]=n,i[12]=r>>>24,i[13]=r>>>16,i[14]=r>>>8,i[15]=r,new Ls(i)}toString(){for(var e="",t=0;t<this.bytes.length;t++)e=e+Fs.charAt(this.bytes[t]>>>4)+Fs.charAt(15&this.bytes[t]),3!==t&&5!==t&&7!==t&&9!==t||(e+="-");if(36!==e.length)throw new Error("Invalid UUIDv7 was generated");return e}clone(){return new Ls(this.bytes.slice(0))}equals(e){return 0===this.compareTo(e)}compareTo(e){for(var t=0;t<16;t++){var n=this.bytes[t]-e.bytes[t];if(0!==n)return Math.sign(n)}return 0}}class Ds{constructor(){this.N=0,this.U=0,this.q=new Ns}generate(){var e=this.generateOrAbort();if(qi(e)){this.N=0;var t=this.generateOrAbort();if(qi(t))throw new Error("Could not generate UUID after timestamp reset");return t}return e}generateOrAbort(){var e=Date.now();if(e>this.N)this.N=e,this.B();else{if(!(e+1e4>this.N))return;this.U++,this.U>4398046511103&&(this.N++,this.B())}return Ls.fromFieldsV7(this.N,Math.trunc(this.U/Math.pow(2,30)),this.U&Math.pow(2,30)-1,this.q.nextUint32())}B(){this.U=1024*this.q.nextUint32()+(1023&this.q.nextUint32())}}var Os,js=e=>{if("undefined"!=typeof UUIDV7_DENY_WEAK_RNG&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};mi&&!qi(mi.crypto)&&crypto.getRandomValues&&(js=e=>crypto.getRandomValues(e));class Ns{constructor(){this.H=new Uint32Array(8),this.W=1/0}nextUint32(){return this.W>=this.H.length&&(js(this.H),this.W=0),this.H[this.W++]}}var zs=()=>Bs().toString(),Bs=()=>(Os||(Os=new Ds)).generate(),$s="",Hs=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;var Ws={G:()=>!!_i,V:function(e){No.error("cookieStore error: "+e)},J:function(e){if(_i){try{for(var t=e+"=",n=_i.cookie.split(";").filter(e=>e.length),r=0;r<n.length;r++){for(var i=n[r];" "==i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return decodeURIComponent(i.substring(t.length,i.length))}}catch(e){}return null}},K:function(e){var t;try{t=JSON.parse(Ws.J(e))||{}}catch(e){}return t},Y:function(e,t,n,r,i){if(_i)try{var o="",a="",s=function(e,t){if(t){var n=function(e,t){if(void 0===t&&(t=_i),$s)return $s;if(!t)return"";if(["localhost","127.0.0.1"].includes(e))return"";for(var n=e.split("."),r=Math.min(n.length,8),i="dmn_chk_"+zs();!$s&&r--;){var o=n.slice(r).join("."),a=i+"=1;domain=."+o+";path=/";t.cookie=a+";max-age=3",t.cookie.includes(i)&&(t.cookie=a+";max-age=0",$s=o)}return $s}(e);if(!n){var r=(e=>{var t=e.match(Hs);return t?t[0]:""})(e);r!==n&&No.info("Warning: cookie subdomain discovery mismatch",r,n),n=r}return n?"; domain=."+n:""}return""}(_i.location.hostname,r);if(n){var l=new Date;l.setTime(l.getTime()+24*n*60*60*1e3),o="; expires="+l.toUTCString()}i&&(a="; secure");var u=e+"="+encodeURIComponent(JSON.stringify(t))+o+"; SameSite=Lax; path=/"+s+a;return u.length>3686.4&&No.warn("cookieStore warning: large cookie, len="+u.length),_i.cookie=u,u}catch(e){return}},X:function(e,t){if(null!=_i&&_i.cookie)try{Ws.Y(e,"",-1,t)}catch(e){return}}},Us=null,Vs={G:function(){if(!Qi(Us))return Us;var e=!0;if(qi(mi))e=!1;else try{var t="__mplssupport__";Vs.Y(t,"xyz"),'"xyz"'!==Vs.J(t)&&(e=!1),Vs.X(t)}catch(mi){e=!1}return e||No.error("localStorage unsupported; falling back to cookie store"),Us=e,e},V:function(e){No.error("localStorage error: "+e)},J:function(e){try{return null==mi?void 0:mi.localStorage.getItem(e)}catch(mi){Vs.V(mi)}return null},K:function(e){try{return JSON.parse(Vs.J(e))||{}}catch(e){}return null},Y:function(e,t){try{null==mi||mi.localStorage.setItem(e,JSON.stringify(t))}catch(mi){Vs.V(mi)}},X:function(e){try{null==mi||mi.localStorage.removeItem(e)}catch(mi){Vs.V(mi)}}},qs=["distinct_id",xa,_a,za,Na],Ys=Ri({},Vs,{K:function(e){try{var t={};try{t=Ws.K(e)||{}}catch(e){}var n=Vo(t,JSON.parse(Vs.J(e)||"{}"));return Vs.Y(e,n),n}catch(e){}return null},Y:function(e,t,n,r,i,o){try{Vs.Y(e,t,void 0,void 0,o);var a={};qs.forEach(e=>{t[e]&&(a[e]=t[e])}),Object.keys(a).length&&Ws.Y(e,a,n,r,i,o)}catch(e){Vs.V(e)}},X:function(e,t){try{null==mi||mi.localStorage.removeItem(e),Ws.X(e,t)}catch(mi){Vs.V(mi)}}}),Gs={},Qs={G:function(){return!0},V:function(e){No.error("memoryStorage error: "+e)},J:function(e){return Gs[e]||null},K:function(e){return Gs[e]||null},Y:function(e,t){Gs[e]=t},X:function(e){delete Gs[e]}},Ks=null,Xs={G:function(){if(!Qi(Ks))return Ks;if(Ks=!0,qi(mi))Ks=!1;else try{var e="__support__";Xs.Y(e,"xyz"),'"xyz"'!==Xs.J(e)&&(Ks=!1),Xs.X(e)}catch(mi){Ks=!1}return Ks},V:function(e){No.error("sessionStorage error: ",e)},J:function(e){try{return null==mi?void 0:mi.sessionStorage.getItem(e)}catch(mi){Xs.V(mi)}return null},K:function(e){try{return JSON.parse(Xs.J(e))||null}catch(e){}return null},Y:function(e,t){try{null==mi||mi.sessionStorage.setItem(e,JSON.stringify(t))}catch(mi){Xs.V(mi)}},X:function(e){try{null==mi||mi.sessionStorage.removeItem(e)}catch(mi){Xs.V(mi)}}},Js=function(e){return e[e.PENDING=-1]="PENDING",e[e.DENIED=0]="DENIED",e[e.GRANTED=1]="GRANTED",e}({});class Zs{constructor(e){this._instance=e}get A(){return this._instance.config}get consent(){return this.Z()?Js.DENIED:this.tt}isOptedOut(){return"always"===this.A.cookieless_mode||this.consent===Js.DENIED||this.consent===Js.PENDING&&(this.A.opt_out_capturing_by_default||"on_reject"===this.A.cookieless_mode)}isOptedIn(){return!this.isOptedOut()}isExplicitlyOptedOut(){return this.consent===Js.DENIED}optInOut(e){this.it.Y(this.et,e?1:0,this.A.cookie_expiration,this.A.cross_subdomain_cookie,this.A.secure_cookie)}reset(){this.it.X(this.et,this.A.cross_subdomain_cookie)}get et(){var{token:e,opt_out_capturing_cookie_prefix:t,consent_persistence_name:n}=this._instance.config;return n||(t?t+e:"__ph_opt_in_out_"+e)}get tt(){var e=this.it.J(this.et);return io(e)?Js.GRANTED:Di(oo,e)?Js.DENIED:Js.PENDING}get it(){if(!this.rt){var e=this.A.opt_out_capturing_persistence_type;this.rt="localStorage"===e?Vs:Ws;var t="localStorage"===e?Ws:Vs;t.J(this.et)&&(this.rt.J(this.et)||this.optInOut(io(t.J(this.et))),t.X(this.et,this.A.cross_subdomain_cookie))}return this.rt}Z(){return!!this.A.respect_dnt&&!!Zo([null==xi?void 0:xi.doNotTrack,null==xi?void 0:xi.msDoNotTrack,Ti.doNotTrack],e=>io(e))}}var el=zo("[Dead Clicks]"),tl=()=>!0,nl=e=>{var t,n=!(null==(t=e.instance.persistence)||!t.get_property(ca)),r=e.instance.config.capture_dead_clicks;return Ji(r)?r:n};class rl{get lazyLoadedDeadClicksAutocapture(){return this.st}constructor(e,t,n){this.instance=e,this.isEnabled=t,this.onCapture=n,this.startIfEnabled()}onRemoteConfig(e){this.instance.persistence&&this.instance.persistence.register({[ca]:null==e?void 0:e.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.nt(()=>{this.ot()})}nt(e){var t,n;null!=(t=Ti.__PosthogExtensions__)&&t.initDeadClicksAutocapture&&e(),null==(n=Ti.__PosthogExtensions__)||null==n.loadExternalDependency||n.loadExternalDependency(this.instance,"dead-clicks-autocapture",t=>{t?el.error("failed to load script",t):e()})}ot(){var e;if(_i){if(!this.st&&null!=(e=Ti.__PosthogExtensions__)&&e.initDeadClicksAutocapture){var t=Ui(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};t.__onCapture=this.onCapture,this.st=Ti.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,t),this.st.start(_i),el.info("starting...")}}else el.error("`document` not found. Cannot start.")}stop(){this.st&&(this.st.stop(),this.st=void 0,el.info("stopping..."))}}var il=zo("[ExceptionAutocapture]");class ol{constructor(e){var t,n,r;this.lt=()=>{var e;if(mi&&this.isEnabled&&null!=(e=Ti.__PosthogExtensions__)&&e.errorWrappingFunctions){var t=Ti.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,n=Ti.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,r=Ti.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.ut&&this.A.capture_unhandled_errors&&(this.ut=t(this.captureException.bind(this))),!this.ht&&this.A.capture_unhandled_rejections&&(this.ht=n(this.captureException.bind(this))),!this.dt&&this.A.capture_console_errors&&(this.dt=r(this.captureException.bind(this)))}catch(mi){il.error("failed to start",mi),this.vt()}}},this._instance=e,this.ct=!(null==(t=this._instance.persistence)||!t.props[aa]),this.A=this.ft(),this.gt=new so({refillRate:null!==(n=this._instance.config.error_tracking.__exceptionRateLimiterRefillRate)&&void 0!==n?n:1,bucketSize:null!==(r=this._instance.config.error_tracking.__exceptionRateLimiterBucketSize)&&void 0!==r?r:10,refillInterval:1e4,P:il}),this.startIfEnabled()}ft(){var e=this._instance.config.capture_exceptions,t={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return Ui(e)?t=Ri({},t,e):(qi(e)?this.ct:e)&&(t=Ri({},t,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),t}get isEnabled(){return this.A.capture_console_errors||this.A.capture_unhandled_errors||this.A.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(il.info("enabled"),this.nt(this.lt))}nt(e){var t,n;null!=(t=Ti.__PosthogExtensions__)&&t.errorWrappingFunctions&&e(),null==(n=Ti.__PosthogExtensions__)||null==n.loadExternalDependency||n.loadExternalDependency(this._instance,"exception-autocapture",t=>{if(t)return il.error("failed to load script",t);e()})}vt(){var e,t,n;null==(e=this.ut)||e.call(this),this.ut=void 0,null==(t=this.ht)||t.call(this),this.ht=void 0,null==(n=this.dt)||n.call(this),this.dt=void 0}onRemoteConfig(e){var t=e.autocaptureExceptions;this.ct=!!t||!1,this.A=this.ft(),this._instance.persistence&&this._instance.persistence.register({[aa]:this.ct}),this.startIfEnabled()}captureException(e){var t,n,r=null!==(t=null==e||null==(n=e.$exception_list)||null==(n=n[0])?void 0:n.type)&&void 0!==t?t:"Exception";this.gt.consumeRateLimit(r)?il.info("Skipping exception capture because of client rate limiting.",{exception:r}):this._instance.exceptions.sendExceptionEvent(e)}}function al(e,t,n){try{if(!(t in e))return()=>{};var r=e[t],i=n(r);return Wi(i)&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__posthog_wrapped__:{enumerable:!1,value:!0}})),e[t]=i,()=>{e[t]=r}}catch(e){return()=>{}}}class sl{constructor(e){var t;this._instance=e,this._t=(null==mi||null==(t=mi.location)?void 0:t.pathname)||""}get isEnabled(){return"history_change"===this._instance.config.capture_pageview}startIfEnabled(){this.isEnabled&&(No.info("History API monitoring enabled, starting..."),this.monitorHistoryChanges())}stop(){this.yt&&this.yt(),this.yt=void 0,No.info("History API monitoring stopped")}monitorHistoryChanges(){var e,t;if(mi&&mi.history){var n=this;null!=(e=mi.history.pushState)&&e.__posthog_wrapped__||al(mi.history,"pushState",e=>function(t,r,i){e.call(this,t,r,i),n.bt("pushState")}),null!=(t=mi.history.replaceState)&&t.__posthog_wrapped__||al(mi.history,"replaceState",e=>function(t,r,i){e.call(this,t,r,i),n.bt("replaceState")}),this.wt()}}bt(e){try{var t,n=null==mi||null==(t=mi.location)?void 0:t.pathname;if(!n)return;n!==this._t&&this.isEnabled&&this._instance.capture("$pageview",{navigation_type:e}),this._t=n}catch(mi){No.error("Error capturing "+e+" pageview",mi)}}wt(){if(!this.yt){var e=()=>{this.bt("popstate")};ea(mi,"popstate",e),this.yt=()=>{mi&&mi.removeEventListener("popstate",e)}}}}function ll(e){var t,n;return(null==(t=JSON.stringify(e,(n=[],function(e,t){if(Ui(t)){for(;n.length>0&&n[n.length-1]!==this;)n.pop();return n.includes(t)?"[Circular]":(n.push(t),t)}return t})))?void 0:t.length)||0}function ul(e,t){if(void 0===t&&(t=6606028.8),e.size>=t&&e.data.length>1){var n=Math.floor(e.data.length/2),r=e.data.slice(0,n),i=e.data.slice(n);return[ul({size:ll(r),data:r,sessionId:e.sessionId,windowId:e.windowId}),ul({size:ll(i),data:i,sessionId:e.sessionId,windowId:e.windowId})].flatMap(e=>e)}return[e]}var cl=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(cl||{}),dl=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(dl||{}),hl="[SessionRecording]",pl="redacted",fl={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:e=>e,recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[".lr-ingest.io",".ingest.sentry.io",".clarity.ms","analytics.google.com","bam.nr-data.net"]},gl=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],ml=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],vl=["/s/","/e/","/i/"];function yl(e,t,n,r){if(Ki(e))return e;var i=(null==t?void 0:t["content-length"])||function(e){return new Blob([e]).size}(e);return Yi(i)&&(i=parseInt(i)),i>n?hl+" "+r+" body too large to record ("+i+" bytes)":e}function bl(e,t){if(Ki(e))return e;var n=e;return fs(n,!1)||(n=hl+" "+t+" body "+pl),Uo(ml,e=>{var r,i;null!=(r=n)&&r.length&&-1!==(null==(i=n)?void 0:i.indexOf(e))&&(n=hl+" "+t+" body "+pl+" as might contain: "+e)}),n}class wl{constructor(e,t){var n,r;void 0===t&&(t={}),this.St={},this.kt=e=>{if(!this.St[e]){var t,n;this.St[e]=!0;var r=this.$t(e);null==(t=(n=this.t).onBlockedNode)||t.call(n,e,r)}},this.xt=e=>{var t=this.$t(e);if("svg"!==(null==t?void 0:t.nodeName)&&t instanceof Element){var n=t.closest("svg");if(n)return[this._rrweb.mirror.getId(n),n]}return[e,t]},this.$t=e=>this._rrweb.mirror.getNode(e),this.Et=e=>{var t,n,r,i,o,a,s,l;return(null!==(t=null==(n=e.removes)?void 0:n.length)&&void 0!==t?t:0)+(null!==(r=null==(i=e.attributes)?void 0:i.length)&&void 0!==r?r:0)+(null!==(o=null==(a=e.texts)?void 0:a.length)&&void 0!==o?o:0)+(null!==(s=null==(l=e.adds)?void 0:l.length)&&void 0!==s?s:0)},this.throttleMutations=e=>{if(3!==e.type||0!==e.data.source)return e;var t=e.data,n=this.Et(t);t.attributes&&(t.attributes=t.attributes.filter(e=>{var[t]=this.xt(e.id);return!this.gt.consumeRateLimit(t)&&e}));var r=this.Et(t);return 0!==r||n===r?e:void 0},this._rrweb=e,this.t=t,this.gt=new so({bucketSize:null!==(n=this.t.bucketSize)&&void 0!==n?n:100,refillRate:null!==(r=this.t.refillRate)&&void 0!==r?r:10,refillInterval:1e3,$:this.kt,P:No})}}var xl=Uint8Array,_l=Uint16Array,kl=Uint32Array,Sl=new xl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),El=new xl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Cl=new xl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Pl=function(e,t){for(var n=new _l(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new kl(n[30]);for(r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return[n,i]},Tl=Pl(Sl,2),Il=Tl[0],Al=Tl[1];Il[28]=258,Al[258]=28;for(var Ml=Pl(El,0)[1],Rl=new _l(32768),Fl=0;Fl<32768;++Fl){var Ll=(43690&Fl)>>>1|(21845&Fl)<<1;Ll=(61680&(Ll=(52428&Ll)>>>2|(13107&Ll)<<2))>>>4|(3855&Ll)<<4,Rl[Fl]=((65280&Ll)>>>8|(255&Ll)<<8)>>>1}var Dl=function(e,t,n){for(var r=e.length,i=0,o=new _l(t);i<r;++i)++o[e[i]-1];var a,s=new _l(t);for(i=0;i<t;++i)s[i]=s[i-1]+o[i-1]<<1;if(n){a=new _l(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var u=i<<4|e[i],c=t-e[i],d=s[e[i]-1]++<<c,h=d|(1<<c)-1;d<=h;++d)a[Rl[d]>>>l]=u}else for(a=new _l(r),i=0;i<r;++i)a[i]=Rl[s[e[i]-1]++]>>>15-e[i];return a},Ol=new xl(288);for(Fl=0;Fl<144;++Fl)Ol[Fl]=8;for(Fl=144;Fl<256;++Fl)Ol[Fl]=9;for(Fl=256;Fl<280;++Fl)Ol[Fl]=7;for(Fl=280;Fl<288;++Fl)Ol[Fl]=8;var jl=new xl(32);for(Fl=0;Fl<32;++Fl)jl[Fl]=5;var Nl=Dl(Ol,9,0),zl=Dl(jl,5,0),Bl=function(e){return(e/8|0)+(7&e&&1)},$l=function(e,t,n){(null==n||n>e.length)&&(n=e.length);var r=new(e instanceof _l?_l:e instanceof kl?kl:xl)(n-t);return r.set(e.subarray(t,n)),r},Hl=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8},Wl=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},Ul=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,o=n.slice();if(!i)return[new xl(0),0];if(1==i){var a=new xl(n[0].s+1);return a[n[0].s]=1,[a,1]}n.sort(function(e,t){return e.f-t.f}),n.push({s:-1,f:25001});var s=n[0],l=n[1],u=0,c=1,d=2;for(n[0]={s:-1,f:s.f+l.f,l:s,r:l};c!=i-1;)s=n[n[u].f<n[d].f?u++:d++],l=n[u!=c&&n[u].f<n[d].f?u++:d++],n[c++]={s:-1,f:s.f+l.f,l:s,r:l};var h=o[0].s;for(r=1;r<i;++r)o[r].s>h&&(h=o[r].s);var p=new _l(h+1),f=Vl(n[c-1],p,0);if(f>t){r=0;var g=0,m=f-t,v=1<<m;for(o.sort(function(e,t){return p[t.s]-p[e.s]||e.f-t.f});r<i;++r){var y=o[r].s;if(!(p[y]>t))break;g+=v-(1<<f-p[y]),p[y]=t}for(g>>>=m;g>0;){var b=o[r].s;p[b]<t?g-=1<<t-p[b]++-1:++r}for(;r>=0&&g;--r){var w=o[r].s;p[w]==t&&(--p[w],++g)}f=t}return[new xl(p),f]},Vl=function(e,t,n){return-1==e.s?Math.max(Vl(e.l,t,n+1),Vl(e.r,t,n+1)):t[e.s]=n},ql=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new _l(++t),r=0,i=e[0],o=1,a=function(e){n[r++]=e},s=1;s<=t;++s)if(e[s]==i&&s!=t)++o;else{if(!i&&o>2){for(;o>138;o-=138)a(32754);o>2&&(a(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(a(i),--o;o>6;o-=6)a(8304);o>2&&(a(o-3<<5|8208),o=0)}for(;o--;)a(i);o=1,i=e[s]}return[n.subarray(0,r),t]},Yl=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Gl=function(e,t,n){var r=n.length,i=Bl(t+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var o=0;o<r;++o)e[i+o+4]=n[o];return 8*(i+4+r)},Ql=function(e,t,n,r,i,o,a,s,l,u,c){Hl(t,c++,n),++i[256];for(var d=Ul(i,15),h=d[0],p=d[1],f=Ul(o,15),g=f[0],m=f[1],v=ql(h),y=v[0],b=v[1],w=ql(g),x=w[0],_=w[1],k=new _l(19),S=0;S<y.length;++S)k[31&y[S]]++;for(S=0;S<x.length;++S)k[31&x[S]]++;for(var E=Ul(k,7),C=E[0],P=E[1],T=19;T>4&&!C[Cl[T-1]];--T);var I,A,M,R,F=u+5<<3,L=Yl(i,Ol)+Yl(o,jl)+a,D=Yl(i,h)+Yl(o,g)+a+14+3*T+Yl(k,C)+(2*k[16]+3*k[17]+7*k[18]);if(F<=L&&F<=D)return Gl(t,c,e.subarray(l,l+u));if(Hl(t,c,1+(D<L)),c+=2,D<L){I=Dl(h,p,0),A=h,M=Dl(g,m,0),R=g;var O=Dl(C,P,0);for(Hl(t,c,b-257),Hl(t,c+5,_-1),Hl(t,c+10,T-4),c+=14,S=0;S<T;++S)Hl(t,c+3*S,C[Cl[S]]);c+=3*T;for(var j=[y,x],N=0;N<2;++N){var z=j[N];for(S=0;S<z.length;++S){var B=31&z[S];Hl(t,c,O[B]),c+=C[B],B>15&&(Hl(t,c,z[S]>>>5&127),c+=z[S]>>>12)}}}else I=Nl,A=Ol,M=zl,R=jl;for(S=0;S<s;++S)if(r[S]>255){B=r[S]>>>18&31,Wl(t,c,I[B+257]),c+=A[B+257],B>7&&(Hl(t,c,r[S]>>>23&31),c+=Sl[B]);var $=31&r[S];Wl(t,c,M[$]),c+=R[$],$>3&&(Wl(t,c,r[S]>>>5&8191),c+=El[$])}else Wl(t,c,I[r[S]]),c+=A[r[S]];return Wl(t,c,I[256]),c+A[256]},Kl=new kl([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Xl=function(){for(var e=new kl(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(1&n&&3988292384)^n>>>1;e[t]=n}return e}(),Jl=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8};function Zl(e,t){void 0===t&&(t={});var n=function(){var e=4294967295;return{p:function(t){for(var n=e,r=0;r<t.length;++r)n=Xl[255&n^t[r]]^n>>>8;e=n},d:function(){return 4294967295^e}}}(),r=e.length;n.p(e);var i=function(e,t,n,r){return function(e,t,n,r,i,o){var a=e.length,s=new xl(r+a+5*(1+Math.floor(a/7e3))+i),l=s.subarray(r,s.length-i),u=0;if(!t||a<8)for(var c=0;c<=a;c+=65535){var d=c+65535;d<a?u=Gl(l,u,e.subarray(c,d)):(l[c]=o,u=Gl(l,u,e.subarray(c,a)))}else{for(var h=Kl[t-1],p=h>>>13,f=8191&h,g=(1<<n)-1,m=new _l(32768),v=new _l(g+1),y=Math.ceil(n/3),b=2*y,w=function(t){return(e[t]^e[t+1]<<y^e[t+2]<<b)&g},x=new kl(25e3),_=new _l(288),k=new _l(32),S=0,E=0,C=(c=0,0),P=0,T=0;c<a;++c){var I=w(c),A=32767&c,M=v[I];if(m[A]=M,v[I]=A,P<=c){var R=a-c;if((S>7e3||C>24576)&&R>423){u=Ql(e,l,0,x,_,k,E,C,T,c-T,u),C=S=E=0,T=c;for(var F=0;F<286;++F)_[F]=0;for(F=0;F<30;++F)k[F]=0}var L=2,D=0,O=f,j=A-M&32767;if(R>2&&I==w(c-j))for(var N=Math.min(p,R)-1,z=Math.min(32767,c),B=Math.min(258,R);j<=z&&--O&&A!=M;){if(e[c+L]==e[c+L-j]){for(var $=0;$<B&&e[c+$]==e[c+$-j];++$);if($>L){if(L=$,D=j,$>N)break;var H=Math.min(j,$-2),W=0;for(F=0;F<H;++F){var U=c-j+F+32768&32767,V=U-m[U]+32768&32767;V>W&&(W=V,M=U)}}}j+=(A=M)-(M=m[A])+32768&32767}if(D){x[C++]=268435456|Al[L]<<18|Ml[D];var q=31&Al[L],Y=31&Ml[D];E+=Sl[q]+El[Y],++_[257+q],++k[Y],P=c+L,++S}else x[C++]=e[c],++_[e[c]]}}u=Ql(e,l,o,x,_,k,E,C,T,c-T,u)}return $l(s,0,r+Bl(u)+i)}(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,r,!0)}(e,t,function(e){return 10+(e.filename&&e.filename.length+1||0)}(t),8),o=i.length;return function(e,t){var n=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:9==t.level?2:0,e[9]=3,0!=t.mtime&&Jl(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),n){e[3]=8;for(var r=0;r<=n.length;++r)e[r+10]=n.charCodeAt(r)}}(i,t),Jl(i,o-8,n.d()),Jl(i,o-4,r),i}function eu(e,t){var n=e.length;if("undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);for(var r=new xl(e.length+(e.length>>>1)),i=0,o=function(e){r[i++]=e},a=0;a<n;++a){if(i+5>r.length){var s=new xl(i+8+(n-a<<1));s.set(r),r=s}var l=e.charCodeAt(a);l<128||t?o(l):l<2048?(o(192|l>>>6),o(128|63&l)):l>55295&&l<57344?(o(240|(l=65536+(1047552&l)|1023&e.charCodeAt(++a))>>>18),o(128|l>>>12&63),o(128|l>>>6&63),o(128|63&l)):(o(224|l>>>12),o(128|l>>>6&63),o(128|63&l))}return $l(r,0,i)}var tu="disabled",nu="sampled",ru="active",iu="buffering",ou="paused",au="trigger",su=au+"_activated",lu=au+"_pending",uu=au+"_"+tu;function cu(e,t){return t.some(t=>"regex"===t.matching&&new RegExp(t.url).test(e))}class du{constructor(e){this.Pt=e}triggerStatus(e){var t=this.Pt.map(t=>t.triggerStatus(e));return t.includes(su)?su:t.includes(lu)?lu:uu}stop(){this.Pt.forEach(e=>e.stop())}}class hu{constructor(e){this.Pt=e}triggerStatus(e){var t=new Set;for(var n of this.Pt)t.add(n.triggerStatus(e));switch(t.delete(uu),t.size){case 0:return uu;case 1:return Array.from(t)[0];default:return lu}}stop(){this.Pt.forEach(e=>e.stop())}}class pu{triggerStatus(){return lu}stop(){}}var fu=e=>"sessionRecording"in e;class gu{constructor(e){this.Rt=[],this.It=[],this.urlBlocked=!1,this._instance=e}onConfig(e){var t,n;this.Rt=(fu(e)?null==(t=e.sessionRecording)?void 0:t.urlTriggers:null==e?void 0:e.urlTriggers)||[],this.It=(fu(e)?null==(n=e.sessionRecording)?void 0:n.urlBlocklist:null==e?void 0:e.urlBlocklist)||[]}onRemoteConfig(e){this.onConfig(e)}Tt(e){var t;return 0===this.Rt.length?uu:(null==(t=this._instance)?void 0:t.get_property(ka))===e?su:lu}triggerStatus(e){var t=this.Tt(e),n=t===su?su:t===lu?lu:uu;return this._instance.register_for_session({$sdk_debug_replay_url_trigger_status:n}),n}checkUrlTriggerConditions(e,t,n){if(void 0!==mi&&mi.location.href){var r=mi.location.href,i=this.urlBlocked,o=cu(r,this.It);i&&o||(o&&!i?e():!o&&i&&t(),cu(r,this.Rt)&&n("url"))}}stop(){}}class mu{constructor(e){this.linkedFlag=null,this.linkedFlagSeen=!1,this.Ct=()=>{},this._instance=e}triggerStatus(){var e=lu;return Ki(this.linkedFlag)&&(e=uu),this.linkedFlagSeen&&(e=su),this._instance.register_for_session({$sdk_debug_replay_linked_flag_trigger_status:e}),e}onConfig(e,t){var n;if(this.linkedFlag=(fu(e)?null==(n=e.sessionRecording)?void 0:n.linkedFlag:null==e?void 0:e.linkedFlag)||null,!Ki(this.linkedFlag)&&!this.linkedFlagSeen){var r=Yi(this.linkedFlag)?this.linkedFlag:this.linkedFlag.flag,i=Yi(this.linkedFlag)?null:this.linkedFlag.variant;this.Ct=this._instance.onFeatureFlags((e,n)=>{var o=!1;if(Ui(n)&&r in n){var a=n[r];o=Ji(a)?!0===a:i?a===i:!!a}this.linkedFlagSeen=o,o&&t(r,i)})}}onRemoteConfig(e,t){this.onConfig(e,t)}stop(){this.Ct()}}class vu{constructor(e){this.Mt=[],this._instance=e}onConfig(e){var t;this.Mt=(fu(e)?null==(t=e.sessionRecording)?void 0:t.eventTriggers:null==e?void 0:e.eventTriggers)||[]}onRemoteConfig(e){this.onConfig(e)}Ot(e){var t;return 0===this.Mt.length?uu:(null==(t=this._instance)?void 0:t.get_property(Sa))===e?su:lu}triggerStatus(e){var t=this.Ot(e),n=t===su?su:t===lu?lu:uu;return this._instance.register_for_session({$sdk_debug_replay_event_trigger_status:n}),n}stop(){}}function yu(e){return e.isRecordingEnabled?iu:tu}function bu(e){if(!e.receivedFlags)return iu;if(!e.isRecordingEnabled)return tu;if(e.urlTriggerMatching.urlBlocked)return ou;var t=!0===e.isSampled,n=new du([e.eventTriggerMatching,e.urlTriggerMatching,e.linkedFlagMatching]).triggerStatus(e.sessionId);return t?nu:n===su?ru:n===lu?iu:!1===e.isSampled?tu:ru}function wu(e){if(!e.receivedFlags)return iu;if(!e.isRecordingEnabled)return tu;if(e.urlTriggerMatching.urlBlocked)return ou;var t=new hu([e.eventTriggerMatching,e.urlTriggerMatching,e.linkedFlagMatching]).triggerStatus(e.sessionId),n=t!==uu,r=Ji(e.isSampled);return n&&t===lu?iu:n&&t===uu||r&&!e.isSampled?tu:!0===e.isSampled?nu:ru}var xu="[SessionRecording]",_u=zo(xu);function ku(){var e;return null==Ti||null==(e=Ti.__PosthogExtensions__)||null==(e=e.rrweb)?void 0:e.record}var Su=[dl.MouseMove,dl.MouseInteraction,dl.Scroll,dl.ViewportResize,dl.Input,dl.TouchMove,dl.MediaInteraction,dl.Drag],Eu=e=>({rrwebMethod:e,enqueuedAt:Date.now(),attempt:1});function Cu(e){return function(e){for(var t="",n=0;n<e.length;){var r=e[n++];t+=String.fromCharCode(r)}return t}(Zl(eu(JSON.stringify(e))))}function Pu(e){return e.type===cl.Custom&&"sessionIdle"===e.data.tag}class Tu{get sessionId(){return this.Ft}get At(){return this._instance.config.session_recording.session_idle_threshold_ms||3e5}get started(){return this.Dt}get jt(){if(!this._instance.sessionManager)throw new Error(xu+" must be started with a valid sessionManager.");return this._instance.sessionManager}get Lt(){var e,t;return this.Nt.triggerStatus(this.sessionId)===lu?6e4:null!==(e=null==(t=this._instance.config.session_recording)?void 0:t.full_snapshot_interval_millis)&&void 0!==e?e:3e5}get Ut(){var e=this._instance.get_property(_a);return Ji(e)?e:null}get zt(){var e,t,n=null==(e=this.H)?void 0:e.data[(null==(t=this.H)?void 0:t.data.length)-1],{sessionStartTimestamp:r}=this.jt.checkAndGetSessionAndWindowId(!0);return n?n.timestamp-r:null}get qt(){var e=!!this._instance.get_property(pa),t=!this._instance.config.disable_session_recording;return mi&&e&&t}get Bt(){var e=!!this._instance.get_property(fa),t=this._instance.config.enable_recording_console_log;return null!=t?t:e}get Ht(){var e,t,n,r,i,o,a=this._instance.config.session_recording.captureCanvas,s=this._instance.get_property(va),l=null!==(e=null!==(t=null==a?void 0:a.recordCanvas)&&void 0!==t?t:null==s?void 0:s.enabled)&&void 0!==e&&e,u=null!==(n=null!==(r=null==a?void 0:a.canvasFps)&&void 0!==r?r:null==s?void 0:s.fps)&&void 0!==n?n:4,c=null!==(i=null!==(o=null==a?void 0:a.canvasQuality)&&void 0!==o?o:null==s?void 0:s.quality)&&void 0!==i?i:.4;if("string"==typeof c){var d=parseFloat(c);c=isNaN(d)?.4:d}return{enabled:l,fps:ao(u,0,12,_u.createLogger("canvas recording fps"),4),quality:ao(c,0,1,_u.createLogger("canvas recording quality"),.4)}}get Wt(){var e,t,n=this._instance.get_property(ga),r={recordHeaders:null==(e=this._instance.config.session_recording)?void 0:e.recordHeaders,recordBody:null==(t=this._instance.config.session_recording)?void 0:t.recordBody},i=(null==r?void 0:r.recordHeaders)||(null==n?void 0:n.recordHeaders),o=(null==r?void 0:r.recordBody)||(null==n?void 0:n.recordBody),a=Ui(this._instance.config.capture_performance)?this._instance.config.capture_performance.network_timing:this._instance.config.capture_performance,s=!!(Ji(a)?a:null==n?void 0:n.capturePerformance);return i||o||s?{recordHeaders:i,recordBody:o,recordPerformance:s}:void 0}get Gt(){var e,t,n,r,i,o,a=this._instance.get_property(ma),s={maskAllInputs:null==(e=this._instance.config.session_recording)?void 0:e.maskAllInputs,maskTextSelector:null==(t=this._instance.config.session_recording)?void 0:t.maskTextSelector,blockSelector:null==(n=this._instance.config.session_recording)?void 0:n.blockSelector},l=null!==(r=null==s?void 0:s.maskAllInputs)&&void 0!==r?r:null==a?void 0:a.maskAllInputs,u=null!==(i=null==s?void 0:s.maskTextSelector)&&void 0!==i?i:null==a?void 0:a.maskTextSelector,c=null!==(o=null==s?void 0:s.blockSelector)&&void 0!==o?o:null==a?void 0:a.blockSelector;return qi(l)&&qi(u)&&qi(c)?void 0:{maskAllInputs:null==l||l,maskTextSelector:u,blockSelector:c}}get Vt(){var e=this._instance.get_property(ya);return Xi(e)?e:null}get Jt(){var e=this._instance.get_property(ba);return Xi(e)?e:null}get status(){return this.Kt?this.Yt({receivedFlags:this.Kt,isRecordingEnabled:this.qt,isSampled:this.Ut,urlTriggerMatching:this.Xt,eventTriggerMatching:this.Qt,linkedFlagMatching:this.Zt,sessionId:this.sessionId}):iu}constructor(e){if(this.Yt=yu,this.Kt=!1,this.ti=[],this.ii="unknown",this.ei=Date.now(),this.Nt=new pu,this.ri=void 0,this.si=void 0,this.ni=void 0,this.oi=void 0,this.ai=void 0,this._forceAllowLocalhostNetworkCapture=!1,this.li=()=>{this.ui()},this.hi=()=>{this.tryAddCustomEvent("browser offline",{})},this.di=()=>{this.tryAddCustomEvent("browser online",{})},this.vi=()=>{if(null!=_i&&_i.visibilityState){var e="window "+_i.visibilityState;this.tryAddCustomEvent(e,{})}},this._instance=e,this.Dt=!1,this.ci="/s/",this.fi=void 0,this.Kt=!1,!this._instance.sessionManager)throw _u.error("started without valid sessionManager"),new Error(xu+" started without valid sessionManager. This is a bug.");if("always"===this._instance.config.cookieless_mode)throw new Error(xu+' cannot be used with cookieless_mode="always"');this.Zt=new mu(this._instance),this.Xt=new gu(this._instance),this.Qt=new vu(this._instance);var{sessionId:t,windowId:n}=this.jt.checkAndGetSessionAndWindowId();this.Ft=t,this.pi=n,this.H=this.gi(),this.At>=this.jt.sessionTimeoutMs&&_u.warn("session_idle_threshold_ms ("+this.At+") is greater than the session timeout ("+this.jt.sessionTimeoutMs+"). Session will never be detected as idle")}startIfEnabledOrStop(e){this.qt?(this.mi(e),ea(mi,"beforeunload",this.li),ea(mi,"offline",this.hi),ea(mi,"online",this.di),ea(mi,"visibilitychange",this.vi),this.yi(),this.bi(),Ki(this.ri)&&(this.ri=this._instance.on("eventCaptured",e=>{try{if("$pageview"===e.event){var t=null!=e&&e.properties.$current_url?this.wi(null==e?void 0:e.properties.$current_url):"";if(!t)return;this.tryAddCustomEvent("$pageview",{href:t})}}catch(e){_u.error("Could not add $pageview to rrweb session",e)}})),this.si||(this.si=this.jt.onSessionId((e,t,n)=>{var r,i;n&&(this.tryAddCustomEvent("$session_id_change",{sessionId:e,windowId:t,changeReason:n}),null==(r=this._instance)||null==(r=r.persistence)||r.unregister(Sa),null==(i=this._instance)||null==(i=i.persistence)||i.unregister(ka))}))):this.stopRecording()}stopRecording(){var e,t,n,r;this.Dt&&this.fi&&(this.fi(),this.fi=void 0,this.Dt=!1,null==mi||mi.removeEventListener("beforeunload",this.li),null==mi||mi.removeEventListener("offline",this.hi),null==mi||mi.removeEventListener("online",this.di),null==mi||mi.removeEventListener("visibilitychange",this.vi),this.gi(),clearInterval(this.Si),null==(e=this.ri)||e.call(this),this.ri=void 0,null==(t=this.ai)||t.call(this),this.ai=void 0,null==(n=this.si)||n.call(this),this.si=void 0,null==(r=this.oi)||r.call(this),this.oi=void 0,this.Qt.stop(),this.Xt.stop(),this.Zt.stop(),_u.info("stopped"))}ki(){var e;null==(e=this._instance.persistence)||e.unregister(_a)}$i(e){var t,n=this.Ft!==e,r=this.Vt;if(Xi(r)){var i=this.Ut,o=n||!Ji(i),a=o?function(e,t){return function(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return Math.abs(t)}(e)%100<ao(100*t,0,100,No)}(e,r):i;o&&(a?this.xi(nu):_u.warn("Sample rate ("+r+") has determined that this sessionId ("+e+") will not be sent to the server."),this.tryAddCustomEvent("samplingDecisionMade",{sampleRate:r,isSampled:a})),null==(t=this._instance.persistence)||t.register({[_a]:a})}else this.ki()}onRemoteConfig(e){var t,n,r,i;this.tryAddCustomEvent("$remote_config_received",e),this.Ei(e),null!=(t=e.sessionRecording)&&t.endpoint&&(this.ci=null==(i=e.sessionRecording)?void 0:i.endpoint),this.yi(),"any"===(null==(n=e.sessionRecording)?void 0:n.triggerMatchType)?(this.Yt=bu,this.Nt=new du([this.Qt,this.Xt])):(this.Yt=wu,this.Nt=new hu([this.Qt,this.Xt])),this._instance.register_for_session({$sdk_debug_replay_remote_trigger_matching_config:null==(r=e.sessionRecording)?void 0:r.triggerMatchType}),this.Xt.onConfig(e),this.Qt.onConfig(e),this.Zt.onConfig(e,(e,t)=>{this.xi("linked_flag_matched",{flag:e,variant:t})}),this.Kt=!0,this.startIfEnabledOrStop()}yi(){Xi(this.Vt)&&Ki(this.oi)&&(this.oi=this.jt.onSessionId(e=>{this.$i(e)}))}Ei(e){if(this._instance.persistence){var t,n=this._instance.persistence,r=()=>{var t,r,i,o,a,s,l,u,c,d=null==(t=e.sessionRecording)?void 0:t.sampleRate,h=Ki(d)?null:parseFloat(d);Ki(h)&&this.ki();var p=null==(r=e.sessionRecording)?void 0:r.minimumDurationMilliseconds;n.register({[pa]:!!e.sessionRecording,[fa]:null==(i=e.sessionRecording)?void 0:i.consoleLogRecordingEnabled,[ga]:Ri({capturePerformance:e.capturePerformance},null==(o=e.sessionRecording)?void 0:o.networkPayloadCapture),[ma]:null==(a=e.sessionRecording)?void 0:a.masking,[va]:{enabled:null==(s=e.sessionRecording)?void 0:s.recordCanvas,fps:null==(l=e.sessionRecording)?void 0:l.canvasFps,quality:null==(u=e.sessionRecording)?void 0:u.canvasQuality},[ya]:h,[ba]:qi(p)?null:p,[wa]:null==(c=e.sessionRecording)?void 0:c.scriptConfig})};r(),null==(t=this.ni)||t.call(this),this.ni=this.jt.onSessionId(r)}}log(e,t){var n;void 0===t&&(t="log"),null==(n=this._instance.sessionRecording)||n.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:t,trace:[],payload:[JSON.stringify(e)]}},timestamp:Date.now()})}mi(e){var t;qi(Object.assign)||qi(Array.from)||(this.Dt||this._instance.config.disable_session_recording||this._instance.consent.isOptedOut())||(this.Dt=!0,this.jt.checkAndGetSessionAndWindowId(),ku()?this.Pi():null==(t=Ti.__PosthogExtensions__)||null==t.loadExternalDependency||t.loadExternalDependency(this._instance,this.Ri,e=>{if(e)return _u.error("could not load recorder",e);this.Pi()}),_u.info("starting"),this.status===ru&&this.xi(e||"recording_initialized"))}get Ri(){var e;return(null==(e=this._instance)||null==(e=e.persistence)||null==(e=e.get_property(wa))?void 0:e.script)||"recorder"}Ii(e){var t;return 3===e.type&&-1!==Su.indexOf(null==(t=e.data)?void 0:t.source)}Ti(e){var t=this.Ii(e);t||this.ii||e.timestamp-this.ei>this.At&&(this.ii=!0,clearInterval(this.Si),this.tryAddCustomEvent("sessionIdle",{eventTimestamp:e.timestamp,lastActivityTimestamp:this.ei,threshold:this.At,bufferLength:this.H.data.length,bufferSize:this.H.size}),this.ui());var n=!1;if(t&&(this.ei=e.timestamp,this.ii)){var r="unknown"===this.ii;this.ii=!1,r||(this.tryAddCustomEvent("sessionNoLongerIdle",{reason:"user activity",type:e.type}),n=!0)}if(!this.ii){var{windowId:i,sessionId:o}=this.jt.checkAndGetSessionAndWindowId(!t,e.timestamp),a=this.Ft!==o,s=this.pi!==i;this.pi=i,this.Ft=o,a||s?(this.stopRecording(),this.startIfEnabledOrStop("session_id_changed")):n&&this.Ci()}}Mi(e){try{return e.rrwebMethod(),!0}catch(vi){return this.ti.length<10?this.ti.push({enqueuedAt:e.enqueuedAt||Date.now(),attempt:e.attempt++,rrwebMethod:e.rrwebMethod}):_u.warn("could not emit queued rrweb event.",vi,e),!1}}tryAddCustomEvent(e,t){return this.Mi(Eu(()=>ku().addCustomEvent(e,t)))}Oi(){return this.Mi(Eu(()=>ku().takeFullSnapshot()))}Pi(){var e,t,n,r,i={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{password:!0},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},o=this._instance.config.session_recording;for(var[a,s]of Object.entries(o||{}))a in i&&("maskInputOptions"===a?i.maskInputOptions=Ri({password:!0},s):i[a]=s);this.Ht&&this.Ht.enabled&&(i.recordCanvas=!0,i.sampling={canvas:this.Ht.fps},i.dataURLOptions={type:"image/webp",quality:this.Ht.quality}),this.Gt&&(i.maskAllInputs=null===(t=this.Gt.maskAllInputs)||void 0===t||t,i.maskTextSelector=null!==(n=this.Gt.maskTextSelector)&&void 0!==n?n:void 0,i.blockSelector=null!==(r=this.Gt.blockSelector)&&void 0!==r?r:void 0);var l=ku();if(l){this.Fi=null!==(e=this.Fi)&&void 0!==e?e:new wl(l,{refillRate:this._instance.config.session_recording.__mutationThrottlerRefillRate,bucketSize:this._instance.config.session_recording.__mutationThrottlerBucketSize,onBlockedNode:(e,t)=>{var n="Too many mutations on node '"+e+"'. Rate limiting. This could be due to SVG animations or something similar";_u.info(n,{node:t}),this.log(xu+" "+n,"warn")}});var u=this.Ai();this.fi=l(Ri({emit:e=>{this.onRRwebEmit(e)},plugins:u},i)),this.ei=Date.now(),this.ii=Ji(this.ii)?this.ii:"unknown",this.tryAddCustomEvent("$session_options",{sessionRecordingOptions:i,activePlugins:u.map(e=>null==e?void 0:e.name)}),this.tryAddCustomEvent("$posthog_config",{config:this._instance.config})}else _u.error("onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}Ci(){if(this.Si&&clearInterval(this.Si),!0!==this.ii){var e=this.Lt;e&&(this.Si=setInterval(()=>{this.Oi()},e))}}Ai(){var e,t,n=[],r=null==(e=Ti.__PosthogExtensions__)||null==(e=e.rrwebPlugins)?void 0:e.getRecordConsolePlugin;r&&this.Bt&&n.push(r());var i=null==(t=Ti.__PosthogExtensions__)||null==(t=t.rrwebPlugins)?void 0:t.getRecordNetworkPlugin;return this.Wt&&Wi(i)&&(!ks.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?n.push(i(((e,t)=>{var n,r,i,o={payloadSizeLimitBytes:fl.payloadSizeLimitBytes,performanceEntryTypeToObserve:[...fl.performanceEntryTypeToObserve],payloadHostDenyList:[...t.payloadHostDenyList||[],...fl.payloadHostDenyList]},a=!1!==e.session_recording.recordHeaders&&t.recordHeaders,s=!1!==e.session_recording.recordBody&&t.recordBody,l=!1!==e.capture_performance&&t.recordPerformance,u=(n=o,i=Math.min(1e6,null!==(r=n.payloadSizeLimitBytes)&&void 0!==r?r:1e6),e=>(null!=e&&e.requestBody&&(e.requestBody=yl(e.requestBody,e.requestHeaders,i,"Request")),null!=e&&e.responseBody&&(e.responseBody=yl(e.responseBody,e.responseHeaders,i,"Response")),e)),c=t=>{return u(((e,t)=>{var n,r=Ss(e.name),i=0===t.indexOf("http")?null==(n=Ss(t))?void 0:n.pathname:t;"/"===i&&(i="");var o=null==r?void 0:r.pathname.replace(i||"","");if(!(r&&o&&vl.some(e=>0===o.indexOf(e))))return e})((r=(n=t).requestHeaders,Ki(r)||Uo(Object.keys(null!=r?r:{}),e=>{gl.includes(e.toLowerCase())&&(r[e]=pl)}),n),e.api_host));var n,r},d=Wi(e.session_recording.maskNetworkRequestFn);return d&&Wi(e.session_recording.maskCapturedNetworkRequestFn)&&No.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),d&&(e.session_recording.maskCapturedNetworkRequestFn=t=>{var n=e.session_recording.maskNetworkRequestFn({url:t.name});return Ri({},t,{name:null==n?void 0:n.url})}),o.maskRequestFn=Wi(e.session_recording.maskCapturedNetworkRequestFn)?t=>{var n,r=c(t);return r&&null!==(n=null==e.session_recording.maskCapturedNetworkRequestFn?void 0:e.session_recording.maskCapturedNetworkRequestFn(r))&&void 0!==n?n:void 0}:e=>function(e){if(!qi(e))return e.requestBody=bl(e.requestBody,"Request"),e.responseBody=bl(e.responseBody,"Response"),e}(c(e)),Ri({},fl,o,{recordHeaders:a,recordBody:s,recordPerformance:l,recordInitialRequests:l})})(this._instance.config,this.Wt))):_u.info("NetworkCapture not started because we are on localhost.")),n}onRRwebEmit(e){var t;if(this.Di(),e&&Ui(e)){if(e.type===cl.Meta){var n=this.wi(e.data.href);if(this.ji=n,!n)return;e.data.href=n}else this.Li();if(this.Xt.checkUrlTriggerConditions(()=>this.Ni(),()=>this.Ui(),e=>this.zi(e)),!this.Xt.urlBlocked||(r=e).type===cl.Custom&&"recording paused"===r.data.tag){var r;e.type===cl.FullSnapshot&&this.Ci(),e.type===cl.FullSnapshot&&this.Kt&&this.Nt.triggerStatus(this.sessionId)===lu&&this.gi();var i=this.Fi?this.Fi.throttleMutations(e):e;if(i){var o=function(e){var t=e;if(t&&Ui(t)&&6===t.type&&Ui(t.data)&&"rrweb/console@1"===t.data.plugin){t.data.payload.payload.length>10&&(t.data.payload.payload=t.data.payload.payload.slice(0,10),t.data.payload.payload.push("...[truncated]"));for(var n=[],r=0;r<t.data.payload.payload.length;r++)t.data.payload.payload[r]&&t.data.payload.payload[r].length>2e3?n.push(t.data.payload.payload[r].slice(0,2e3)+"...[truncated]"):n.push(t.data.payload.payload[r]);return t.data.payload.payload=n,e}return e}(i);if(this.Ti(o),!0!==this.ii||Pu(o)){if(Pu(o)){var a=o.data.payload;if(a){var s=a.lastActivityTimestamp,l=a.threshold;o.timestamp=s+l}}var u=null===(t=this._instance.config.session_recording.compress_events)||void 0===t||t?function(e){if(ll(e)<1024)return e;try{if(e.type===cl.FullSnapshot)return Ri({},e,{data:Cu(e.data),cv:"2024-10"});if(e.type===cl.IncrementalSnapshot&&e.data.source===dl.Mutation)return Ri({},e,{cv:"2024-10",data:Ri({},e.data,{texts:Cu(e.data.texts),attributes:Cu(e.data.attributes),removes:Cu(e.data.removes),adds:Cu(e.data.adds)})});if(e.type===cl.IncrementalSnapshot&&e.data.source===dl.StyleSheetRule)return Ri({},e,{cv:"2024-10",data:Ri({},e.data,{adds:e.data.adds?Cu(e.data.adds):void 0,removes:e.data.removes?Cu(e.data.removes):void 0})})}catch(e){_u.error("could not compress event - will use uncompressed event",e)}return e}(o):o,c={$snapshot_bytes:ll(u),$snapshot_data:u,$session_id:this.Ft,$window_id:this.pi};this.status!==tu?this.qi(c):this.gi()}}}}}Li(){if(!this._instance.config.capture_pageview&&mi){var e=this.wi(mi.location.href);this.ji!==e&&(this.tryAddCustomEvent("$url_changed",{href:e}),this.ji=e)}}Di(){if(this.ti.length){var e=[...this.ti];this.ti=[],e.forEach(e=>{Date.now()-e.enqueuedAt<=2e3&&this.Mi(e)})}}wi(e){var t=this._instance.config.session_recording;if(t.maskNetworkRequestFn){var n,r={url:e};return null==(n=r=t.maskNetworkRequestFn(r))?void 0:n.url}return e}gi(){return this.H={size:0,data:[],sessionId:this.Ft,windowId:this.pi},this.H}ui(){this.Bi&&(clearTimeout(this.Bi),this.Bi=void 0);var e=this.Jt,t=this.zt,n=Xi(t)&&t>=0,r=Xi(e)&&n&&t<e;return this.status===iu||this.status===ou||this.status===tu||r?(this.Bi=setTimeout(()=>{this.ui()},2e3),this.H):(this.H.data.length>0&&ul(this.H).forEach(e=>{this.Hi({$snapshot_bytes:e.size,$snapshot_data:e.data,$session_id:e.sessionId,$window_id:e.windowId,$lib:"web",$lib_version:Ii.LIB_VERSION})}),this.gi())}qi(e){var t,n=2+((null==(t=this.H)?void 0:t.data.length)||0);!this.ii&&(this.H.size+e.$snapshot_bytes+n>943718.4||this.H.sessionId!==this.Ft)&&(this.H=this.ui()),this.H.size+=e.$snapshot_bytes,this.H.data.push(e.$snapshot_data),this.Bi||this.ii||(this.Bi=setTimeout(()=>{this.ui()},2e3))}Hi(e){this._instance.capture("$snapshot",e,{_url:this._instance.requestRouter.endpointFor("api",this.ci),_noTruncate:!0,_batchKey:"recordings",skip_client_rate_limiting:!0})}zi(e){var t;this.Nt.triggerStatus(this.sessionId)===lu&&(null==(t=this._instance)||null==(t=t.persistence)||t.register({["url"===e?ka:Sa]:this.Ft}),this.ui(),this.xi(e+"_trigger_matched"))}Ni(){this.Xt.urlBlocked||(this.Xt.urlBlocked=!0,clearInterval(this.Si),_u.info("recording paused due to URL blocker"),this.tryAddCustomEvent("recording paused",{reason:"url blocker"}))}Ui(){this.Xt.urlBlocked&&(this.Xt.urlBlocked=!1,this.Oi(),this.Ci(),this.tryAddCustomEvent("recording resumed",{reason:"left blocked url"}),_u.info("recording resumed"))}bi(){0!==this.Qt.Mt.length&&Ki(this.ai)&&(this.ai=this._instance.on("eventCaptured",e=>{try{this.Qt.Mt.includes(e.event)&&this.zi("event")}catch(e){_u.error("Could not activate event trigger",e)}}))}overrideLinkedFlag(){this.Zt.linkedFlagSeen=!0,this.Oi(),this.xi("linked_flag_overridden")}overrideSampling(){var e;null==(e=this._instance.persistence)||e.register({[_a]:!0}),this.Oi(),this.xi("sampling_overridden")}overrideTrigger(e){this.zi(e)}xi(e,t){this._instance.register_for_session({$session_recording_start_reason:e}),_u.info(e.replace("_"," "),t),Di(["recording_initialized","session_id_changed"],e)||this.tryAddCustomEvent(e,t)}get sdkDebugProperties(){var{sessionStartTimestamp:e}=this.jt.checkAndGetSessionAndWindowId(!0);return{$recording_status:this.status,$sdk_debug_replay_internal_buffer_length:this.H.data.length,$sdk_debug_replay_internal_buffer_size:this.H.size,$sdk_debug_current_session_duration:this.zt,$sdk_debug_session_start:e}}}var Iu=zo("[SegmentIntegration]");var Au="posthog-js";function Mu(e,t){var{organization:n,projectId:r,prefix:i,severityAllowList:o=["error"],sendExceptionsToPostHog:a=!0}=void 0===t?{}:t;return t=>{var s,l,u,c,d;if("*"!==o&&!o.includes(t.level)||!e.__loaded)return t;t.tags||(t.tags={});var h=e.requestRouter.endpointFor("ui","/project/"+e.config.token+"/person/"+e.get_distinct_id());t.tags["PostHog Person URL"]=h,e.sessionRecordingStarted()&&(t.tags["PostHog Recording URL"]=e.get_session_replay_url({withTimestamp:!0}));var p=(null==(s=t.exception)?void 0:s.values)||[],f=p.map(e=>Ri({},e,{stacktrace:e.stacktrace?Ri({},e.stacktrace,{type:"raw",frames:(e.stacktrace.frames||[]).map(e=>Ri({},e,{platform:"web:javascript"}))}):void 0})),g={$exception_message:(null==(l=p[0])?void 0:l.value)||t.message,$exception_type:null==(u=p[0])?void 0:u.type,$exception_personURL:h,$exception_level:t.level,$exception_list:f,$sentry_event_id:t.event_id,$sentry_exception:t.exception,$sentry_exception_message:(null==(c=p[0])?void 0:c.value)||t.message,$sentry_exception_type:null==(d=p[0])?void 0:d.type,$sentry_tags:t.tags};return n&&r&&(g.$sentry_url=(i||"https://sentry.io/organizations/")+n+"/issues/?project="+r+"&query="+t.event_id),a&&e.exceptions.sendExceptionEvent(g),t}}class Ru{constructor(e,t,n,r,i,o){this.name=Au,this.setupOnce=function(a){a(Mu(e,{organization:t,projectId:n,prefix:r,severityAllowList:i,sendExceptionsToPostHog:null==o||o}))}}}var Fu=null!=mi&&mi.location?Ps(mi.location.hash,"__posthog")||Ps(location.hash,"state"):null,Lu="_postHogToolbarParams",Du=zo("[Toolbar]"),Ou=function(e){return e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED",e}(Ou||{});class ju{constructor(e){this.instance=e}Wi(e){Ti.ph_toolbar_state=e}Gi(){var e;return null!==(e=Ti.ph_toolbar_state)&&void 0!==e?e:Ou.UNINITIALIZED}maybeLoadToolbar(e,t,n){if(void 0===e&&(e=void 0),void 0===t&&(t=void 0),void 0===n&&(n=void 0),!mi||!_i)return!1;e=null!=e?e:mi.location,n=null!=n?n:mi.history;try{if(!t){try{mi.localStorage.setItem("test","test"),mi.localStorage.removeItem("test")}catch(mi){return!1}t=null==mi?void 0:mi.localStorage}var r,i=Fu||Ps(e.hash,"__posthog")||Ps(e.hash,"state"),o=i?Go(()=>JSON.parse(atob(decodeURIComponent(i))))||Go(()=>JSON.parse(decodeURIComponent(i))):null;return o&&"ph_authorize"===o.action?((r=o).source="url",r&&Object.keys(r).length>0&&(o.desiredHash?e.hash=o.desiredHash:n?n.replaceState(n.state,"",e.pathname+e.search):e.hash="")):((r=JSON.parse(t.getItem(Lu)||"{}")).source="localstorage",delete r.userIntent),!(!r.token||this.instance.config.token!==r.token)&&(this.loadToolbar(r),!0)}catch(mi){return!1}}Vi(e){var t=Ti.ph_load_toolbar||Ti.ph_load_editor;!Ki(t)&&Wi(t)?t(e,this.instance):Du.warn("No toolbar load function found")}loadToolbar(e){var t=!(null==_i||!_i.getElementById(Ba));if(!mi||t)return!1;var n="custom"===this.instance.requestRouter.region&&this.instance.config.advanced_disable_toolbar_metrics,r=Ri({token:this.instance.config.token},e,{apiURL:this.instance.requestRouter.endpointFor("ui")},n?{instrument:!1}:{});if(mi.localStorage.setItem(Lu,JSON.stringify(Ri({},r,{source:void 0}))),this.Gi()===Ou.LOADED)this.Vi(r);else if(this.Gi()===Ou.UNINITIALIZED){var i;this.Wi(Ou.LOADING),null==(i=Ti.__PosthogExtensions__)||null==i.loadExternalDependency||i.loadExternalDependency(this.instance,"toolbar",e=>{if(e)return Du.error("[Toolbar] Failed to load",e),void this.Wi(Ou.UNINITIALIZED);this.Wi(Ou.LOADED),this.Vi(r)}),ea(mi,"turbolinks:load",()=>{this.Wi(Ou.UNINITIALIZED),this.loadToolbar(r)})}return!0}Ji(e){return this.loadToolbar(e)}maybeLoadEditor(e,t,n){return void 0===e&&(e=void 0),void 0===t&&(t=void 0),void 0===n&&(n=void 0),this.maybeLoadToolbar(e,t,n)}}var Nu=zo("[TracingHeaders]");class zu{constructor(e){this.Ki=void 0,this.Yi=void 0,this.lt=()=>{var e,t;qi(this.Ki)&&(null==(e=Ti.__PosthogExtensions__)||null==(e=e.tracingHeadersPatchFns)||e._patchXHR(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager)),qi(this.Yi)&&(null==(t=Ti.__PosthogExtensions__)||null==(t=t.tracingHeadersPatchFns)||t._patchFetch(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager))},this._instance=e}nt(e){var t,n;null!=(t=Ti.__PosthogExtensions__)&&t.tracingHeadersPatchFns&&e(),null==(n=Ti.__PosthogExtensions__)||null==n.loadExternalDependency||n.loadExternalDependency(this._instance,"tracing-headers",t=>{if(t)return Nu.error("failed to load script",t);e()})}startIfEnabledOrStop(){var e,t;this._instance.config.__add_tracing_headers?this.nt(this.lt):(null==(e=this.Ki)||e.call(this),null==(t=this.Yi)||t.call(this),this.Ki=void 0,this.Yi=void 0)}}var Bu=zo("[Web Vitals]"),$u=9e5;class Hu{constructor(e){var t;this.Xi=!1,this.C=!1,this.H={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.Qi=()=>{clearTimeout(this.Zi),0!==this.H.metrics.length&&(this._instance.capture("$web_vitals",this.H.metrics.reduce((e,t)=>Ri({},e,{["$web_vitals_"+t.name+"_event"]:Ri({},t),["$web_vitals_"+t.name+"_value"]:t.value}),{})),this.H={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.te=e=>{var t,n=null==(t=this._instance.sessionManager)?void 0:t.checkAndGetSessionAndWindowId(!0);if(qi(n))Bu.error("Could not read session ID. Dropping metrics!");else{this.H=this.H||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var r=this.ie();qi(r)||(Ki(null==e?void 0:e.name)||Ki(null==e?void 0:e.value)?Bu.error("Invalid metric received",e):this.ee&&e.value>=this.ee?Bu.error("Ignoring metric with value >= "+this.ee,e):(this.H.url!==r&&(this.Qi(),this.Zi=setTimeout(this.Qi,this.flushToCaptureTimeoutMs)),qi(this.H.url)&&(this.H.url=r),this.H.firstMetricTimestamp=qi(this.H.firstMetricTimestamp)?Date.now():this.H.firstMetricTimestamp,e.attribution&&e.attribution.interactionTargetElement&&(e.attribution.interactionTargetElement=void 0),this.H.metrics.push(Ri({},e,{$current_url:r,$session_id:n.sessionId,$window_id:n.windowId,timestamp:Date.now()})),this.H.metrics.length===this.allowedMetrics.length&&this.Qi()))}},this.lt=()=>{var e,t,n,r,i=Ti.__PosthogExtensions__;qi(i)||qi(i.postHogWebVitalsCallbacks)||({onLCP:e,onCLS:t,onFCP:n,onINP:r}=i.postHogWebVitalsCallbacks),e&&t&&n&&r?(this.allowedMetrics.indexOf("LCP")>-1&&e(this.te.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&t(this.te.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&n(this.te.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&r(this.te.bind(this)),this.C=!0):Bu.error("web vitals callbacks not loaded - not starting")},this._instance=e,this.Xi=!(null==(t=this._instance.persistence)||!t.props[ua]),this.startIfEnabled()}get allowedMetrics(){var e,t,n=Ui(this._instance.config.capture_performance)?null==(e=this._instance.config.capture_performance)?void 0:e.web_vitals_allowed_metrics:void 0;return qi(n)?(null==(t=this._instance.persistence)?void 0:t.props[da])||["CLS","FCP","INP","LCP"]:n}get flushToCaptureTimeoutMs(){return(Ui(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get ee(){var e=Ui(this._instance.config.capture_performance)&&Xi(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:$u;return 0<e&&e<=6e4?$u:e}get isEnabled(){var e=null==ki?void 0:ki.protocol;if("http:"!==e&&"https:"!==e)return Bu.info("Web Vitals are disabled on non-http/https protocols"),!1;var t=Ui(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:Ji(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return Ji(t)?t:this.Xi}startIfEnabled(){this.isEnabled&&!this.C&&(Bu.info("enabled, starting..."),this.nt(this.lt))}onRemoteConfig(e){var t=Ui(e.capturePerformance)&&!!e.capturePerformance.web_vitals,n=Ui(e.capturePerformance)?e.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[ua]:t}),this._instance.persistence.register({[da]:n})),this.Xi=t,this.startIfEnabled()}nt(e){var t,n;null!=(t=Ti.__PosthogExtensions__)&&t.postHogWebVitalsCallbacks&&e(),null==(n=Ti.__PosthogExtensions__)||null==n.loadExternalDependency||n.loadExternalDependency(this._instance,"web-vitals",t=>{t?Bu.error("failed to load script",t):e()})}ie(){var e=mi?mi.location.href:void 0;return e||Bu.error("Could not determine current URL"),e}}var Wu=zo("[Heatmaps]");function Uu(e){return Ui(e)&&"clientX"in e&&"clientY"in e&&Xi(e.clientX)&&Xi(e.clientY)}class Vu{constructor(e){var t;this.rageclicks=new ws,this.Xi=!1,this.C=!1,this.re=null,this.instance=e,this.Xi=!(null==(t=this.instance.persistence)||!t.props[oa])}get flushIntervalMilliseconds(){var e=5e3;return Ui(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(e=this.instance.config.capture_heatmaps.flush_interval_milliseconds),e}get isEnabled(){return qi(this.instance.config.capture_heatmaps)?qi(this.instance.config.enable_heatmaps)?this.Xi:this.instance.config.enable_heatmaps:!1!==this.instance.config.capture_heatmaps}startIfEnabled(){if(this.isEnabled){if(this.C)return;Wu.info("starting..."),this.se(),this.re=setInterval(this.ne.bind(this),this.flushIntervalMilliseconds)}else{var e,t;clearInterval(null!==(e=this.re)&&void 0!==e?e:void 0),null==(t=this.oe)||t.stop(),this.getAndClearBuffer()}}onRemoteConfig(e){var t=!!e.heatmaps;this.instance.persistence&&this.instance.persistence.register({[oa]:t}),this.Xi=t,this.startIfEnabled()}getAndClearBuffer(){var e=this.H;return this.H=void 0,e}ae(e){this.le(e.originalEvent,"deadclick")}se(){mi&&_i&&(ea(mi,"beforeunload",this.ne.bind(this)),ea(_i,"click",e=>this.le(e||(null==mi?void 0:mi.event)),{capture:!0}),ea(_i,"mousemove",e=>this.ue(e||(null==mi?void 0:mi.event)),{capture:!0}),this.oe=new rl(this.instance,tl,this.ae.bind(this)),this.oe.startIfEnabled(),this.C=!0)}he(e,t){var n=this.instance.scrollManager.scrollY(),r=this.instance.scrollManager.scrollX(),i=this.instance.scrollManager.scrollElement(),o=function(e,t,n){for(var r=e;r&&Ua(r)&&!Va(r,"body");){if(r===n)return!1;if(Di(t,null==mi?void 0:mi.getComputedStyle(r).position))return!0;r=ns(r)}return!1}(Za(e),["fixed","sticky"],i);return{x:e.clientX+(o?0:r),y:e.clientY+(o?0:n),target_fixed:o,type:t}}le(e,t){var n;if(void 0===t&&(t="click"),!Wa(e.target)&&Uu(e)){var r=this.he(e,t);null!=(n=this.rageclicks)&&n.isRageClick(e.clientX,e.clientY,(new Date).getTime())&&this.de(Ri({},r,{type:"rageclick"})),this.de(r)}}ue(e){!Wa(e.target)&&Uu(e)&&(clearTimeout(this.ve),this.ve=setTimeout(()=>{this.de(this.he(e,"mousemove"))},500))}de(e){if(mi){var t=mi.location.href;this.H=this.H||{},this.H[t]||(this.H[t]=[]),this.H[t].push(e)}}ne(){this.H&&!Vi(this.H)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class qu{constructor(e){this._instance=e}doPageView(e,t){var n,r=this.ce(e,t);return this.fe={pathname:null!==(n=null==mi?void 0:mi.location.pathname)&&void 0!==n?n:"",pageViewId:t,timestamp:e},this._instance.scrollManager.resetContext(),r}doPageLeave(e){var t;return this.ce(e,null==(t=this.fe)?void 0:t.pageViewId)}doEvent(){var e;return{$pageview_id:null==(e=this.fe)?void 0:e.pageViewId}}ce(e,t){var n=this.fe;if(!n)return{$pageview_id:t};var r={$pageview_id:t,$prev_pageview_id:n.pageViewId},i=this._instance.scrollManager.getContext();if(i&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:o,lastScrollY:a,maxScrollY:s,maxContentHeight:l,lastContentY:u,maxContentY:c}=i;if(!(qi(o)||qi(a)||qi(s)||qi(l)||qi(u)||qi(c))){o=Math.ceil(o),a=Math.ceil(a),s=Math.ceil(s),l=Math.ceil(l),u=Math.ceil(u),c=Math.ceil(c);var d=o<=1?1:ao(a/o,0,1,No),h=o<=1?1:ao(s/o,0,1,No),p=l<=1?1:ao(u/l,0,1,No),f=l<=1?1:ao(c/l,0,1,No);r=Vo(r,{$prev_pageview_last_scroll:a,$prev_pageview_last_scroll_percentage:d,$prev_pageview_max_scroll:s,$prev_pageview_max_scroll_percentage:h,$prev_pageview_last_content:u,$prev_pageview_last_content_percentage:p,$prev_pageview_max_content:c,$prev_pageview_max_content_percentage:f})}}return n.pathname&&(r.$prev_pageview_pathname=n.pathname),n.timestamp&&(r.$prev_pageview_duration=(e.getTime()-n.timestamp.getTime())/1e3),r}}var Yu=!!Ei||!!Si,Gu="text/plain",Qu=(e,t)=>{var[n,r]=e.split("?"),i=Ri({},t);null==r||r.split("&").forEach(e=>{var[t]=e.split("=");delete i[t]});var o=function(e,t){var n,r;void 0===t&&(t="&");var i=[];return Uo(e,function(e,t){qi(e)||qi(t)||"undefined"===t||(n=encodeURIComponent((e=>e instanceof File)(e)?e.name:e.toString()),r=encodeURIComponent(t),i[i.length]=r+"="+n)}),i.join(t)}(i);return n+"?"+(o?(r?r+"&":"")+o:r)},Ku=(e,t)=>JSON.stringify(e,(e,t)=>"bigint"==typeof t?t.toString():t,t),Xu=e=>{var{data:t,compression:n}=e;if(t){if(n===_s.GZipJS){var r=Zl(eu(Ku(t)),{mtime:0}),i=new Blob([r],{type:Gu});return{contentType:Gu,body:i,estimatedSize:i.size}}if(n===_s.Base64){var o=function(e){var t,n,r,i,o,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s=0,l=0,u="",c=[];if(!e)return e;e=function(e){var t,n,r,i,o="";for(t=n=0,r=(e=(e+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length,i=0;i<r;i++){var a=e.charCodeAt(i),s=null;a<128?n++:s=a>127&&a<2048?String.fromCharCode(a>>6|192,63&a|128):String.fromCharCode(a>>12|224,a>>6&63|128,63&a|128),Qi(s)||(n>t&&(o+=e.substring(t,n)),o+=s,t=n=i+1)}return n>t&&(o+=e.substring(t,e.length)),o}(e);do{t=(o=e.charCodeAt(s++)<<16|e.charCodeAt(s++)<<8|e.charCodeAt(s++))>>18&63,n=o>>12&63,r=o>>6&63,i=63&o,c[l++]=a.charAt(t)+a.charAt(n)+a.charAt(r)+a.charAt(i)}while(s<e.length);switch(u=c.join(""),e.length%3){case 1:u=u.slice(0,-2)+"==";break;case 2:u=u.slice(0,-1)+"="}return u}(Ku(t)),a=(e=>"data="+encodeURIComponent("string"==typeof e?e:Ku(e)))(o);return{contentType:"application/x-www-form-urlencoded",body:a,estimatedSize:new Blob([a]).size}}var s=Ku(t);return{contentType:"application/json",body:s,estimatedSize:new Blob([s]).size}}},Ju=[];Si&&Ju.push({transport:"fetch",method:e=>{var t,n,{contentType:r,body:i,estimatedSize:o}=null!==(t=Xu(e))&&void 0!==t?t:{},a=new Headers;Uo(e.headers,function(e,t){a.append(t,e)}),r&&a.append("Content-Type",r);var s=e.url,l=null;if(Ci){var u=new Ci;l={signal:u.signal,timeout:setTimeout(()=>u.abort(),e.timeout)}}Si(s,Ri({method:(null==e?void 0:e.method)||"GET",headers:a,keepalive:"POST"===e.method&&(o||0)<52428.8,body:i,signal:null==(n=l)?void 0:n.signal},e.fetchOptions)).then(t=>t.text().then(n=>{var r={statusCode:t.status,text:n};if(200===t.status)try{r.json=JSON.parse(n)}catch(e){No.error(e)}null==e.callback||e.callback(r)})).catch(t=>{No.error(t),null==e.callback||e.callback({statusCode:0,text:t})}).finally(()=>l?clearTimeout(l.timeout):null)}}),Ei&&Ju.push({transport:"XHR",method:e=>{var t,n=new Ei;n.open(e.method||"GET",e.url,!0);var{contentType:r,body:i}=null!==(t=Xu(e))&&void 0!==t?t:{};Uo(e.headers,function(e,t){n.setRequestHeader(t,e)}),r&&n.setRequestHeader("Content-Type",r),e.timeout&&(n.timeout=e.timeout),e.disableXHRCredentials||(n.withCredentials=!0),n.onreadystatechange=()=>{if(4===n.readyState){var t={statusCode:n.status,text:n.responseText};if(200===n.status)try{t.json=JSON.parse(n.responseText)}catch(e){}null==e.callback||e.callback(t)}},n.send(i)}}),null!=xi&&xi.sendBeacon&&Ju.push({transport:"sendBeacon",method:e=>{var t=Qu(e.url,{beacon:"1"});try{var n,{contentType:r,body:i}=null!==(n=Xu(e))&&void 0!==n?n:{},o="string"==typeof i?new Blob([i],{type:r}):i;xi.sendBeacon(t,o)}catch(e){}}});var Zu=function(e,t){if(!function(e){try{new RegExp(e)}catch(e){return!1}return!0}(t))return!1;try{return new RegExp(t).test(e)}catch(e){return!1}};function ec(e,t,n){return Ku({distinct_id:e,userPropertiesToSet:t,userPropertiesToSetOnce:n})}var tc={exact:(e,t)=>t.some(t=>e.some(e=>t===e)),is_not:(e,t)=>t.every(t=>e.every(e=>t!==e)),regex:(e,t)=>t.some(t=>e.some(e=>Zu(t,e))),not_regex:(e,t)=>t.every(t=>e.every(e=>!Zu(t,e))),icontains:(e,t)=>t.map(nc).some(t=>e.map(nc).some(e=>t.includes(e))),not_icontains:(e,t)=>t.map(nc).every(t=>e.map(nc).every(e=>!t.includes(e)))},nc=e=>e.toLowerCase(),rc=zo("[Error tracking]");class ic{constructor(e){var t,n;this.pe=[],this.ge=new Eo([new Co,new Oo,new To,new Po,new Lo,new Fo,new Ao,new Do],[wo,ko]),this._instance=e,this.pe=null!==(t=null==(n=this._instance.persistence)?void 0:n.get_property(sa))&&void 0!==t?t:[]}onRemoteConfig(e){var t,n,r,i=null!==(t=null==(n=e.errorTracking)?void 0:n.suppressionRules)&&void 0!==t?t:[],o=null==(r=e.errorTracking)?void 0:r.captureExtensionExceptions;this.pe=i,this._instance.persistence&&this._instance.persistence.register({[sa]:this.pe,[la]:o})}get _e(){var e,t=!!this._instance.get_property(la),n=this._instance.config.error_tracking.captureExtensionExceptions;return null!==(e=null!=n?n:t)&&void 0!==e&&e}buildProperties(e,t){return this.ge.buildFromUnknown(e,{syntheticException:null==t?void 0:t.syntheticException,mechanism:{handled:null==t?void 0:t.handled}})}sendExceptionEvent(e){if(this.me(e))rc.info("Skipping exception capture because a suppression rule matched");else{if(this._e||!this.ye(e))return this._instance.capture("$exception",e,{_noTruncate:!0,_batchKey:"exceptionEvent"});rc.info("Skipping exception capture because it was thrown by an extension")}}me(e){var t=e.$exception_list;if(!t||!Hi(t)||0===t.length)return!1;var n=t.reduce((e,t)=>{var{type:n,value:r}=t;return Yi(n)&&n.length>0&&e.$exception_types.push(n),Yi(r)&&r.length>0&&e.$exception_values.push(r),e},{$exception_types:[],$exception_values:[]});return this.pe.some(e=>{var t=e.values.map(e=>{var t,r=tc[e.operator],i=Hi(e.value)?e.value:[e.value],o=null!==(t=n[e.key])&&void 0!==t?t:[];return i.length>0&&r(i,o)});return"OR"===e.type?t.some(Boolean):t.every(Boolean)})}ye(e){var t=e.$exception_list;return!(!t||!Hi(t))&&t.flatMap(e=>{var t,n;return null!==(t=null==(n=e.stacktrace)?void 0:n.frames)&&void 0!==t?t:[]}).some(e=>e.filename&&e.filename.startsWith("chrome-extension://"))}}var oc="Mobile",ac="iOS",sc="Android",lc="Tablet",uc=sc+" "+lc,cc="iPad",dc="Apple",hc=dc+" Watch",pc="Safari",fc="BlackBerry",gc="Samsung",mc=gc+"Browser",vc=gc+" Internet",yc="Chrome",bc=yc+" OS",wc=yc+" "+ac,xc="Internet Explorer",_c=xc+" "+oc,kc="Opera",Sc=kc+" Mini",Ec="Edge",Cc="Microsoft "+Ec,Pc="Firefox",Tc=Pc+" "+ac,Ic="Nintendo",Ac="PlayStation",Mc="Xbox",Rc=sc+" "+oc,Fc=oc+" "+pc,Lc="Windows",Dc=Lc+" Phone",Oc="Nokia",jc="Ouya",Nc="Generic",zc=Nc+" "+oc.toLowerCase(),Bc=Nc+" "+lc.toLowerCase(),$c="Konqueror",Hc="(\\d+(\\.\\d+)?)",Wc=new RegExp("Version/"+Hc),Uc=new RegExp(Mc,"i"),Vc=new RegExp(Ac+" \\w+","i"),qc=new RegExp(Ic+" \\w+","i"),Yc=new RegExp(fc+"|PlayBook|BB10","i"),Gc={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},Qc=function(e,t){return t=t||"",Di(e," OPR/")&&Di(e,"Mini")?Sc:Di(e," OPR/")?kc:Yc.test(e)?fc:Di(e,"IE"+oc)||Di(e,"WPDesktop")?_c:Di(e,mc)?vc:Di(e,Ec)||Di(e,"Edg/")?Cc:Di(e,"FBIOS")?"Facebook "+oc:Di(e,"UCWEB")||Di(e,"UCBrowser")?"UC Browser":Di(e,"CriOS")?wc:Di(e,"CrMo")||Di(e,yc)?yc:Di(e,sc)&&Di(e,pc)?Rc:Di(e,"FxiOS")?Tc:Di(e.toLowerCase(),$c.toLowerCase())?$c:((e,t)=>t&&Di(t,dc)||function(e){return Di(e,pc)&&!Di(e,yc)&&!Di(e,sc)}(e))(e,t)?Di(e,oc)?Fc:pc:Di(e,Pc)?Pc:Di(e,"MSIE")||Di(e,"Trident/")?xc:Di(e,"Gecko")?Pc:""},Kc={[_c]:[new RegExp("rv:"+Hc)],[Cc]:[new RegExp(Ec+"?\\/"+Hc)],[yc]:[new RegExp("("+yc+"|CrMo)\\/"+Hc)],[wc]:[new RegExp("CriOS\\/"+Hc)],"UC Browser":[new RegExp("(UCBrowser|UCWEB)\\/"+Hc)],[pc]:[Wc],[Fc]:[Wc],[kc]:[new RegExp("(Opera|OPR)\\/"+Hc)],[Pc]:[new RegExp(Pc+"\\/"+Hc)],[Tc]:[new RegExp("FxiOS\\/"+Hc)],[$c]:[new RegExp("Konqueror[:/]?"+Hc,"i")],[fc]:[new RegExp(fc+" "+Hc),Wc],[Rc]:[new RegExp("android\\s"+Hc,"i")],[vc]:[new RegExp(mc+"\\/"+Hc)],[xc]:[new RegExp("(rv:|MSIE )"+Hc)],Mozilla:[new RegExp("rv:"+Hc)]},Xc=function(e,t){var n=Qc(e,t),r=Kc[n];if(qi(r))return null;for(var i=0;i<r.length;i++){var o=r[i],a=e.match(o);if(a)return parseFloat(a[a.length-2])}return null},Jc=[[new RegExp(Mc+"; "+Mc+" (.*?)[);]","i"),e=>[Mc,e&&e[1]||""]],[new RegExp(Ic,"i"),[Ic,""]],[new RegExp(Ac,"i"),[Ac,""]],[Yc,[fc,""]],[new RegExp(Lc,"i"),(e,t)=>{if(/Phone/.test(t)||/WPDesktop/.test(t))return[Dc,""];if(new RegExp(oc).test(t)&&!/IEMobile\b/.test(t))return[Lc+" "+oc,""];var n=/Windows NT ([0-9.]+)/i.exec(t);if(n&&n[1]){var r=n[1],i=Gc[r]||"";return/arm/i.test(t)&&(i="RT"),[Lc,i]}return[Lc,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,e=>{if(e&&e[3]){var t=[e[3],e[4],e[5]||"0"];return[ac,t.join(".")]}return[ac,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,e=>{var t="";return e&&e.length>=3&&(t=qi(e[2])?e[3]:e[2]),["watchOS",t]}],[new RegExp("("+sc+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+sc+")","i"),e=>{if(e&&e[2]){var t=[e[2],e[3],e[4]||"0"];return[sc,t.join(".")]}return[sc,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,e=>{var t=["Mac OS X",""];if(e&&e[1]){var n=[e[1],e[2],e[3]||"0"];t[1]=n.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[bc,""]],[/Linux|debian/i,["Linux",""]]],Zc=function(e){return qc.test(e)?Ic:Vc.test(e)?Ac:Uc.test(e)?Mc:new RegExp(jc,"i").test(e)?jc:new RegExp("("+Dc+"|WPDesktop)","i").test(e)?Dc:/iPad/.test(e)?cc:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?hc:Yc.test(e)?fc:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":new RegExp(Oc,"i").test(e)?Oc:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(oc).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?sc:uc:sc:new RegExp("(pda|"+oc+")","i").test(e)?zc:new RegExp(lc,"i").test(e)&&!new RegExp(lc+" pc","i").test(e)?Bc:""},ed="https?://(.*)",td=["gclid","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","igshid","ttclid","rdt_cid","epik","qclid","sccid","irclid","_kx"],nd=qo(["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gad_source","mc_cid"],td),rd="<masked>",id=["li_fat_id"];function od(e,t,n){if(!_i)return{};var r,i=t?qo([],td,n||[]):[],o=ad(Cs(_i.URL,i,rd),e),a=(r={},Uo(id,function(e){var t=Ws.J(e);r[e]=t||null}),r);return Vo(a,o)}function ad(e,t){var n=nd.concat(t||[]),r={};return Uo(n,function(t){var n=Es(e,t);r[t]=n||null}),r}function sd(e){var t=function(e){return e?0===e.search(ed+"google.([^/?]*)")?"google":0===e.search(ed+"bing.com")?"bing":0===e.search(ed+"yahoo.com")?"yahoo":0===e.search(ed+"duckduckgo.com")?"duckduckgo":null:null}(e),n="yahoo"!=t?"q":"p",r={};if(!Qi(t)){r.$search_engine=t;var i=_i?Es(_i.referrer,n):"";i.length&&(r.ph_keyword=i)}return r}function ld(){return navigator.language||navigator.userLanguage}function ud(){return(null==_i?void 0:_i.referrer)||"$direct"}function cd(e,t){var n=e?qo([],td,t||[]):[],r=null==ki?void 0:ki.href.substring(0,1e3);return{r:ud().substring(0,1e3),u:r?Cs(r,n,rd):void 0}}function dd(e){var t,{r:n,u:r}=e,i={$referrer:n,$referring_domain:null==n?void 0:"$direct"==n?"$direct":null==(t=Ss(n))?void 0:t.host};if(r){i.$current_url=r;var o=Ss(r);i.$host=null==o?void 0:o.host,i.$pathname=null==o?void 0:o.pathname;var a=ad(r);Vo(i,a)}if(n){var s=sd(n);Vo(i,s)}return i}function hd(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(mi){return}}function pd(){try{return(new Date).getTimezoneOffset()}catch(mi){return}}function fd(e,t){if(!Pi)return{};var n,r,i,o=e?qo([],td,t||[]):[],[a,s]=function(e){for(var t=0;t<Jc.length;t++){var[n,r]=Jc[t],i=n.exec(e),o=i&&(Wi(r)?r(i,e):r);if(o)return o}return["",""]}(Pi);return Vo(Ko({$os:a,$os_version:s,$browser:Qc(Pi,navigator.vendor),$device:Zc(Pi),$device_type:(r=Pi,i=Zc(r),i===cc||i===uc||"Kobo"===i||"Kindle Fire"===i||i===Bc?lc:i===Ic||i===Mc||i===Ac||i===jc?"Console":i===hc?"Wearable":i?oc:"Desktop"),$timezone:hd(),$timezone_offset:pd()}),{$current_url:Cs(null==ki?void 0:ki.href,o,rd),$host:null==ki?void 0:ki.host,$pathname:null==ki?void 0:ki.pathname,$raw_user_agent:Pi.length>1e3?Pi.substring(0,997)+"...":Pi,$browser_version:Xc(Pi,navigator.vendor),$browser_language:ld(),$browser_language_prefix:(n=ld(),"string"==typeof n?n.split("-")[0]:void 0),$screen_height:null==mi?void 0:mi.screen.height,$screen_width:null==mi?void 0:mi.screen.width,$viewport_height:null==mi?void 0:mi.innerHeight,$viewport_width:null==mi?void 0:mi.innerWidth,$lib:"web",$lib_version:Ii.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}var gd=zo("[FeatureFlags]"),md="$active_feature_flags",vd="$override_feature_flags",yd="$feature_flag_payloads",bd="$override_feature_flag_payloads",wd="$feature_flag_request_id",xd=e=>{var t={};for(var[n,r]of Yo(e||{}))r&&(t[n]=r);return t},_d=function(e){return e.FeatureFlags="feature_flags",e.Recordings="recordings",e}({});class kd{constructor(e){this.be=!1,this.we=!1,this.Se=!1,this.ke=!1,this.$e=!1,this.xe=!1,this.Ee=!1,this._instance=e,this.featureFlagEventHandlers=[]}flags(){if(this._instance.config.__preview_remote_config)this.xe=!0;else{var e=!this.Pe&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.Re({disableFlags:e})}}get hasLoadedFlags(){return this.we}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var e=this._instance.get_property(Pa),t=this._instance.get_property(vd),n=this._instance.get_property(bd);if(!n&&!t)return e||{};var r=Vo({},e||{}),i=[...new Set([...Object.keys(n||{}),...Object.keys(t||{})])];for(var o of i){var a,s,l=r[o],u=null==t?void 0:t[o],c=qi(u)?null!==(a=null==l?void 0:l.enabled)&&void 0!==a&&a:!!u,d=qi(u)?l.variant:"string"==typeof u?u:void 0,h=null==n?void 0:n[o],p=Ri({},l,{enabled:c,variant:c?null!=d?d:null==l?void 0:l.variant:void 0});c!==(null==l?void 0:l.enabled)&&(p.original_enabled=null==l?void 0:l.enabled),d!==(null==l?void 0:l.variant)&&(p.original_variant=null==l?void 0:l.variant),h&&(p.metadata=Ri({},null==l?void 0:l.metadata,{payload:h,original_payload:null==l||null==(s=l.metadata)?void 0:s.payload})),r[o]=p}return this.be||(gd.warn(" Overriding feature flag details!",{flagDetails:e,overriddenPayloads:n,finalDetails:r}),this.be=!0),r}getFlagVariants(){var e=this._instance.get_property(Ea),t=this._instance.get_property(vd);if(!t)return e||{};for(var n=Vo({},e),r=Object.keys(t),i=0;i<r.length;i++)n[r[i]]=t[r[i]];return this.be||(gd.warn(" Overriding feature flags!",{enabledFlags:e,overriddenFlags:t,finalFlags:n}),this.be=!0),n}getFlagPayloads(){var e=this._instance.get_property(yd),t=this._instance.get_property(bd);if(!t)return e||{};for(var n=Vo({},e||{}),r=Object.keys(t),i=0;i<r.length;i++)n[r[i]]=t[r[i]];return this.be||(gd.warn(" Overriding feature flag payloads!",{flagPayloads:e,overriddenPayloads:t,finalPayloads:n}),this.be=!0),n}reloadFeatureFlags(){this.ke||this._instance.config.advanced_disable_feature_flags||this.Pe||(this.Pe=setTimeout(()=>{this.Re()},5))}Ie(){clearTimeout(this.Pe),this.Pe=void 0}ensureFlagsLoaded(){this.we||this.Se||this.Pe||this.reloadFeatureFlags()}setAnonymousDistinctId(e){this.$anon_distinct_id=e}setReloadingPaused(e){this.ke=e}Re(e){var t;if(this.Ie(),!this._instance.L())if(this.Se)this.$e=!0;else{var n={token:this._instance.config.token,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:Ri({},(null==(t=this._instance.persistence)?void 0:t.get_initial_props())||{},this._instance.get_property(Ta)||{}),group_properties:this._instance.get_property(Ia)};(null!=e&&e.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(n.disable_flags=!0);var r=this._instance.config.__preview_remote_config,i=r?"/flags/?v=2":"/flags/?v=2&config=true",o=this._instance.config.advanced_only_evaluate_survey_feature_flags?"&only_evaluate_survey_feature_flags=true":"",a=this._instance.requestRouter.endpointFor("api",i+o);r&&(n.timezone=hd()),this.Se=!0,this._instance.Te({method:"POST",url:a,data:n,compression:this._instance.config.disable_compression?void 0:_s.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:e=>{var t,r,i=!0;if(200===e.statusCode&&(this.$e||(this.$anon_distinct_id=void 0),i=!1),this.Se=!1,this.xe||(this.xe=!0,this._instance.Ce(null!==(r=e.json)&&void 0!==r?r:{})),!n.disable_flags||this.$e)if(this.Ee=!i,e.json&&null!=(t=e.json.quotaLimited)&&t.includes(_d.FeatureFlags))gd.warn("You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more.");else{var o;n.disable_flags||this.receivedFeatureFlags(null!==(o=e.json)&&void 0!==o?o:{},i),this.$e&&(this.$e=!1,this.Re())}}})}}getFeatureFlag(e,t){if(void 0===t&&(t={}),this.we||this.getFlags()&&this.getFlags().length>0){var n=this.getFlagVariants()[e],r=""+n,i=this._instance.get_property(wd)||void 0,o=this._instance.get_property(Ra)||{};if((t.send_event||!("send_event"in t))&&(!(e in o)||!o[e].includes(r))){var a,s,l,u,c,d,h,p,f;Hi(o[e])?o[e].push(r):o[e]=[r],null==(a=this._instance.persistence)||a.register({[Ra]:o});var g=this.getFeatureFlagDetails(e),m={$feature_flag:e,$feature_flag_response:n,$feature_flag_payload:this.getFeatureFlagPayload(e)||null,$feature_flag_request_id:i,$feature_flag_bootstrapped_response:(null==(s=this._instance.config.bootstrap)||null==(s=s.featureFlags)?void 0:s[e])||null,$feature_flag_bootstrapped_payload:(null==(l=this._instance.config.bootstrap)||null==(l=l.featureFlagPayloads)?void 0:l[e])||null,$used_bootstrap_value:!this.Ee};qi(null==g||null==(u=g.metadata)?void 0:u.version)||(m.$feature_flag_version=g.metadata.version);var v,y=null!==(c=null==g||null==(d=g.reason)?void 0:d.description)&&void 0!==c?c:null==g||null==(h=g.reason)?void 0:h.code;y&&(m.$feature_flag_reason=y),null!=g&&null!=(p=g.metadata)&&p.id&&(m.$feature_flag_id=g.metadata.id),qi(null==g?void 0:g.original_variant)&&qi(null==g?void 0:g.original_enabled)||(m.$feature_flag_original_response=qi(g.original_variant)?g.original_enabled:g.original_variant),null!=g&&null!=(f=g.metadata)&&f.original_payload&&(m.$feature_flag_original_payload=null==g||null==(v=g.metadata)?void 0:v.original_payload),this._instance.capture("$feature_flag_called",m)}return n}gd.warn('getFeatureFlag for key "'+e+"\" failed. Feature flags didn't load in time.")}getFeatureFlagDetails(e){return this.getFlagsWithDetails()[e]}getFeatureFlagPayload(e){return this.getFlagPayloads()[e]}getRemoteConfigPayload(e,t){var n=this._instance.config.token;this._instance.Te({method:"POST",url:this._instance.requestRouter.endpointFor("api","/flags/?v=2&config=true"),data:{distinct_id:this._instance.get_distinct_id(),token:n},compression:this._instance.config.disable_compression?void 0:_s.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:n=>{var r,i=null==(r=n.json)?void 0:r.featureFlagPayloads;t((null==i?void 0:i[e])||void 0)}})}isFeatureEnabled(e,t){if(void 0===t&&(t={}),this.we||this.getFlags()&&this.getFlags().length>0){var n=this.getFeatureFlag(e,t);return qi(n)?void 0:!!n}gd.warn('isFeatureEnabled for key "'+e+"\" failed. Feature flags didn't load in time.")}addFeatureFlagsHandler(e){this.featureFlagEventHandlers.push(e)}removeFeatureFlagsHandler(e){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(t=>t!==e)}receivedFeatureFlags(e,t){if(this._instance.persistence){this.we=!0;var n=this.getFlagVariants(),r=this.getFlagPayloads(),i=this.getFlagsWithDetails();!function(e,t,n,r,i){void 0===n&&(n={}),void 0===r&&(r={}),void 0===i&&(i={});var o=(e=>{var t=e.flags;return t?(e.featureFlags=Object.fromEntries(Object.keys(t).map(e=>{var n;return[e,null!==(n=t[e].variant)&&void 0!==n?n:t[e].enabled]})),e.featureFlagPayloads=Object.fromEntries(Object.keys(t).filter(e=>t[e].enabled).filter(e=>{var n;return null==(n=t[e].metadata)?void 0:n.payload}).map(e=>{var n;return[e,null==(n=t[e].metadata)?void 0:n.payload]}))):gd.warn("Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version"),e})(e),a=o.flags,s=o.featureFlags,l=o.featureFlagPayloads;if(s){var u=e.requestId;if(Hi(s)){gd.warn("v1 of the feature flags endpoint is deprecated. Please use the latest version.");var c={};if(s)for(var d=0;d<s.length;d++)c[s[d]]=!0;t&&t.register({[md]:s,[Ea]:c})}else{var h=s,p=l,f=a;e.errorsWhileComputingFlags&&(h=Ri({},n,h),p=Ri({},r,p),f=Ri({},i,f)),t&&t.register(Ri({[md]:Object.keys(xd(h)),[Ea]:h||{},[yd]:p||{},[Pa]:f||{}},u?{[wd]:u}:{}))}}}(e,this._instance.persistence,n,r,i),this.Me(t)}}override(e,t){void 0===t&&(t=!1),gd.warn("override is deprecated. Please use overrideFeatureFlags instead."),this.overrideFeatureFlags({flags:e,suppressWarning:t})}overrideFeatureFlags(e){if(!this._instance.__loaded||!this._instance.persistence)return gd.uninitializedWarning("posthog.featureFlags.overrideFeatureFlags");if(!1===e)return this._instance.persistence.unregister(vd),this._instance.persistence.unregister(bd),void this.Me();if(e&&"object"==typeof e&&("flags"in e||"payloads"in e)){var t,n=e;if(this.be=Boolean(null!==(t=n.suppressWarning)&&void 0!==t&&t),"flags"in n)if(!1===n.flags)this._instance.persistence.unregister(vd);else if(n.flags)if(Hi(n.flags)){for(var r={},i=0;i<n.flags.length;i++)r[n.flags[i]]=!0;this._instance.persistence.register({[vd]:r})}else this._instance.persistence.register({[vd]:n.flags});return"payloads"in n&&(!1===n.payloads?this._instance.persistence.unregister(bd):n.payloads&&this._instance.persistence.register({[bd]:n.payloads})),void this.Me()}this.Me()}onFeatureFlags(e){if(this.addFeatureFlagsHandler(e),this.we){var{flags:t,flagVariants:n}=this.Oe();e(t,n)}return()=>this.removeFeatureFlagsHandler(e)}updateEarlyAccessFeatureEnrollment(e,t,n){var r,i=(this._instance.get_property(Ca)||[]).find(t=>t.flagKey===e),o={["$feature_enrollment/"+e]:t},a={$feature_flag:e,$feature_enrollment:t,$set:o};i&&(a.$early_access_feature_name=i.name),n&&(a.$feature_enrollment_stage=n),this._instance.capture("$feature_enrollment_update",a),this.setPersonPropertiesForFlags(o,!1);var s=Ri({},this.getFlagVariants(),{[e]:t});null==(r=this._instance.persistence)||r.register({[md]:Object.keys(xd(s)),[Ea]:s}),this.Me()}getEarlyAccessFeatures(e,t,n){void 0===t&&(t=!1);var r=this._instance.get_property(Ca),i=n?"&"+n.map(e=>"stage="+e).join("&"):"";if(r&&!t)return e(r);this._instance.Te({url:this._instance.requestRouter.endpointFor("api","/api/early_access_features/?token="+this._instance.config.token+i),method:"GET",callback:t=>{var n,r;if(t.json){var i=t.json.earlyAccessFeatures;return null==(n=this._instance.persistence)||n.unregister(Ca),null==(r=this._instance.persistence)||r.register({[Ca]:i}),e(i)}}})}Oe(){var e=this.getFlags(),t=this.getFlagVariants();return{flags:e.filter(e=>t[e]),flagVariants:Object.keys(t).filter(e=>t[e]).reduce((e,n)=>(e[n]=t[n],e),{})}}Me(e){var{flags:t,flagVariants:n}=this.Oe();this.featureFlagEventHandlers.forEach(r=>r(t,n,{errorsLoading:e}))}setPersonPropertiesForFlags(e,t){void 0===t&&(t=!0);var n=this._instance.get_property(Ta)||{};this._instance.register({[Ta]:Ri({},n,e)}),t&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(Ta)}setGroupPropertiesForFlags(e,t){void 0===t&&(t=!0);var n=this._instance.get_property(Ia)||{};0!==Object.keys(n).length&&Object.keys(n).forEach(t=>{n[t]=Ri({},n[t],e[t]),delete e[t]}),this._instance.register({[Ia]:Ri({},n,e)}),t&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(e){if(e){var t=this._instance.get_property(Ia)||{};this._instance.register({[Ia]:Ri({},t,{[e]:{}})})}else this._instance.unregister(Ia)}reset(){this.we=!1,this.Se=!1,this.ke=!1,this.$e=!1,this.xe=!1,this.Ee=!1,this.$anon_distinct_id=void 0,this.Ie(),this.be=!1}}var Sd=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];class Ed{constructor(e,t){this.A=e,this.props={},this.Fe=!1,this.Ae=(e=>{var t="";return e.token&&(t=e.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),e.persistence_name?"ph_"+e.persistence_name:"ph_"+t+"_posthog"})(e),this.it=this.De(e),this.load(),e.debug&&No.info("Persistence loaded",e.persistence,Ri({},this.props)),this.update_config(e,e,t),this.save()}isDisabled(){return!!this.je}De(e){-1===Sd.indexOf(e.persistence.toLowerCase())&&(No.critical("Unknown persistence type "+e.persistence+"; falling back to localStorage+cookie"),e.persistence="localStorage+cookie");var t=e.persistence.toLowerCase();return"localstorage"===t&&Vs.G()?Vs:"localstorage+cookie"===t&&Ys.G()?Ys:"sessionstorage"===t&&Xs.G()?Xs:"memory"===t?Qs:"cookie"===t?Ws:Ys.G()?Ys:Ws}properties(){var e={};return Uo(this.props,function(t,n){if(n===Ea&&Ui(t))for(var r=Object.keys(t),i=0;i<r.length;i++)e["$feature/"+r[i]]=t[r[i]];else a=n,s=!1,(Qi(o=Ha)?s:wi&&o.indexOf===wi?-1!=o.indexOf(a):(Uo(o,function(e){if(s||(s=e===a))return Ho}),s))||(e[n]=t);var o,a,s}),e}load(){if(!this.je){var e=this.it.K(this.Ae);e&&(this.props=Vo({},e))}}save(){this.je||this.it.Y(this.Ae,this.props,this.Le,this.Ne,this.Ue,this.A.debug)}remove(){this.it.X(this.Ae,!1),this.it.X(this.Ae,!0)}clear(){this.remove(),this.props={}}register_once(e,t,n){if(Ui(e)){qi(t)&&(t="None"),this.Le=qi(n)?this.ze:n;var r=!1;if(Uo(e,(e,n)=>{this.props.hasOwnProperty(n)&&this.props[n]!==t||(this.props[n]=e,r=!0)}),r)return this.save(),!0}return!1}register(e,t){if(Ui(e)){this.Le=qi(t)?this.ze:t;var n=!1;if(Uo(e,(t,r)=>{e.hasOwnProperty(r)&&this.props[r]!==t&&(this.props[r]=t,n=!0)}),n)return this.save(),!0}return!1}unregister(e){e in this.props&&(delete this.props[e],this.save())}update_campaign_params(){if(!this.Fe){var e=od(this.A.custom_campaign_params,this.A.mask_personal_data_properties,this.A.custom_personal_data_properties);Vi(Ko(e))||this.register(e),this.Fe=!0}}update_search_keyword(){var e;this.register((e=null==_i?void 0:_i.referrer)?sd(e):{})}update_referrer_info(){var e;this.register_once({$referrer:ud(),$referring_domain:null!=_i&&_i.referrer&&(null==(e=Ss(_i.referrer))?void 0:e.host)||"$direct"},void 0)}set_initial_person_info(){this.props[Oa]||this.props[ja]||this.register_once({[Na]:cd(this.A.mask_personal_data_properties,this.A.custom_personal_data_properties)},void 0)}get_initial_props(){var e={};Uo([ja,Oa],t=>{var n=this.props[t];n&&Uo(n,function(t,n){e["$initial_"+ji(n)]=t})});var t,n,r=this.props[Na];if(r){var i=(t=dd(r),n={},Uo(t,function(e,t){n["$initial_"+ji(t)]=e}),n);Vo(e,i)}return e}safe_merge(e){return Uo(this.props,function(t,n){n in e||(e[n]=t)}),e}update_config(e,t,n){if(this.ze=this.Le=e.cookie_expiration,this.set_disabled(e.disable_persistence||!!n),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie),e.persistence!==t.persistence){var r=this.De(e),i=this.props;this.clear(),this.it=r,this.props=i,this.save()}}set_disabled(e){this.je=e,this.je?this.remove():this.save()}set_cross_subdomain(e){e!==this.Ne&&(this.Ne=e,this.remove(),this.save())}set_secure(e){e!==this.Ue&&(this.Ue=e,this.remove(),this.save())}set_event_timer(e,t){var n=this.props[ra]||{};n[e]=t,this.props[ra]=n,this.save()}remove_event_timer(e){var t=(this.props[ra]||{})[e];return qi(t)||(delete this.props[ra][e],this.save()),t}get_property(e){return this.props[e]}set_property(e,t){this.props[e]=t,this.save()}}(function(e){e.Button="button",e.Tab="tab",e.Selector="selector"})({}),function(e){e.TopLeft="top_left",e.TopRight="top_right",e.TopCenter="top_center",e.MiddleLeft="middle_left",e.MiddleRight="middle_right",e.MiddleCenter="middle_center",e.Left="left",e.Center="center",e.Right="right",e.NextToTrigger="next_to_trigger"}({});var Cd=function(e){return e.Popover="popover",e.API="api",e.Widget="widget",e.ExternalSurvey="external_survey",e}({}),Pd=(function(e){e.Open="open",e.MultipleChoice="multiple_choice",e.SingleChoice="single_choice",e.Rating="rating",e.Link="link"}({}),function(e){e.NextQuestion="next_question",e.End="end",e.ResponseBased="response_based",e.SpecificQuestion="specific_question"}({}),function(e){e.Once="once",e.Recurring="recurring",e.Always="always"}({}),function(e){return e.SHOWN="survey shown",e.DISMISSED="survey dismissed",e.SENT="survey sent",e}({})),Td=function(e){return e.SURVEY_ID="$survey_id",e.SURVEY_NAME="$survey_name",e.SURVEY_RESPONSE="$survey_response",e.SURVEY_ITERATION="$survey_iteration",e.SURVEY_ITERATION_START_DATE="$survey_iteration_start_date",e.SURVEY_PARTIALLY_COMPLETED="$survey_partially_completed",e.SURVEY_SUBMISSION_ID="$survey_submission_id",e.SURVEY_QUESTIONS="$survey_questions",e.SURVEY_COMPLETED="$survey_completed",e}({}),Id=function(e){return e.Popover="popover",e.Inline="inline",e}({});class Ad{constructor(){this.qe={},this.qe={}}on(e,t){return this.qe[e]||(this.qe[e]=[]),this.qe[e].push(t),()=>{this.qe[e]=this.qe[e].filter(e=>e!==t)}}emit(e,t){for(var n of this.qe[e]||[])n(t);for(var r of this.qe["*"]||[])r(e,t)}}class Md{constructor(e){this.Be=new Ad,this.He=(e,t)=>this.We(e,t)&&this.Ge(e,t)&&this.Ve(e,t),this.We=(e,t)=>null==t||!t.event||(null==e?void 0:e.event)===(null==t?void 0:t.event),this._instance=e,this.Je=new Set,this.Ke=new Set}init(){var e,t;qi(null==(e=this._instance)?void 0:e.Ye)||(null==(t=this._instance)||t.Ye((e,t)=>{this.on(e,t)}))}register(e){var t,n;if(!qi(null==(t=this._instance)?void 0:t.Ye)&&(e.forEach(e=>{var t,n;null==(t=this.Ke)||t.add(e),null==(n=e.steps)||n.forEach(e=>{var t;null==(t=this.Je)||t.add((null==e?void 0:e.event)||"")})}),null!=(n=this._instance)&&n.autocapture)){var r,i=new Set;e.forEach(e=>{var t;null==(t=e.steps)||t.forEach(e=>{null!=e&&e.selector&&i.add(null==e?void 0:e.selector)})}),null==(r=this._instance)||r.autocapture.setElementSelectors(i)}}on(e,t){var n;null!=t&&0!=e.length&&(this.Je.has(e)||this.Je.has(null==t?void 0:t.event))&&this.Ke&&(null==(n=this.Ke)?void 0:n.size)>0&&this.Ke.forEach(e=>{this.Xe(t,e)&&this.Be.emit("actionCaptured",e.name)})}Qe(e){this.onAction("actionCaptured",t=>e(t))}Xe(e,t){if(null==(null==t?void 0:t.steps))return!1;for(var n of t.steps)if(this.He(e,n))return!0;return!1}onAction(e,t){return this.Be.on(e,t)}Ge(e,t){if(null!=t&&t.url){var n,r=null==e||null==(n=e.properties)?void 0:n.$current_url;if(!r||"string"!=typeof r)return!1;if(!Md.Ze(r,null==t?void 0:t.url,(null==t?void 0:t.url_matching)||"contains"))return!1}return!0}static Ze(e,t,n){switch(n){case"regex":return!!mi&&Zu(e,t);case"exact":return t===e;case"contains":var r=Md.tr(t).replace(/_/g,".").replace(/%/g,".*");return Zu(e,r);default:return!1}}static tr(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}Ve(e,t){if((null!=t&&t.href||null!=t&&t.tag_name||null!=t&&t.text)&&!this.ir(e).some(e=>!(null!=t&&t.href&&!Md.Ze(e.href||"",null==t?void 0:t.href,(null==t?void 0:t.href_matching)||"exact"))&&(null==t||!t.tag_name||e.tag_name===(null==t?void 0:t.tag_name))&&!(null!=t&&t.text&&!Md.Ze(e.text||"",null==t?void 0:t.text,(null==t?void 0:t.text_matching)||"exact")&&!Md.Ze(e.$el_text||"",null==t?void 0:t.text,(null==t?void 0:t.text_matching)||"exact"))))return!1;if(null!=t&&t.selector){var n,r=null==e||null==(n=e.properties)?void 0:n.$element_selectors;if(!r)return!1;if(!r.includes(null==t?void 0:t.selector))return!1}return!0}ir(e){return null==(null==e?void 0:e.properties.$elements)?[]:null==e?void 0:e.properties.$elements}}var Rd=zo("[Surveys]"),Fd="seenSurvey_",Ld=(e,t)=>{var n="$survey_"+t+"/"+e.id;return e.current_iteration&&e.current_iteration>0&&(n="$survey_"+t+"/"+e.id+"/"+e.current_iteration),n},Dd=e=>{var t=""+Fd+e.id;return e.current_iteration&&e.current_iteration>0&&(t=""+Fd+e.id+"_"+e.current_iteration),t},Od=[Cd.Popover,Cd.Widget,Cd.API],jd={ignoreConditions:!1,ignoreDelay:!1,displayType:Id.Popover};class Nd{constructor(e){this._instance=e,this.er=new Map,this.rr=new Map}register(e){var t;qi(null==(t=this._instance)?void 0:t.Ye)||(this.sr(e),this.nr(e))}nr(e){var t=e.filter(e=>{var t,n;return(null==(t=e.conditions)?void 0:t.actions)&&(null==(n=e.conditions)||null==(n=n.actions)||null==(n=n.values)?void 0:n.length)>0});0!==t.length&&(null==this.ar&&(this.ar=new Md(this._instance),this.ar.init(),this.ar.Qe(e=>{this.onAction(e)})),t.forEach(e=>{var t,n,r,i,o;e.conditions&&null!=(t=e.conditions)&&t.actions&&null!=(n=e.conditions)&&null!=(n=n.actions)&&n.values&&(null==(r=e.conditions)||null==(r=r.actions)||null==(r=r.values)?void 0:r.length)>0&&(null==(i=this.ar)||i.register(e.conditions.actions.values),null==(o=e.conditions)||null==(o=o.actions)||null==(o=o.values)||o.forEach(t=>{if(t&&t.name){var n=this.rr.get(t.name);n&&n.push(e.id),this.rr.set(t.name,n||[e.id])}}))}))}sr(e){var t;0!==e.filter(e=>{var t,n;return(null==(t=e.conditions)?void 0:t.events)&&(null==(n=e.conditions)||null==(n=n.events)||null==(n=n.values)?void 0:n.length)>0}).length&&(null==(t=this._instance)||t.Ye((e,t)=>{this.onEvent(e,t)}),e.forEach(e=>{var t;null==(t=e.conditions)||null==(t=t.events)||null==(t=t.values)||t.forEach(t=>{if(t&&t.name){var n=this.er.get(t.name);n&&n.push(e.id),this.er.set(t.name,n||[e.id])}})}))}onEvent(e,t){var n,r,i=(null==(n=this._instance)||null==(n=n.persistence)?void 0:n.props[Ma])||[];if(Pd.SHOWN===e&&t&&i.length>0){var o;Rd.info("survey event matched, removing survey from activated surveys",{event:e,eventPayload:t,existingActivatedSurveys:i});var a=null==t||null==(o=t.properties)?void 0:o.$survey_id;if(a){var s=i.indexOf(a);s>=0&&(i.splice(s,1),this.lr(i))}}else if(this.er.has(e)){Rd.info("survey event name matched",{event:e,eventPayload:t,surveys:this.er.get(e)});var l=[];null==(r=this._instance)||r.getSurveys(t=>{l=t.filter(t=>{var n;return null==(n=this.er.get(e))?void 0:n.includes(t.id)})});var u=l.filter(n=>{var r,i=null==(r=n.conditions)||null==(r=r.events)||null==(r=r.values)?void 0:r.find(t=>t.name===e);return!!i&&(!i.propertyFilters||Object.entries(i.propertyFilters).every(e=>{var n,[r,i]=e,o=null==t||null==(n=t.properties)?void 0:n[r];if(qi(o)||Qi(o))return!1;var a=[String(o)],s=tc[i.operator];return s?s(i.values,a):(Rd.warn("Unknown property comparison operator: "+i.operator),!1)}))});this.lr(i.concat(u.map(e=>e.id)||[]))}}onAction(e){var t,n=(null==(t=this._instance)||null==(t=t.persistence)?void 0:t.props[Ma])||[];this.rr.has(e)&&this.lr(n.concat(this.rr.get(e)||[]))}lr(e){var t;Rd.info("updating activated surveys",{activatedSurveys:e}),null==(t=this._instance)||null==(t=t.persistence)||t.register({[Ma]:[...new Set(e)]})}getSurveys(){var e;return(null==(e=this._instance)||null==(e=e.persistence)?void 0:e.props[Ma])||[]}getEventToSurveys(){return this.er}ur(){return this.ar}}class zd{constructor(e){this.hr=void 0,this._surveyManager=null,this.dr=!1,this.vr=!1,this.cr=[],this._instance=e,this._surveyEventReceiver=null}onRemoteConfig(e){if(!this._instance.config.disable_surveys){var t=e.surveys;if(Ki(t))return Rd.warn("Flags not loaded yet. Not loading surveys.");var n=Hi(t);this.hr=n?t.length>0:t,Rd.info("flags response received, isSurveysEnabled: "+this.hr),this.loadIfEnabled()}}reset(){localStorage.removeItem("lastSeenSurveyDate");for(var e=[],t=0;t<localStorage.length;t++){var n=localStorage.key(t);(null!=n&&n.startsWith(Fd)||null!=n&&n.startsWith("inProgressSurvey_"))&&e.push(n)}e.forEach(e=>localStorage.removeItem(e))}loadIfEnabled(){if(!this._surveyManager)if(this.vr)Rd.info("Already initializing surveys, skipping...");else if(this._instance.config.disable_surveys)Rd.info("Disabled. Not loading surveys.");else if(this._instance.config.cookieless_mode&&this._instance.consent.isOptedOut())Rd.info("Not loading surveys in cookieless mode without consent.");else{var e=null==Ti?void 0:Ti.__PosthogExtensions__;if(e){if(!qi(this.hr)||this._instance.config.advanced_enable_surveys){var t=this.hr||this._instance.config.advanced_enable_surveys;this.vr=!0;try{var n=e.generateSurveys;if(n)return void this.pr(n,t);var r=e.loadExternalDependency;if(!r)return void this.gr("PostHog loadExternalDependency extension not found.");r(this._instance,"surveys",n=>{n||!e.generateSurveys?this.gr("Could not load surveys script",n):this.pr(e.generateSurveys,t)})}catch(e){throw this.gr("Error initializing surveys",e),e}finally{this.vr=!1}}}else Rd.error("PostHog Extensions not found.")}}pr(e,t){this._surveyManager=e(this._instance,t),this._surveyEventReceiver=new Nd(this._instance),Rd.info("Surveys loaded successfully"),this._r({isLoaded:!0})}gr(e,t){Rd.error(e,t),this._r({isLoaded:!1,error:e})}onSurveysLoaded(e){return this.cr.push(e),this._surveyManager&&this._r({isLoaded:!0}),()=>{this.cr=this.cr.filter(t=>t!==e)}}getSurveys(e,t){if(void 0===t&&(t=!1),this._instance.config.disable_surveys)return Rd.info("Disabled. Not loading surveys."),e([]);var n=this._instance.get_property(Aa);if(n&&!t)return e(n,{isLoaded:!0});if(this.dr)return e([],{isLoaded:!1,error:"Surveys are already being loaded"});try{this.dr=!0,this._instance.Te({url:this._instance.requestRouter.endpointFor("api","/api/surveys/?token="+this._instance.config.token),method:"GET",timeout:this._instance.config.surveys_request_timeout_ms,callback:t=>{var n;this.dr=!1;var r=t.statusCode;if(200!==r||!t.json){var i="Surveys API could not be loaded, status: "+r;return Rd.error(i),e([],{isLoaded:!1,error:i})}var o,a=t.json.surveys||[],s=a.filter(e=>function(e){return!(!e.start_date||e.end_date)}(e)&&(function(e){var t;return!(null==(t=e.conditions)||null==(t=t.events)||null==(t=t.values)||!t.length)}(e)||function(e){var t;return!(null==(t=e.conditions)||null==(t=t.actions)||null==(t=t.values)||!t.length)}(e)));return s.length>0&&(null==(o=this._surveyEventReceiver)||o.register(s)),null==(n=this._instance.persistence)||n.register({[Aa]:a}),e(a,{isLoaded:!0})}})}catch(e){throw this.dr=!1,e}}_r(e){for(var t of this.cr)try{if(!e.isLoaded)return t([],e);this.getSurveys(t)}catch(e){Rd.error("Error in survey callback",e)}}getActiveMatchingSurveys(e,t){if(void 0===t&&(t=!1),!Ki(this._surveyManager))return this._surveyManager.getActiveMatchingSurveys(e,t);Rd.warn("init was not called")}mr(e){var t=null;return this.getSurveys(n=>{var r;t=null!==(r=n.find(t=>t.id===e))&&void 0!==r?r:null}),t}yr(e){if(Ki(this._surveyManager))return{eligible:!1,reason:"SDK is not enabled or survey functionality is not yet loaded"};var t="string"==typeof e?this.mr(e):e;return t?this._surveyManager.checkSurveyEligibility(t):{eligible:!1,reason:"Survey not found"}}canRenderSurvey(e){if(Ki(this._surveyManager))return Rd.warn("init was not called"),{visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"};var t=this.yr(e);return{visible:t.eligible,disabledReason:t.reason}}canRenderSurveyAsync(e,t){return Ki(this._surveyManager)?(Rd.warn("init was not called"),Promise.resolve({visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"})):new Promise(n=>{this.getSurveys(t=>{var r,i=null!==(r=t.find(t=>t.id===e))&&void 0!==r?r:null;if(i){var o=this.yr(i);n({visible:o.eligible,disabledReason:o.reason})}else n({visible:!1,disabledReason:"Survey not found"})},t)})}renderSurvey(e,t){var n;if(Ki(this._surveyManager))Rd.warn("init was not called");else{var r="string"==typeof e?this.mr(e):e;if(null!=r&&r.id)if(Od.includes(r.type)){var i=null==_i?void 0:_i.querySelector(t);if(i)return null!=(n=r.appearance)&&n.surveyPopupDelaySeconds?(Rd.info("Rendering survey "+r.id+" with delay of "+r.appearance.surveyPopupDelaySeconds+" seconds"),void setTimeout(()=>{var e,t;Rd.info("Rendering survey "+r.id+" with delay of "+(null==(e=r.appearance)?void 0:e.surveyPopupDelaySeconds)+" seconds"),null==(t=this._surveyManager)||t.renderSurvey(r,i),Rd.info("Survey "+r.id+" rendered")},1e3*r.appearance.surveyPopupDelaySeconds)):void this._surveyManager.renderSurvey(r,i);Rd.warn("Survey element not found")}else Rd.warn("Surveys of type "+r.type+" cannot be rendered in the app");else Rd.warn("Survey not found")}}displaySurvey(e,t){var n;if(Ki(this._surveyManager))Rd.warn("init was not called");else{var r=this.mr(e);if(r){var i=r;if(null!=(n=r.appearance)&&n.surveyPopupDelaySeconds&&t.ignoreDelay&&(i=Ri({},r,{appearance:Ri({},r.appearance,{surveyPopupDelaySeconds:0})})),!1===t.ignoreConditions){var o=this.canRenderSurvey(r);if(!o.visible)return void Rd.warn("Survey is not eligible to be displayed: ",o.disabledReason)}t.displayType!==Id.Inline?this._surveyManager.handlePopoverSurvey(i):this.renderSurvey(i,t.selector)}else Rd.warn("Survey not found")}}}var Bd=zo("[RateLimiter]");class $d{constructor(e){var t,n;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=e=>{var t=e.text;if(t&&t.length)try{(JSON.parse(t).quota_limited||[]).forEach(e=>{Bd.info((e||"events")+" is quota limited."),this.serverLimits[e]=(new Date).getTime()+6e4})}catch(e){return void Bd.warn('could not rate limit - continuing. Error: "'+(null==e?void 0:e.message)+'"',{text:t})}},this.instance=e,this.captureEventsPerSecond=(null==(t=e.config.rate_limiting)?void 0:t.events_per_second)||10,this.captureEventsBurstLimit=Math.max((null==(n=e.config.rate_limiting)?void 0:n.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(e){var t,n,r;void 0===e&&(e=!1);var i=(new Date).getTime(),o=null!==(t=null==(n=this.instance.persistence)?void 0:n.get_property(Da))&&void 0!==t?t:{tokens:this.captureEventsBurstLimit,last:i};o.tokens+=(i-o.last)/1e3*this.captureEventsPerSecond,o.last=i,o.tokens>this.captureEventsBurstLimit&&(o.tokens=this.captureEventsBurstLimit);var a=o.tokens<1;return a||e||(o.tokens=Math.max(0,o.tokens-1)),!a||this.lastEventRateLimited||e||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to "+this.captureEventsPerSecond+" events per second and "+this.captureEventsBurstLimit+" events burst limit."},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=a,null==(r=this.instance.persistence)||r.set_property(Da,o),{isRateLimited:a,remainingTokens:o.tokens}}isServerRateLimited(e){var t=this.serverLimits[e||"events"]||!1;return!1!==t&&(new Date).getTime()<t}}var Hd=zo("[RemoteConfig]");class Wd{constructor(e){this._instance=e}get remoteConfig(){var e;return null==(e=Ti._POSTHOG_REMOTE_CONFIG)||null==(e=e[this._instance.config.token])?void 0:e.config}br(e){var t,n;null!=(t=Ti.__PosthogExtensions__)&&t.loadExternalDependency?null==(n=Ti.__PosthogExtensions__)||null==n.loadExternalDependency||n.loadExternalDependency(this._instance,"remote-config",()=>e(this.remoteConfig)):(Hd.error("PostHog Extensions not found. Cannot load remote config."),e())}wr(e){this._instance.Te({method:"GET",url:this._instance.requestRouter.endpointFor("assets","/array/"+this._instance.config.token+"/config"),callback:t=>{e(t.json)}})}load(){try{if(this.remoteConfig)return Hd.info("Using preloaded remote config",this.remoteConfig),void this.Ce(this.remoteConfig);if(this._instance.L())return void Hd.warn("Remote config is disabled. Falling back to local config.");this.br(e=>{if(!e)return Hd.info("No config found after loading remote JS config. Falling back to JSON."),void this.wr(e=>{this.Ce(e)});this.Ce(e)})}catch(mi){Hd.error("Error loading remote config",mi)}}Ce(e){e?this._instance.config.__preview_remote_config?(this._instance.Ce(e),!1!==e.hasFeatureFlags&&this._instance.featureFlags.ensureFlagsLoaded()):Hd.info("__preview_remote_config is disabled. Logging config instead",e):Hd.error("Failed to fetch remote config from PostHog.")}}var Ud=3e3;class Vd{constructor(e,t){this.Sr=!0,this.kr=[],this.$r=ao((null==t?void 0:t.flush_interval_ms)||Ud,250,5e3,No.createLogger("flush interval"),Ud),this.Er=e}enqueue(e){this.kr.push(e),this.Pr||this.Rr()}unload(){this.Ir();var e=this.kr.length>0?this.Tr():{},t=Object.values(e);[...t.filter(e=>0===e.url.indexOf("/e")),...t.filter(e=>0!==e.url.indexOf("/e"))].map(e=>{this.Er(Ri({},e,{transport:"sendBeacon"}))})}enable(){this.Sr=!1,this.Rr()}Rr(){var e=this;this.Sr||(this.Pr=setTimeout(()=>{if(this.Ir(),this.kr.length>0){var t=this.Tr(),n=function(){var n=t[r],i=(new Date).getTime();n.data&&Hi(n.data)&&Uo(n.data,e=>{e.offset=Math.abs(e.timestamp-i),delete e.timestamp}),e.Er(n)};for(var r in t)n()}},this.$r))}Ir(){clearTimeout(this.Pr),this.Pr=void 0}Tr(){var e={};return Uo(this.kr,t=>{var n,r=t,i=(r?r.batchKey:null)||r.url;qi(e[i])&&(e[i]=Ri({},r,{data:[]})),null==(n=e[i].data)||n.push(r.data)}),this.kr=[],e}}var qd=["retriesPerformedSoFar"];class Yd{constructor(e){this.Cr=!1,this.Mr=3e3,this.kr=[],this._instance=e,this.kr=[],this.Or=!0,!qi(mi)&&"onLine"in mi.navigator&&(this.Or=mi.navigator.onLine,ea(mi,"online",()=>{this.Or=!0,this.ne()}),ea(mi,"offline",()=>{this.Or=!1}))}get length(){return this.kr.length}retriableRequest(e){var{retriesPerformedSoFar:t}=e,n=Fi(e,qd);Xi(t)&&t>0&&(n.url=Qu(n.url,{retry_count:t})),this._instance.Te(Ri({},n,{callback:e=>{200!==e.statusCode&&(e.statusCode<400||e.statusCode>=500)&&(null!=t?t:0)<10?this.Fr(Ri({retriesPerformedSoFar:t},n)):null==n.callback||n.callback(e)}}))}Fr(e){var t=e.retriesPerformedSoFar||0;e.retriesPerformedSoFar=t+1;var n=function(e){var t=3e3*Math.pow(2,e),n=t/2,r=Math.min(18e5,t),i=(Math.random()-.5)*(r-n);return Math.ceil(r+i)}(t),r=Date.now()+n;this.kr.push({retryAt:r,requestOptions:e});var i="Enqueued failed request for retry in "+n;navigator.onLine||(i+=" (Browser is offline)"),No.warn(i),this.Cr||(this.Cr=!0,this.Ar())}Ar(){this.Dr&&clearTimeout(this.Dr),this.Dr=setTimeout(()=>{this.Or&&this.kr.length>0&&this.ne(),this.Ar()},this.Mr)}ne(){var e=Date.now(),t=[],n=this.kr.filter(n=>n.retryAt<e||(t.push(n),!1));if(this.kr=t,n.length>0)for(var{requestOptions:r}of n)this.retriableRequest(r)}unload(){for(var{requestOptions:e}of(this.Dr&&(clearTimeout(this.Dr),this.Dr=void 0),this.kr))try{this._instance.Te(Ri({},e,{transport:"sendBeacon"}))}catch(e){No.error(e)}this.kr=[]}}class Gd{constructor(e){this.jr=()=>{var e,t,n,r;this.Lr||(this.Lr={});var i=this.scrollElement(),o=this.scrollY(),a=i?Math.max(0,i.scrollHeight-i.clientHeight):0,s=o+((null==i?void 0:i.clientHeight)||0),l=(null==i?void 0:i.scrollHeight)||0;this.Lr.lastScrollY=Math.ceil(o),this.Lr.maxScrollY=Math.max(o,null!==(e=this.Lr.maxScrollY)&&void 0!==e?e:0),this.Lr.maxScrollHeight=Math.max(a,null!==(t=this.Lr.maxScrollHeight)&&void 0!==t?t:0),this.Lr.lastContentY=s,this.Lr.maxContentY=Math.max(s,null!==(n=this.Lr.maxContentY)&&void 0!==n?n:0),this.Lr.maxContentHeight=Math.max(l,null!==(r=this.Lr.maxContentHeight)&&void 0!==r?r:0)},this._instance=e}getContext(){return this.Lr}resetContext(){var e=this.Lr;return setTimeout(this.jr,0),e}startMeasuringScrollPosition(){ea(mi,"scroll",this.jr,{capture:!0}),ea(mi,"scrollend",this.jr,{capture:!0}),ea(mi,"resize",this.jr)}scrollElement(){if(!this._instance.config.scroll_root_selector)return null==mi?void 0:mi.document.documentElement;var e=Hi(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector];for(var t of e){var n=null==mi?void 0:mi.document.querySelector(t);if(n)return n}}scrollY(){if(this._instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollTop||0}return mi&&(mi.scrollY||mi.pageYOffset||mi.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollLeft||0}return mi&&(mi.scrollX||mi.pageXOffset||mi.document.documentElement.scrollLeft)||0}}var Qd=e=>cd(null==e?void 0:e.config.mask_personal_data_properties,null==e?void 0:e.config.custom_personal_data_properties);class Kd{constructor(e,t,n,r){this.Nr=e=>{var t=this.Ur();if(!t||t.sessionId!==e){var n={sessionId:e,props:this.zr(this._instance)};this.qr.register({[La]:n})}},this._instance=e,this.Br=t,this.qr=n,this.zr=r||Qd,this.Br.onSessionId(this.Nr)}Ur(){return this.qr.props[La]}getSetOnceProps(){var e,t=null==(e=this.Ur())?void 0:e.props;return t?"r"in t?dd(t):{$referring_domain:t.referringDomain,$pathname:t.initialPathName,utm_source:t.utm_source,utm_campaign:t.utm_campaign,utm_medium:t.utm_medium,utm_content:t.utm_content,utm_term:t.utm_term}:{}}getSessionProps(){var e={};return Uo(Ko(this.getSetOnceProps()),(t,n)=>{"$current_url"===n&&(n="url"),e["$session_entry_"+ji(n)]=t}),e}}var Xd=zo("[SessionId]");class Jd{on(e,t){return this.Hr.on(e,t)}constructor(e,t,n){var r;if(this.Wr=[],this.Hr=new Ad,this.Gr=(e,t)=>Math.abs(e-t)>this.sessionTimeoutMs,!e.persistence)throw new Error("SessionIdManager requires a PostHogPersistence instance");if("always"===e.config.cookieless_mode)throw new Error('SessionIdManager cannot be used with cookieless_mode="always"');this.A=e.config,this.qr=e.persistence,this.pi=void 0,this.Ft=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.Vr=t||zs,this.Jr=n||zs;var i=this.A.persistence_name||this.A.token,o=this.A.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*ao(o,60,36e3,Xd.createLogger("session_idle_timeout_seconds"),1800),e.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.Kr(),this.Yr="ph_"+i+"_window_id",this.Xr="ph_"+i+"_primary_window_exists",this.Qr()){var a=Xs.K(this.Yr),s=Xs.K(this.Xr);a&&!s?this.pi=a:Xs.X(this.Yr),Xs.Y(this.Xr,!0)}if(null!=(r=this.A.bootstrap)&&r.sessionID)try{var l=(()=>{var e=this.A.bootstrap.sessionID.replace(/-/g,"");if(32!==e.length)throw new Error("Not a valid UUID");if("7"!==e[12])throw new Error("Not a UUIDv7");return parseInt(e.substring(0,12),16)})();this.Zr(this.A.bootstrap.sessionID,(new Date).getTime(),l)}catch(e){Xd.error("Invalid sessionID in bootstrap",e)}this.ts()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(e){return qi(this.Wr)&&(this.Wr=[]),this.Wr.push(e),this.Ft&&e(this.Ft,this.pi),()=>{this.Wr=this.Wr.filter(t=>t!==e)}}Qr(){return"memory"!==this.A.persistence&&!this.qr.je&&Xs.G()}es(e){e!==this.pi&&(this.pi=e,this.Qr()&&Xs.Y(this.Yr,e))}rs(){return this.pi?this.pi:this.Qr()?Xs.K(this.Yr):null}Zr(e,t,n){e===this.Ft&&t===this._sessionActivityTimestamp&&n===this._sessionStartTimestamp||(this._sessionStartTimestamp=n,this._sessionActivityTimestamp=t,this.Ft=e,this.qr.register({[xa]:[t,e,n]}))}ss(){if(this.Ft&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this.Ft,this._sessionStartTimestamp];var e=this.qr.props[xa];return Hi(e)&&2===e.length&&e.push(e[0]),e||[0,null,0]}resetSessionId(){this.Zr(null,null,null)}ts(){ea(mi,"beforeunload",()=>{this.Qr()&&Xs.X(this.Xr)},{capture:!1})}checkAndGetSessionAndWindowId(e,t){if(void 0===e&&(e=!1),void 0===t&&(t=null),"always"===this.A.cookieless_mode)throw new Error('checkAndGetSessionAndWindowId should not be called with cookieless_mode="always"');var n=t||(new Date).getTime(),[r,i,o]=this.ss(),a=this.rs(),s=Xi(o)&&o>0&&Math.abs(n-o)>864e5,l=!1,u=!i,c=!e&&this.Gr(n,r);u||c||s?(i=this.Vr(),a=this.Jr(),Xd.info("new session ID generated",{sessionId:i,windowId:a,changeReason:{noSessionId:u,activityTimeout:c,sessionPastMaximumLength:s}}),o=n,l=!0):a||(a=this.Jr(),l=!0);var d=0===r||!e||s?n:r,h=0===o?(new Date).getTime():o;return this.es(a),this.Zr(i,d,h),e||this.Kr(),l&&this.Wr.forEach(e=>e(i,a,l?{noSessionId:u,activityTimeout:c,sessionPastMaximumLength:s}:void 0)),{sessionId:i,windowId:a,sessionStartTimestamp:h,changeReason:l?{noSessionId:u,activityTimeout:c,sessionPastMaximumLength:s}:void 0,lastActivityTimestamp:r}}Kr(){clearTimeout(this.ns),this.ns=setTimeout(()=>{var[e]=this.ss();if(this.Gr((new Date).getTime(),e)){var t=this.Ft;this.resetSessionId(),this.Hr.emit("forcedIdleReset",{idleSessionId:t})}},1.1*this.sessionTimeoutMs)}}var Zd=["$set_once","$set"],eh=zo("[SiteApps]");class th{constructor(e){this._instance=e,this.os=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}ls(e,t){if(t){var n=this.globalsForEvent(t);this.os.push(n),this.os.length>1e3&&(this.os=this.os.slice(10))}}get siteAppLoaders(){var e;return null==(e=Ti._POSTHOG_REMOTE_CONFIG)||null==(e=e[this._instance.config.token])?void 0:e.siteApps}init(){if(this.isEnabled){var e=this._instance.Ye(this.ls.bind(this));this.us=()=>{e(),this.os=[],this.us=void 0}}}globalsForEvent(e){var t,n,r,i,o,a,s;if(!e)throw new Error("Event payload is required");var l={},u=this._instance.get_property("$groups")||[],c=this._instance.get_property("$stored_group_properties")||{};for(var[d,h]of Object.entries(c))l[d]={id:u[d],type:d,properties:h};var{$set_once:p,$set:f}=e;return{event:Ri({},Fi(e,Zd),{properties:Ri({},e.properties,f?{$set:Ri({},null!==(t=null==(n=e.properties)?void 0:n.$set)&&void 0!==t?t:{},f)}:{},p?{$set_once:Ri({},null!==(r=null==(i=e.properties)?void 0:i.$set_once)&&void 0!==r?r:{},p)}:{}),elements_chain:null!==(o=null==(a=e.properties)?void 0:a.$elements_chain)&&void 0!==o?o:"",distinct_id:null==(s=e.properties)?void 0:s.distinct_id}),person:{properties:this._instance.get_property("$stored_person_properties")},groups:l}}setupSiteApp(e){var t=this.apps[e.id],n=()=>{var n;!t.errored&&this.os.length&&(eh.info("Processing "+this.os.length+" events for site app with id "+e.id),this.os.forEach(e=>null==t.processEvent?void 0:t.processEvent(e)),t.processedBuffer=!0),Object.values(this.apps).every(e=>e.processedBuffer||e.errored)&&(null==(n=this.us)||n.call(this))},r=!1,i=i=>{t.errored=!i,t.loaded=!0,eh.info("Site app with id "+e.id+" "+(i?"loaded":"errored")),r&&n()};try{var{processEvent:o}=e.init({posthog:this._instance,callback:e=>{i(e)}});o&&(t.processEvent=o),r=!0}catch(t){eh.error("Error while initializing PostHog app with config id "+e.id,t),i(!1)}if(r&&t.loaded)try{n()}catch(n){eh.error("Error while processing buffered events PostHog app with config id "+e.id,n),t.errored=!0}}hs(){var e=this.siteAppLoaders||[];for(var t of e)this.apps[t.id]={id:t.id,loaded:!1,errored:!1,processedBuffer:!1};for(var n of e)this.setupSiteApp(n)}ds(e){if(0!==Object.keys(this.apps).length){var t=this.globalsForEvent(e);for(var n of Object.values(this.apps))try{null==n.processEvent||n.processEvent(t)}catch(t){eh.error("Error while processing event "+e.event+" for site app "+n.id,t)}}}onRemoteConfig(e){var t,n,r,i=this;if(null!=(t=this.siteAppLoaders)&&t.length)return this.isEnabled?(this.hs(),void this._instance.on("eventCaptured",e=>this.ds(e))):void eh.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');if(null==(n=this.us)||n.call(this),null!=(r=e.siteApps)&&r.length)if(this.isEnabled){var o=function(e){var t;Ti["__$$ph_site_app_"+e]=i._instance,null==(t=Ti.__PosthogExtensions__)||null==t.loadSiteApp||t.loadSiteApp(i._instance,s,t=>{if(t)return eh.error("Error while initializing PostHog app with config id "+e,t)})};for(var{id:a,url:s}of e.siteApps)o(a)}else eh.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}var nh=["amazonbot","amazonproductbot","app.hypefactors.com","applebot","archive.org_bot","awariobot","backlinksextendedbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","dataforseobot","deepscan","duckduckbot","facebookexternal","facebookcatalog","http://yandex.com/bots","hubspot","ia_archiver","leikibot","linkedinbot","meta-externalagent","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","sebot-wa","sitebulb","slackbot","slurp","trendictionbot","turnitin","twitterbot","vercel-screenshot","vercelbot","yahoo! slurp","yandexbot","zoombot","bot.htm","bot.php","(bot;","bot/","crawler","ahrefsbot","ahrefssiteaudit","semrushbot","siteauditbot","splitsignalbot","gptbot","oai-searchbot","chatgpt-user","perplexitybot","better uptime bot","sentryuptimebot","uptimerobot","headlesschrome","cypress","google-hoteladsverifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleother","google-cloudvertexbot","googleweblight","mediapartners-google","storebot-google","google-inspectiontool","bytespider"],rh=function(e,t){if(!e)return!1;var n=e.toLowerCase();return nh.concat(t||[]).some(e=>{var t=e.toLowerCase();return-1!==n.indexOf(t)})},ih=function(e,t){if(!e)return!1;var n=e.userAgent;if(n&&rh(n,t))return!0;try{var r=null==e?void 0:e.userAgentData;if(null!=r&&r.brands&&r.brands.some(e=>rh(null==e?void 0:e.brand,t)))return!0}catch(e){}return!!e.webdriver},oh=function(e){return e.US="us",e.EU="eu",e.CUSTOM="custom",e}({}),ah="i.posthog.com";class sh{constructor(e){this.vs={},this.instance=e}get apiHost(){var e=this.instance.config.api_host.trim().replace(/\/$/,"");return"https://app.posthog.com"===e?"https://us.i.posthog.com":e}get uiHost(){var e,t=null==(e=this.instance.config.ui_host)?void 0:e.replace(/\/$/,"");return t||(t=this.apiHost.replace("."+ah,".posthog.com")),"https://app.posthog.com"===t?"https://us.posthog.com":t}get region(){return this.vs[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.vs[this.apiHost]=oh.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.vs[this.apiHost]=oh.EU:this.vs[this.apiHost]=oh.CUSTOM),this.vs[this.apiHost]}endpointFor(e,t){if(void 0===t&&(t=""),t&&(t="/"===t[0]?t:"/"+t),"ui"===e)return this.uiHost+t;if(this.region===oh.CUSTOM)return this.apiHost+t;var n=ah+t;switch(e){case"assets":return"https://"+this.region+"-assets."+n;case"api":return"https://"+this.region+"."+n}}}var lh={icontains:(e,t)=>!!mi&&t.href.toLowerCase().indexOf(e.toLowerCase())>-1,not_icontains:(e,t)=>!!mi&&-1===t.href.toLowerCase().indexOf(e.toLowerCase()),regex:(e,t)=>!!mi&&Zu(t.href,e),not_regex:(e,t)=>!!mi&&!Zu(t.href,e),exact:(e,t)=>t.href===e,is_not:(e,t)=>t.href!==e};class uh{constructor(e){var t=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(e){void 0===e&&(e=!1),t.getWebExperiments(e=>{uh.cs("retrieved web experiments from the server"),t.fs=new Map,e.forEach(e=>{if(e.feature_flag_key){var n;t.fs&&(uh.cs("setting flag key ",e.feature_flag_key," to web experiment ",e),null==(n=t.fs)||n.set(e.feature_flag_key,e));var r=t._instance.getFeatureFlag(e.feature_flag_key);Yi(r)&&e.variants[r]&&t.ps(e.name,r,e.variants[r].transforms)}else if(e.variants)for(var i in e.variants){var o=e.variants[i];uh.gs(o)&&t.ps(e.name,i,o.transforms)}})},e)},this._instance=e,this._instance.onFeatureFlags(e=>{this.onFeatureFlags(e)})}onFeatureFlags(e){if(this._is_bot())uh.cs("Refusing to render web experiment since the viewer is a likely bot");else if(!this._instance.config.disable_web_experiments){if(Ki(this.fs))return this.fs=new Map,this.loadIfEnabled(),void this.previewWebExperiment();uh.cs("applying feature flags",e),e.forEach(e=>{var t;if(this.fs&&null!=(t=this.fs)&&t.has(e)){var n,r=this._instance.getFeatureFlag(e),i=null==(n=this.fs)?void 0:n.get(e);r&&null!=i&&i.variants[r]&&this.ps(i.name,r,i.variants[r].transforms)}})}}previewWebExperiment(){var e=uh.getWindowLocation();if(null!=e&&e.search){var t=Es(null==e?void 0:e.search,"__experiment_id"),n=Es(null==e?void 0:e.search,"__experiment_variant");t&&n&&(uh.cs("previewing web experiments "+t+" && "+n),this.getWebExperiments(e=>{this._s(parseInt(t),n,e)},!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(e,t,n){if(this._instance.config.disable_web_experiments&&!n)return e([]);var r=this._instance.get_property("$web_experiments");if(r&&!t)return e(r);this._instance.Te({url:this._instance.requestRouter.endpointFor("api","/api/web_experiments/?token="+this._instance.config.token),method:"GET",callback:t=>{if(200!==t.statusCode||!t.json)return e([]);var n=t.json.experiments||[];return e(n)}})}_s(e,t,n){var r=n.filter(t=>t.id===e);r&&r.length>0&&(uh.cs("Previewing web experiment ["+r[0].name+"] with variant ["+t+"]"),this.ps(r[0].name,t,r[0].variants[t].transforms))}static gs(e){return!Ki(e.conditions)&&uh.ys(e)&&uh.bs(e)}static ys(e){var t;if(Ki(e.conditions)||Ki(null==(t=e.conditions)?void 0:t.url))return!0;var n,r,i,o=uh.getWindowLocation();return!!o&&(null==(n=e.conditions)||!n.url||lh[null!==(r=null==(i=e.conditions)?void 0:i.urlMatchType)&&void 0!==r?r:"icontains"](e.conditions.url,o))}static getWindowLocation(){return null==mi?void 0:mi.location}static bs(e){var t;if(Ki(e.conditions)||Ki(null==(t=e.conditions)?void 0:t.utm))return!0;var n=od();if(n.utm_source){var r,i,o,a,s,l,u,c,d=null==(r=e.conditions)||null==(r=r.utm)||!r.utm_campaign||(null==(i=e.conditions)||null==(i=i.utm)?void 0:i.utm_campaign)==n.utm_campaign,h=null==(o=e.conditions)||null==(o=o.utm)||!o.utm_source||(null==(a=e.conditions)||null==(a=a.utm)?void 0:a.utm_source)==n.utm_source,p=null==(s=e.conditions)||null==(s=s.utm)||!s.utm_medium||(null==(l=e.conditions)||null==(l=l.utm)?void 0:l.utm_medium)==n.utm_medium,f=null==(u=e.conditions)||null==(u=u.utm)||!u.utm_term||(null==(c=e.conditions)||null==(c=c.utm)?void 0:c.utm_term)==n.utm_term;return d&&p&&f&&h}return!1}static cs(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];No.info("[WebExperiments] "+e,n)}ps(e,t,n){this._is_bot()?uh.cs("Refusing to render web experiment since the viewer is a likely bot"):"control"!==t?n.forEach(n=>{if(n.selector){var r;uh.cs("applying transform of variant "+t+" for experiment "+e+" ",n);var i=null==(r=document)?void 0:r.querySelectorAll(n.selector);null==i||i.forEach(e=>{var t=e;n.html&&(t.innerHTML=n.html),n.css&&t.setAttribute("style",n.css)})}}):uh.cs("Control variants leave the page unmodified.")}_is_bot(){return xi&&this._instance?ih(xi,this._instance.config.custom_blocked_useragents):void 0}}var ch=zo("[PostHog ExternalIntegrations]"),dh={intercom:"intercom-integration",crispChat:"crisp-chat-integration"};class hh{constructor(e){this._instance=e}nt(e,t){var n;null==(n=Ti.__PosthogExtensions__)||null==n.loadExternalDependency||n.loadExternalDependency(this._instance,e,e=>{if(e)return ch.error("failed to load script",e);t()})}startIfEnabledOrStop(){var e=this,t=function(t){var n,i,o;!r||null!=(n=Ti.__PosthogExtensions__)&&null!=(n=n.integrations)&&n[t]||e.nt(dh[t],()=>{var n;null==(n=Ti.__PosthogExtensions__)||null==(n=n.integrations)||null==(n=n[t])||n.start(e._instance)}),!r&&null!=(i=Ti.__PosthogExtensions__)&&null!=(i=i.integrations)&&i[t]&&(null==(o=Ti.__PosthogExtensions__)||null==(o=o.integrations)||null==(o=o[t])||o.stop())};for(var[n,r]of Object.entries(null!==(i=this._instance.config.integrations)&&void 0!==i?i:{})){var i;t(n)}}}var ph="[SessionRecording]",fh=zo(ph);class gh{get started(){var e;return!(null==(e=this.ws)||!e.isStarted)}get status(){var e;return(null==(e=this.ws)?void 0:e.status)||"lazy_loading"}constructor(e){if(this._forceAllowLocalhostNetworkCapture=!1,this.ni=void 0,this._instance=e,!this._instance.sessionManager)throw fh.error("started without valid sessionManager"),new Error(ph+" started without valid sessionManager. This is a bug.");if("always"===this._instance.config.cookieless_mode)throw new Error(ph+' cannot be used with cookieless_mode="always"')}get qt(){var e,t=!(null==(e=this._instance.get_property(ha))||!e.enabled),n=!this._instance.config.disable_session_recording,r=this._instance.config.disable_session_recording||this._instance.consent.isOptedOut();return mi&&t&&n&&!r}startIfEnabledOrStop(e){var t;if(!this.qt||null==(t=this.ws)||!t.isStarted){var n=!qi(Object.assign)&&!qi(Array.from);this.qt&&n?(this.Ss(e),fh.info("starting")):this.stopRecording()}}Ss(e){var t,n,r;this.qt&&(null!=Ti&&null!=(t=Ti.__PosthogExtensions__)&&null!=(t=t.rrweb)&&t.record&&null!=(n=Ti.__PosthogExtensions__)&&n.initSessionRecording?this.Pi(e):null==(r=Ti.__PosthogExtensions__)||null==r.loadExternalDependency||r.loadExternalDependency(this._instance,this.Ri,t=>{if(t)return fh.error("could not load recorder",t);this.Pi(e)}))}stopRecording(){var e;null==(e=this.ws)||e.stop()}ki(){var e;null==(e=this._instance.persistence)||e.unregister(_a)}Ei(e){if(this._instance.persistence){var t,n,r=this._instance.persistence,i=()=>{var t=e.sessionRecording,n=null==t?void 0:t.sampleRate,i=Ki(n)?null:parseFloat(n);Ki(i)&&this.ki();var o=null==t?void 0:t.minimumDurationMilliseconds;r.register({[ha]:Ri({enabled:!!t},t,{networkPayloadCapture:Ri({capturePerformance:e.capturePerformance},null==t?void 0:t.networkPayloadCapture),canvasRecording:{enabled:null==t?void 0:t.recordCanvas,fps:null==t?void 0:t.canvasFps,quality:null==t?void 0:t.canvasQuality},sampleRate:i,minimumDurationMilliseconds:qi(o)?null:o,endpoint:null==t?void 0:t.endpoint,triggerMatchType:null==t?void 0:t.triggerMatchType,masking:null==t?void 0:t.masking,urlTriggers:null==t?void 0:t.urlTriggers})})};i(),null==(t=this.ni)||t.call(this),this.ni=null==(n=this._instance.sessionManager)?void 0:n.onSessionId(i)}}onRemoteConfig(e){"sessionRecording"in e?(this.Ei(e),this.startIfEnabledOrStop()):fh.info("skipping remote config with no sessionRecording",e)}log(e,t){var n;void 0===t&&(t="log"),null!=(n=this.ws)&&n.log?this.ws.log(e,t):fh.warn("log called before recorder was ready")}get Ri(){var e,t,n=null==(e=this._instance)||null==(e=e.persistence)?void 0:e.get_property(ha);return(null==n||null==(t=n.scriptConfig)?void 0:t.script)||"lazy-recorder"}Pi(e){var t,n;if(null==(t=Ti.__PosthogExtensions__)||!t.initSessionRecording)throw Error("Called on script loaded before session recording is available");this.ws||(this.ws=null==(n=Ti.__PosthogExtensions__)?void 0:n.initSessionRecording(this._instance),this.ws._forceAllowLocalhostNetworkCapture=this._forceAllowLocalhostNetworkCapture),this.ws.start(e)}onRRwebEmit(e){var t;null==(t=this.ws)||null==t.onRRwebEmit||t.onRRwebEmit(e)}overrideLinkedFlag(){var e;null==(e=this.ws)||e.overrideLinkedFlag()}overrideSampling(){var e;null==(e=this.ws)||e.overrideSampling()}overrideTrigger(e){var t;null==(t=this.ws)||t.overrideTrigger(e)}get sdkDebugProperties(){var e;return(null==(e=this.ws)?void 0:e.sdkDebugProperties)||{$recording_status:this.status}}tryAddCustomEvent(e,t){var n;return!(null==(n=this.ws)||!n.tryAddCustomEvent(e,t))}}var mh={},vh=()=>{},yh="posthog",bh=!Yu&&-1===(null==Pi?void 0:Pi.indexOf("MSIE"))&&-1===(null==Pi?void 0:Pi.indexOf("Mozilla")),wh=e=>{var t;return{api_host:"https://us.i.posthog.com",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:Jo(null==_i?void 0:_i.location),persistence:"localStorage+cookie",persistence_name:"",loaded:vh,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:"2025-05-24"!==e||"history_change",capture_pageleave:"if_capture_pageview",defaults:null!=e?e:"unset",debug:ki&&Yi(null==ki?void 0:ki.search)&&-1!==ki.search.indexOf("__posthog_debug=true")||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_surveys_automatic_display:!1,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:"https:"===(null==mi||null==(t=mi.location)?void 0:t.protocol),ip:!1,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",consent_persistence_name:null,opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_flags:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_only_evaluate_survey_feature_flags:!1,advanced_enable_surveys:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:e=>{var t="Bad HTTP status: "+e.statusCode+" "+e.text;No.error(t)},get_device_id:e=>e,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",before_send:void 0,request_queue_config:{flush_interval_ms:Ud},error_tracking:{},_onCapture:vh,__preview_eager_load_replay:!0}},xh=e=>{var t={};qi(e.process_person)||(t.person_profiles=e.process_person),qi(e.xhr_headers)||(t.request_headers=e.xhr_headers),qi(e.cookie_name)||(t.persistence_name=e.cookie_name),qi(e.disable_cookie)||(t.disable_persistence=e.disable_cookie),qi(e.store_google)||(t.save_campaign_params=e.store_google),qi(e.verbose)||(t.debug=e.verbose);var n=Vo({},t,e);return Hi(e.property_blacklist)&&(qi(e.property_denylist)?n.property_denylist=e.property_blacklist:Hi(e.property_denylist)?n.property_denylist=[...e.property_blacklist,...e.property_denylist]:No.error("Invalid value for property_denylist config: "+e.property_denylist)),n};class _h{constructor(){this.__forceAllowLocalhost=!1}get ks(){return this.__forceAllowLocalhost}set ks(e){No.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=e}}class kh{get decideEndpointWasHit(){var e,t;return null!==(e=null==(t=this.featureFlags)?void 0:t.hasLoadedFlags)&&void 0!==e&&e}get flagsEndpointWasHit(){var e,t;return null!==(e=null==(t=this.featureFlags)?void 0:t.hasLoadedFlags)&&void 0!==e&&e}constructor(){this.webPerformance=new _h,this.$s=!1,this.version=Ii.LIB_VERSION,this.xs=new Ad,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=wh(),this.SentryIntegration=Ru,this.sentryIntegration=e=>function(e,t){var n=Mu(e,t);return{name:Au,processEvent:e=>n(e)}}(this,e),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.Es=!1,this.Ps=null,this.Rs=null,this.Is=null,this.featureFlags=new kd(this),this.toolbar=new ju(this),this.scrollManager=new Gd(this),this.pageViewManager=new qu(this),this.surveys=new zd(this),this.experiments=new uh(this),this.exceptions=new ic(this),this.rateLimiter=new $d(this),this.requestRouter=new sh(this),this.consent=new Zs(this),this.externalIntegrations=new hh(this),this.people={set:(e,t,n)=>{var r=Yi(e)?{[e]:t}:e;this.setPersonProperties(r),null==n||n({})},set_once:(e,t,n)=>{var r=Yi(e)?{[e]:t}:e;this.setPersonProperties(void 0,r),null==n||n({})}},this.on("eventCaptured",e=>No.info('send "'+(null==e?void 0:e.event)+'"',e))}init(e,t,n){if(n&&n!==yh){var r,i=null!==(r=mh[n])&&void 0!==r?r:new kh;return i._init(e,t,n),mh[n]=i,mh[yh][n]=i,i}return this._init(e,t,n)}_init(e,t,n){var r,i;if(void 0===t&&(t={}),qi(e)||Gi(e))return No.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return No.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},this.Ts=t,this.Cs=[],t.person_profiles&&(this.Rs=t.person_profiles),this.set_config(Vo({},wh(t.defaults),xh(t),{name:n,token:e})),this.config.on_xhr_error&&No.error("on_xhr_error is deprecated. Use on_request_error instead"),this.compression=t.disable_compression?void 0:_s.GZipJS;var o=this.Ms();this.persistence=new Ed(this.config,o),this.sessionPersistence="sessionStorage"===this.config.persistence||"memory"===this.config.persistence?this.persistence:new Ed(Ri({},this.config,{persistence:"sessionStorage"}),o);var a=Ri({},this.persistence.props),s=Ri({},this.sessionPersistence.props);this.register({$initialization_time:(new Date).toISOString()}),this.Os=new Vd(e=>this.Fs(e),this.config.request_queue_config),this.As=new Yd(this),this.__request_queue=[];var l="always"===this.config.cookieless_mode||"on_reject"===this.config.cookieless_mode&&this.consent.isExplicitlyOptedOut();if(l||(this.sessionManager=new Jd(this),this.sessionPropsManager=new Kd(this,this.sessionManager,this.persistence)),new zu(this).startIfEnabledOrStop(),this.siteApps=new th(this),null==(r=this.siteApps)||r.init(),l||(this.config.__preview_eager_load_replay?this.sessionRecording=new Tu(this):this.sessionRecording=new gh(this),this.sessionRecording.startIfEnabledOrStop()),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new Rs(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new Vu(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new Hu(this),this.exceptionObserver=new ol(this),this.exceptionObserver.startIfEnabled(),this.deadClicksAutocapture=new rl(this,nl),this.deadClicksAutocapture.startIfEnabled(),this.historyAutocapture=new sl(this),this.historyAutocapture.startIfEnabled(),Ii.DEBUG=Ii.DEBUG||this.config.debug,Ii.DEBUG&&No.info("Starting in debug mode",{this:this,config:t,thisC:Ri({},this.config),p:a,s:s}),void 0!==(null==(i=t.bootstrap)?void 0:i.distinctID)){var u,c,d=this.config.get_device_id(zs()),h=null!=(u=t.bootstrap)&&u.isIdentifiedID?d:t.bootstrap.distinctID;this.persistence.set_property(Fa,null!=(c=t.bootstrap)&&c.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:t.bootstrap.distinctID,$device_id:h})}if(this.Ds()){var p,f,g=Object.keys((null==(p=t.bootstrap)?void 0:p.featureFlags)||{}).filter(e=>{var n;return!(null==(n=t.bootstrap)||null==(n=n.featureFlags)||!n[e])}).reduce((e,n)=>{var r;return e[n]=(null==(r=t.bootstrap)||null==(r=r.featureFlags)?void 0:r[n])||!1,e},{}),m=Object.keys((null==(f=t.bootstrap)?void 0:f.featureFlagPayloads)||{}).filter(e=>g[e]).reduce((e,n)=>{var r,i;return null!=(r=t.bootstrap)&&null!=(r=r.featureFlagPayloads)&&r[n]&&(e[n]=null==(i=t.bootstrap)||null==(i=i.featureFlagPayloads)?void 0:i[n]),e},{});this.featureFlags.receivedFeatureFlags({featureFlags:g,featureFlagPayloads:m})}if(l)this.register_once({distinct_id:$a,$device_id:null},"");else if(!this.get_distinct_id()){var v=this.config.get_device_id(zs());this.register_once({distinct_id:v,$device_id:v},""),this.persistence.set_property(Fa,"anonymous")}return ea(mi,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),t.segment?function(e,t){var n=e.config.segment;if(!n)return t();!function(e,t){var n=e.config.segment;if(!n)return t();var r=n=>{var r=()=>n.anonymousId()||zs();e.config.get_device_id=r,n.id()&&(e.register({distinct_id:n.id(),$device_id:r()}),e.persistence.set_property(Fa,"identified")),t()},i=n.user();"then"in i&&Wi(i.then)?i.then(e=>r(e)):r(i)}(e,()=>{n.register((e=>{Promise&&Promise.resolve||Iu.warn("This browser does not have Promise support, and can not use the segment integration");var t=(t,n)=>{if(!n)return t;t.event.userId||t.event.anonymousId===e.get_distinct_id()||(Iu.info("No userId set, resetting PostHog"),e.reset()),t.event.userId&&t.event.userId!==e.get_distinct_id()&&(Iu.info("UserId set, identifying with PostHog"),e.identify(t.event.userId));var r=e.calculateEventProperties(n,t.event.properties);return t.event.properties=Object.assign({},r,t.event.properties),t};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:e=>t(e,e.event.event),page:e=>t(e,"$pageview"),identify:e=>t(e,"$identify"),screen:e=>t(e,"$screen")}})(e)).then(()=>{t()})})}(this,()=>this.js()):this.js(),Wi(this.config._onCapture)&&this.config._onCapture!==vh&&(No.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",e=>this.config._onCapture(e.event,e))),this.config.ip&&No.warn('The `ip` config option has NO EFFECT AT ALL and has been deprecated. Use a custom transformation or "Discard IP data" project setting instead. See https://posthog.com/tutorials/web-redact-properties#hiding-customer-ip-address for more information.'),this}Ce(e){var t,n,r,i,o,a,s,l;if(!_i||!_i.body)return No.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(()=>{this.Ce(e)},500);this.compression=void 0,e.supportedCompression&&!this.config.disable_compression&&(this.compression=Di(e.supportedCompression,_s.GZipJS)?_s.GZipJS:Di(e.supportedCompression,_s.Base64)?_s.Base64:void 0),null!=(t=e.analytics)&&t.endpoint&&(this.analyticsDefaultEndpoint=e.analytics.endpoint),this.set_config({person_profiles:this.Rs?this.Rs:"identified_only"}),null==(n=this.siteApps)||n.onRemoteConfig(e),null==(r=this.sessionRecording)||r.onRemoteConfig(e),null==(i=this.autocapture)||i.onRemoteConfig(e),null==(o=this.heatmaps)||o.onRemoteConfig(e),this.surveys.onRemoteConfig(e),null==(a=this.webVitalsAutocapture)||a.onRemoteConfig(e),null==(s=this.exceptionObserver)||s.onRemoteConfig(e),this.exceptions.onRemoteConfig(e),null==(l=this.deadClicksAutocapture)||l.onRemoteConfig(e)}js(){try{this.config.loaded(this)}catch(mi){No.critical("`loaded` function failed",mi)}this.Ls(),this.config.capture_pageview&&setTimeout(()=>{(this.consent.isOptedIn()||"always"===this.config.cookieless_mode)&&this.Ns()},1),new Wd(this).load(),this.featureFlags.flags()}Ls(){var e;this.is_capturing()&&this.config.request_batching&&(null==(e=this.Os)||e.enable())}_dom_loaded(){this.is_capturing()&&Wo(this.__request_queue,e=>this.Fs(e)),this.__request_queue=[],this.Ls()}_handle_unload(){var e,t;this.config.request_batching?(this.Us()&&this.capture("$pageleave"),null==(e=this.Os)||e.unload(),null==(t=this.As)||t.unload()):this.Us()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}Te(e){this.__loaded&&(bh?this.__request_queue.push(e):this.rateLimiter.isServerRateLimited(e.batchKey)||(e.transport=e.transport||this.config.api_transport,e.url=Qu(e.url,{ip:this.config.ip?1:0}),e.headers=Ri({},this.config.request_headers),e.compression="best-available"===e.compression?this.compression:e.compression,e.disableXHRCredentials=this.config.__preview_disable_xhr_credentials,this.config.__preview_disable_beacon&&(e.disableTransport=["sendBeacon"]),e.fetchOptions=e.fetchOptions||this.config.fetch_options,(e=>{var t,n,r,i=Ri({},e);i.timeout=i.timeout||6e4,i.url=Qu(i.url,{_:(new Date).getTime().toString(),ver:Ii.LIB_VERSION,compression:i.compression});var o=null!==(t=i.transport)&&void 0!==t?t:"fetch",a=Ju.filter(e=>!i.disableTransport||!e.transport||!i.disableTransport.includes(e.transport)),s=null!==(n=null==(r=Zo(a,e=>e.transport===o))?void 0:r.method)&&void 0!==n?n:a[0].method;if(!s)throw new Error("No available transport method");s(i)})(Ri({},e,{callback:t=>{var n,r;this.rateLimiter.checkForLimiting(t),t.statusCode>=400&&(null==(n=(r=this.config).on_request_error)||n.call(r,t)),null==e.callback||e.callback(t)}}))))}Fs(e){this.As?this.As.retriableRequest(e):this.Te(e)}_execute_array(e){var t,n=[],r=[],i=[];Wo(e,e=>{e&&(t=e[0],Hi(t)?i.push(e):Wi(e)?e.call(this):Hi(e)&&"alias"===t?n.push(e):Hi(e)&&-1!==t.indexOf("capture")&&Wi(this[t])?i.push(e):r.push(e))});var o=function(e,t){Wo(e,function(e){if(Hi(e[0])){var n=t;Uo(e,function(e){n=n[e[0]].apply(n,e.slice(1))})}else this[e[0]].apply(this,e.slice(1))},t)};o(n,this),o(r,this),o(i,this)}Ds(){var e,t;return(null==(e=this.config.bootstrap)?void 0:e.featureFlags)&&Object.keys(null==(t=this.config.bootstrap)?void 0:t.featureFlags).length>0||!1}push(e){this._execute_array([e])}capture(e,t,n){var r;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.Os){if(this.is_capturing())if(!qi(e)&&Yi(e)){if(this.config.opt_out_useragent_filter||!this._is_bot()){var i=null!=n&&n.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(null==i||!i.isRateLimited){null!=t&&t.$current_url&&!Yi(null==t?void 0:t.$current_url)&&(No.error("Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value."),null==t||delete t.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var o=new Date,a=(null==n?void 0:n.timestamp)||o,s=zs(),l={uuid:s,event:e,properties:this.calculateEventProperties(e,t||{},a,s)};i&&(l.properties.$lib_rate_limit_remaining_tokens=i.remainingTokens),(null==n?void 0:n.$set)&&(l.$set=null==n?void 0:n.$set);var u,c=this.zs(null==n?void 0:n.$set_once);if(c&&(l.$set_once=c),(l=function(e,t){return n=e,r=e=>Yi(e)&&!Qi(t)?e.slice(0,t):e,i=new Set,function e(t,n){return t!==Object(t)?r?r(t):t:i.has(t)?void 0:(i.add(t),Hi(t)?(o=[],Wo(t,t=>{o.push(e(t))})):(o={},Uo(t,(t,n)=>{i.has(t)||(o[n]=e(t,n))})),o);var o}(n);var n,r,i}(l,null!=n&&n._noTruncate?null:this.config.properties_string_max_length)).timestamp=a,qi(null==n?void 0:n.timestamp)||(l.properties.$event_time_override_provided=!0,l.properties.$event_time_override_system_time=o),e===Pd.DISMISSED||e===Pd.SENT){var d=null==t?void 0:t[Td.SURVEY_ID],h=null==t?void 0:t[Td.SURVEY_ITERATION];u={id:d,current_iteration:h},localStorage.getItem(Dd(u))||localStorage.setItem(Dd(u),"true"),l.$set=Ri({},l.$set,{[Ld({id:d,current_iteration:h},e===Pd.SENT?"responded":"dismissed")]:!0})}var p=Ri({},l.properties.$set,l.$set);if(Vi(p)||this.setPersonPropertiesForFlags(p),!Ki(this.config.before_send)){var f=this.qs(l);if(!f)return;l=f}this.xs.emit("eventCaptured",l);var g={method:"POST",url:null!==(r=null==n?void 0:n._url)&&void 0!==r?r:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:l,compression:"best-available",batchKey:null==n?void 0:n._batchKey};return!this.config.request_batching||n&&(null==n||!n._batchKey)||null!=n&&n.send_instantly?this.Fs(g):this.Os.enqueue(g),l}No.critical("This capture call is ignored due to client rate limiting.")}}else No.error("No event name provided to posthog.capture")}else No.uninitializedWarning("posthog.capture")}Ye(e){return this.on("eventCaptured",t=>e(t.event,t))}calculateEventProperties(e,t,n,r,i){if(n=n||new Date,!this.persistence||!this.sessionPersistence)return t;var o=i?void 0:this.persistence.remove_event_timer(e),a=Ri({},t);if(a.token=this.config.token,a.$config_defaults=this.config.defaults,("always"==this.config.cookieless_mode||"on_reject"==this.config.cookieless_mode&&this.consent.isExplicitlyOptedOut())&&(a.$cookieless_mode=!0),"$snapshot"===e){var s=Ri({},this.persistence.properties(),this.sessionPersistence.properties());return a.distinct_id=s.distinct_id,(!Yi(a.distinct_id)&&!Xi(a.distinct_id)||Gi(a.distinct_id))&&No.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),a}var l,u=fd(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:c,windowId:d}=this.sessionManager.checkAndGetSessionAndWindowId(i,n.getTime());a.$session_id=c,a.$window_id=d}this.sessionPropsManager&&Vo(a,this.sessionPropsManager.getSessionProps());try{var h;this.sessionRecording&&Vo(a,this.sessionRecording.sdkDebugProperties),a.$sdk_debug_retry_queue_size=null==(h=this.As)?void 0:h.length}catch(e){a.$sdk_debug_error_capturing_properties=String(e)}if(this.requestRouter.region===oh.CUSTOM&&(a.$lib_custom_api_host=this.config.api_host),l="$pageview"!==e||i?"$pageleave"!==e||i?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(n):this.pageViewManager.doPageView(n,r),a=Vo(a,l),"$pageview"===e&&_i&&(a.title=_i.title),!qi(o)){var p=n.getTime()-o;a.$duration=parseFloat((p/1e3).toFixed(3))}Pi&&this.config.opt_out_useragent_filter&&(a.$browser_type=this._is_bot()?"bot":"browser"),(a=Vo({},u,this.persistence.properties(),this.sessionPersistence.properties(),a)).$is_identified=this._isIdentified(),Hi(this.config.property_denylist)?Uo(this.config.property_denylist,function(e){delete a[e]}):No.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var f=this.config.sanitize_properties;f&&(No.error("sanitize_properties is deprecated. Use before_send instead"),a=f(a,e));var g=this.Bs();return a.$process_person_profile=g,g&&!i&&this.Hs("_calculate_event_properties"),a}zs(e){var t;if(!this.persistence||!this.Bs())return e;if(this.$s)return e;var n=this.persistence.get_initial_props(),r=null==(t=this.sessionPropsManager)?void 0:t.getSetOnceProps(),i=Vo({},n,r||{},e||{}),o=this.config.sanitize_properties;return o&&(No.error("sanitize_properties is deprecated. Use before_send instead"),i=o(i,"$set_once")),this.$s=!0,Vi(i)?void 0:i}register(e,t){var n;null==(n=this.persistence)||n.register(e,t)}register_once(e,t,n){var r;null==(r=this.persistence)||r.register_once(e,t,n)}register_for_session(e){var t;null==(t=this.sessionPersistence)||t.register(e)}unregister(e){var t;null==(t=this.persistence)||t.unregister(e)}unregister_for_session(e){var t;null==(t=this.sessionPersistence)||t.unregister(e)}Ws(e,t){this.register({[e]:t})}getFeatureFlag(e,t){return this.featureFlags.getFeatureFlag(e,t)}getFeatureFlagPayload(e){var t=this.featureFlags.getFeatureFlagPayload(e);try{return JSON.parse(t)}catch(e){return t}}isFeatureEnabled(e,t){return this.featureFlags.isFeatureEnabled(e,t)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(e,t,n){this.featureFlags.updateEarlyAccessFeatureEnrollment(e,t,n)}getEarlyAccessFeatures(e,t,n){return void 0===t&&(t=!1),this.featureFlags.getEarlyAccessFeatures(e,t,n)}on(e,t){return this.xs.on(e,t)}onFeatureFlags(e){return this.featureFlags.onFeatureFlags(e)}onSurveysLoaded(e){return this.surveys.onSurveysLoaded(e)}onSessionId(e){var t,n;return null!==(t=null==(n=this.sessionManager)?void 0:n.onSessionId(e))&&void 0!==t?t:()=>{}}getSurveys(e,t){void 0===t&&(t=!1),this.surveys.getSurveys(e,t)}getActiveMatchingSurveys(e,t){void 0===t&&(t=!1),this.surveys.getActiveMatchingSurveys(e,t)}renderSurvey(e,t){this.surveys.renderSurvey(e,t)}displaySurvey(e,t){void 0===t&&(t=jd),this.surveys.displaySurvey(e,t)}canRenderSurvey(e){return this.surveys.canRenderSurvey(e)}canRenderSurveyAsync(e,t){return void 0===t&&(t=!1),this.surveys.canRenderSurveyAsync(e,t)}identify(e,t,n){if(!this.__loaded||!this.persistence)return No.uninitializedWarning("posthog.identify");if(Xi(e)&&(e=e.toString(),No.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),e)if(["distinct_id","distinctid"].includes(e.toLowerCase()))No.critical('The string "'+e+'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(e!==$a){if(this.Hs("posthog.identify")){var r=this.get_distinct_id();if(this.register({$user_id:e}),!this.get_property("$device_id")){var i=r;this.register_once({$had_persisted_distinct_id:!0,$device_id:i},"")}e!==r&&e!==this.get_property(na)&&(this.unregister(na),this.register({distinct_id:e}));var o="anonymous"===(this.persistence.get_property(Fa)||"anonymous");e!==r&&o?(this.persistence.set_property(Fa,"identified"),this.setPersonPropertiesForFlags(Ri({},n||{},t||{}),!1),this.capture("$identify",{distinct_id:e,$anon_distinct_id:r},{$set:t||{},$set_once:n||{}}),this.Is=ec(e,t,n),this.featureFlags.setAnonymousDistinctId(r)):(t||n)&&this.setPersonProperties(t,n),e!==r&&(this.reloadFeatureFlags(),this.unregister(Ra))}}else No.critical('The string "'+$a+'" was set in posthog.identify which indicates an error. This ID is only used as a sentinel value.');else No.error("Unique user id has not been set in posthog.identify")}setPersonProperties(e,t){if((e||t)&&this.Hs("posthog.setPersonProperties")){var n=ec(this.get_distinct_id(),e,t);this.Is!==n?(this.setPersonPropertiesForFlags(Ri({},t||{},e||{})),this.capture("$set",{$set:e||{},$set_once:t||{}}),this.Is=n):No.info("A duplicate setPersonProperties call was made with the same properties. It has been ignored.")}}group(e,t,n){if(e&&t){if(this.Hs("posthog.group")){var r=this.getGroups();r[e]!==t&&this.resetGroupPropertiesForFlags(e),this.register({$groups:Ri({},r,{[e]:t})}),n&&(this.capture("$groupidentify",{$group_type:e,$group_key:t,$group_set:n}),this.setGroupPropertiesForFlags({[e]:n})),r[e]===t||n||this.reloadFeatureFlags()}}else No.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(e,t){void 0===t&&(t=!0),this.featureFlags.setPersonPropertiesForFlags(e,t)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(e,t){void 0===t&&(t=!0),this.Hs("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(e,t)}resetGroupPropertiesForFlags(e){this.featureFlags.resetGroupPropertiesForFlags(e)}reset(e){var t,n,r,i;if(No.info("reset"),!this.__loaded)return No.uninitializedWarning("posthog.reset");var o=this.get_property("$device_id");if(this.consent.reset(),null==(t=this.persistence)||t.clear(),null==(n=this.sessionPersistence)||n.clear(),this.surveys.reset(),this.featureFlags.reset(),null==(r=this.persistence)||r.set_property(Fa,"anonymous"),null==(i=this.sessionManager)||i.resetSessionId(),this.Is=null,"always"===this.config.cookieless_mode)this.register_once({distinct_id:$a,$device_id:null},"");else{var a=this.config.get_device_id(zs());this.register_once({distinct_id:a,$device_id:e?a:o},"")}this.register({$last_posthog_reset:(new Date).toISOString()},1)}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var e,t;return null!==(e=null==(t=this.sessionManager)?void 0:t.checkAndGetSessionAndWindowId(!0).sessionId)&&void 0!==e?e:""}get_session_replay_url(e){if(!this.sessionManager)return"";var{sessionId:t,sessionStartTimestamp:n}=this.sessionManager.checkAndGetSessionAndWindowId(!0),r=this.requestRouter.endpointFor("ui","/project/"+this.config.token+"/replay/"+t);if(null!=e&&e.withTimestamp&&n){var i,o=null!==(i=e.timestampLookBack)&&void 0!==i?i:10;if(!n)return r;r+="?t="+Math.max(Math.floor(((new Date).getTime()-n)/1e3)-o,0)}return r}alias(e,t){return e===this.get_property(ta)?(No.critical("Attempting to create alias for existing People user - aborting."),-2):this.Hs("posthog.alias")?(qi(t)&&(t=this.get_distinct_id()),e!==t?(this.Ws(na,e),this.capture("$create_alias",{alias:e,distinct_id:t})):(No.warn("alias matches current distinct_id - skipping api call."),this.identify(e),-1)):void 0}set_config(e){var t=Ri({},this.config);if(Ui(e)){var n,r,i,o,a;Vo(this.config,xh(e));var s=this.Ms();null==(n=this.persistence)||n.update_config(this.config,t,s),this.sessionPersistence="sessionStorage"===this.config.persistence||"memory"===this.config.persistence?this.persistence:new Ed(Ri({},this.config,{persistence:"sessionStorage"}),s),Vs.G()&&"true"===Vs.J("ph_debug")&&(this.config.debug=!0),this.config.debug&&(Ii.DEBUG=!0,No.info("set_config",{config:e,oldConfig:t,newConfig:Ri({},this.config)})),null==(r=this.sessionRecording)||r.startIfEnabledOrStop(),null==(i=this.autocapture)||i.startIfEnabled(),null==(o=this.heatmaps)||o.startIfEnabled(),this.surveys.loadIfEnabled(),this.Gs(),null==(a=this.externalIntegrations)||a.startIfEnabledOrStop()}}startSessionRecording(e){var t,n,r,i,o,a=!0===e,s={sampling:a||!(null==e||!e.sampling),linked_flag:a||!(null==e||!e.linked_flag),url_trigger:a||!(null==e||!e.url_trigger),event_trigger:a||!(null==e||!e.event_trigger)};Object.values(s).some(Boolean)&&(null==(t=this.sessionManager)||t.checkAndGetSessionAndWindowId(),s.sampling&&(null==(n=this.sessionRecording)||n.overrideSampling()),s.linked_flag&&(null==(r=this.sessionRecording)||r.overrideLinkedFlag()),s.url_trigger&&(null==(i=this.sessionRecording)||i.overrideTrigger("url")),s.event_trigger&&(null==(o=this.sessionRecording)||o.overrideTrigger("event")));this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var e;return!(null==(e=this.sessionRecording)||!e.started)}captureException(e,t){var n=new Error("PostHog syntheticException"),r=this.exceptions.buildProperties(e,{handled:!0,syntheticException:n});return this.exceptions.sendExceptionEvent(Ri({},r,t))}loadToolbar(e){return this.toolbar.loadToolbar(e)}get_property(e){var t;return null==(t=this.persistence)?void 0:t.props[e]}getSessionProperty(e){var t;return null==(t=this.sessionPersistence)?void 0:t.props[e]}toString(){var e,t=null!==(e=this.config.name)&&void 0!==e?e:yh;return t!==yh&&(t=yh+"."+t),t}_isIdentified(){var e,t;return"identified"===(null==(e=this.persistence)?void 0:e.get_property(Fa))||"identified"===(null==(t=this.sessionPersistence)?void 0:t.get_property(Fa))}Bs(){var e,t;return!("never"===this.config.person_profiles||"identified_only"===this.config.person_profiles&&!this._isIdentified()&&Vi(this.getGroups())&&(null==(e=this.persistence)||null==(e=e.props)||!e[na])&&(null==(t=this.persistence)||null==(t=t.props)||!t[za]))}Us(){return!0===this.config.capture_pageleave||"if_capture_pageview"===this.config.capture_pageleave&&(!0===this.config.capture_pageview||"history_change"===this.config.capture_pageview)}createPersonProfile(){this.Bs()||this.Hs("posthog.createPersonProfile")&&this.setPersonProperties({},{})}Hs(e){return"never"===this.config.person_profiles?(No.error(e+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this.Ws(za,!0),!0)}Ms(){if("always"===this.config.cookieless_mode)return!0;var e=this.consent.isOptedOut(),t=this.config.opt_out_persistence_by_default||"on_reject"===this.config.cookieless_mode;return this.config.disable_persistence||e&&!!t}Gs(){var e,t,n,r,i=this.Ms();return(null==(e=this.persistence)?void 0:e.je)!==i&&(null==(n=this.persistence)||n.set_disabled(i)),(null==(t=this.sessionPersistence)?void 0:t.je)!==i&&(null==(r=this.sessionPersistence)||r.set_disabled(i)),i}opt_in_capturing(e){var t;"always"!==this.config.cookieless_mode?("on_reject"===this.config.cookieless_mode&&this.consent.isExplicitlyOptedOut()&&(this.reset(!0),this.sessionManager=new Jd(this),this.persistence&&(this.sessionPropsManager=new Kd(this,this.sessionManager,this.persistence)),this.sessionRecording=new Tu(this),this.sessionRecording.startIfEnabledOrStop()),this.consent.optInOut(!0),this.Gs(),"on_reject"==this.config.cookieless_mode&&this.surveys.loadIfEnabled(),(qi(null==e?void 0:e.captureEventName)||null!=e&&e.captureEventName)&&this.capture(null!==(t=null==e?void 0:e.captureEventName)&&void 0!==t?t:"$opt_in",null==e?void 0:e.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this.Ns()):No.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}opt_out_capturing(){var e;"always"!==this.config.cookieless_mode?("on_reject"===this.config.cookieless_mode&&this.consent.isOptedIn()&&this.reset(!0),this.consent.optInOut(!1),this.Gs(),"on_reject"===this.config.cookieless_mode&&(this.register({distinct_id:$a,$device_id:null}),this.sessionManager=void 0,this.sessionPropsManager=void 0,null==(e=this.sessionRecording)||e.stopRecording(),this.sessionRecording=void 0,this.Ns())):No.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}get_explicit_consent_status(){var e=this.consent.consent;return e===Js.GRANTED?"granted":e===Js.DENIED?"denied":"pending"}is_capturing(){return"always"===this.config.cookieless_mode||("on_reject"===this.config.cookieless_mode?this.consent.isExplicitlyOptedOut()||this.consent.isOptedIn():!this.has_opted_out_capturing())}clear_opt_in_out_capturing(){this.consent.reset(),this.Gs()}_is_bot(){return xi?ih(xi,this.config.custom_blocked_useragents):void 0}Ns(){_i&&("visible"===_i.visibilityState?this.Es||(this.Es=!0,this.capture("$pageview",{title:_i.title},{send_instantly:!0}),this.Ps&&(_i.removeEventListener("visibilitychange",this.Ps),this.Ps=null)):this.Ps||(this.Ps=this.Ns.bind(this),ea(_i,"visibilitychange",this.Ps)))}debug(e){!1===e?(null==mi||mi.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(null==mi||mi.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}L(){var e,t,n,r,i,o,a=this.Ts||{};return"advanced_disable_flags"in a?!!a.advanced_disable_flags:!1!==this.config.advanced_disable_flags?!!this.config.advanced_disable_flags:!0===this.config.advanced_disable_decide?(No.warn("Config field 'advanced_disable_decide' is deprecated. Please use 'advanced_disable_flags' instead. The old field will be removed in a future major version."),!0):(n="advanced_disable_decide",r=No,i=(t="advanced_disable_flags")in(e=a)&&!qi(e[t]),o=n in e&&!qi(e[n]),i?e[t]:!!o&&(r&&r.warn("Config field '"+n+"' is deprecated. Please use '"+t+"' instead. The old field will be removed in a future major version."),e[n]))}qs(e){if(Ki(this.config.before_send))return e;var t=Hi(this.config.before_send)?this.config.before_send:[this.config.before_send],n=e;for(var r of t){if(n=r(n),Ki(n)){var i="Event '"+e.event+"' was rejected in beforeSend function";return Zi(e.event)?No.warn(i+". This can cause unexpected behavior."):No.info(i),null}n.properties&&!Vi(n.properties)||No.warn("Event '"+e.event+"' has no properties after beforeSend function, this is likely an error.")}return n}getPageViewId(){var e;return null==(e=this.pageViewManager.fe)?void 0:e.pageViewId}captureTraceFeedback(e,t){this.capture("$ai_feedback",{$ai_trace_id:String(e),$ai_feedback_text:t})}captureTraceMetric(e,t,n){this.capture("$ai_metric",{$ai_trace_id:String(e),$ai_metric_name:t,$ai_metric_value:String(n)})}}!function(e,t){for(var n=0;n<t.length;n++)e.prototype[t[n]]=Qo(e.prototype[t[n]])}(kh,["identify"]);var Sh,Eh=(Sh=mh[yh]=new kh,function(){function e(){e.done||(e.done=!0,bh=!1,Uo(mh,function(e){e._dom_loaded()}))}null!=_i&&_i.addEventListener?"complete"===_i.readyState?e():ea(_i,"DOMContentLoaded",e,{capture:!1}):mi&&No.error("Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized")}(),Sh),Ch=(0,r.createContext)({client:Eh});function Ph(e,t,n){if(void 0===n&&(n=new WeakMap),e===t)return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;if(n.has(e)&&n.get(e)===t)return!0;n.set(e,t);var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(var o=0,a=r;o<a.length;o++){var s=a[o];if(!i.includes(s))return!1;if(!Ph(e[s],t[s],n))return!1}return!0}function Th(e){var t=e.children,n=e.client,i=e.apiKey,o=e.options,a=(0,r.useRef)(null),s=(0,r.useMemo)(function(){return n?(i&&console.warn("[PostHog.js] You have provided both `client` and `apiKey` to `PostHogProvider`. `apiKey` will be ignored in favour of `client`."),o&&console.warn("[PostHog.js] You have provided both `client` and `options` to `PostHogProvider`. `options` will be ignored in favour of `client`."),n):(i||console.warn("[PostHog.js] No `apiKey` or `client` were provided to `PostHogProvider`. Using default global `window.posthog` instance. You must initialize it manually. This is not recommended behavior."),Eh)},[n,i,JSON.stringify(o)]);return(0,r.useEffect)(function(){if(!n){var e=a.current;e?(i!==e.apiKey&&console.warn("[PostHog.js] You have provided a different `apiKey` to `PostHogProvider` than the one that was already initialized. This is not supported by our provider and we'll keep using the previous key. If you need to toggle between API Keys you need to control the `client` yourself and pass it in as a prop rather than an `apiKey` prop."),o&&!Ph(o,e.options)&&Eh.set_config(o),a.current={apiKey:i,options:null!==o&&void 0!==o?o:{}}):(Eh.__loaded&&console.warn("[PostHog.js] `posthog` was already loaded elsewhere. This may cause issues."),Eh.init(i,o),a.current={apiKey:i,options:null!==o&&void 0!==o?o:{}})}},[n,i,JSON.stringify(o)]),r.createElement(Ch.Provider,{value:{client:s}},t)}var Ih=function(e,t){return Ih=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Ih(e,t)};"function"===typeof SuppressedError&&SuppressedError;var Ah=function(e){return"function"===typeof e};var Mh={componentStack:null,exceptionEvent:null,error:null},Rh="[PostHog.js][PostHogErrorBoundary] Invalid fallback prop, provide a valid React element or a function that returns a valid React element.";!function(e){function t(t){var n=e.call(this,t)||this;return n.state=Mh,n}(function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Ih(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(t,e),t.prototype.componentDidCatch=function(e,t){var n,r=this.props.additionalProperties;Ah(r)?n=r(e):"object"===typeof r&&(n=r);var i=this.context.client.captureException(e,n),o=t.componentStack;this.setState({error:e,componentStack:o,exceptionEvent:i})},t.prototype.render=function(){var e=this.props,t=e.children,n=e.fallback,i=this.state;if(null==i.componentStack)return Ah(t)?t():t;var o=Ah(n)?r.createElement(n,{error:i.error,componentStack:i.componentStack,exceptionEvent:i.exceptionEvent}):n;return r.isValidElement(o)?o:(console.warn(Rh),r.createElement(r.Fragment,null))},t.contextType=Ch}(r.Component);Eh.init("phc_JSmD2sQX9Y5aJ4vwx214mFKaH200mWTSbMS87m8xts",{api_host:"https://eu.i.posthog.com",person_profiles:"identified_only",capture_pageview:!0,capture_pageleave:!0,capture_heatmaps:!0});i.createRoot(document.getElementById("root")).render((0,g.jsx)(r.StrictMode,{children:(0,g.jsx)(Th,{client:Eh,children:(0,g.jsx)(gi,{})})}))})()})();
//# sourceMappingURL=main.8237ac03.js.map